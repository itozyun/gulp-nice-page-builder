var aa = {xml:!0, svg:!0, math:!0}, ba = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, m = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, 
OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, 
DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, 
PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, 
CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, 
S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, 
BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
m.LI = m.TD = m.DD;
m.TH = m.DT;
m.RB = m.RP = m.RT = m.P;
m.TFOOT = m.THEAD = m.TBODY;
m.RTC = m.RBC;
var I = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function ea(a, b) {
  var c = 0;
  function d() {
    c && (fa(b, f(a.substring(0, c))), a = a.substring(c), c = 0);
  }
  function f(D) {
    return D.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&");
  }
  function e(D, E, y) {
    for (var G = 0, v = y.length, q = 3, k, F; q < v && 2 !== G;) {
      F = y.charAt(q);
      switch(G) {
        case 0:
          I[F] & 4 ? G = 1 : ">" === F && (G = 2);
          G && (k = y.substring(2, q));
          break;
        case 1:
          ">" === F && (G = 2);
      }
      ++q;
    }
    return 2 === G ? (ca[k] || l(D, E, h || r ? k : k.toUpperCase(), !1), q) : 0;
  }
  function l(D, E, y, G) {
    var v = 0, q = D.length;
    if (y) {
      for (v = q; 0 <= v && D[--v] !== y;) {
      }
    }
    if (0 <= v) {
      for (; v < q;) {
        ha(E, D[--q], G && !m[D[q]], !1), h && aa[D[q]] && (h = !!E.ia);
      }
      D.length = v;
      if (r) {
        for (r = !1, q = v; q;) {
          if (0 < D[--q].indexOf(":")) {
            r = !0;
            break;
          }
        }
      }
    } else {
      ha(E, y, !1, !0);
    }
  }
  function g(D, E, y, G) {
    function v(R, K) {
      function C(Xa) {
        return f(Xa).split('\\"').join('"').split("\\'").join("'");
      }
      t[R] = !0 === K ? !0 : ba[R.toLowerCase()] ? h ? C(K || R) : !0 : C(K || "");
      ++A;
    }
    function q() {
      (z = "/>" === G.substr(p, 2)) && ++p;
      return z;
    }
    for (var k = 1, F = G.length, p = 2, t = {}, A = 0, z = !1, w, u, J, Q, L, O; p < F && 9 > k;) {
      w = G.charAt(p);
      switch(k) {
        case 1:
          if (I[w] & 4) {
            k = 2, u = G.substring(1, p);
          } else if (">" === w || q()) {
            k = 9, u = G.substring(1, p);
          }
          break;
        case 2:
          ">" === w || q() ? k = 9 : I[w] & 4 || (k = 3, J = p);
          break;
        case 3:
          if ("=" === w) {
            k = 5, Q = G.substring(J, p);
          } else if (I[w] & 4) {
            k = 4, Q = G.substring(J, p);
          } else if (">" === w || q()) {
            k = 9, v(G.substring(J, p), !0);
          }
          break;
        case 4:
          "=" === w ? k = 5 : ">" === w || q() ? (k = 9, v(Q, !0)) : I[w] & 4 || (k = 3, v(Q, !0), J = p);
          break;
        case 5:
          '"' === w || "'" === w ? (k = 6, L = w, J = p + 1) : I[w] & 4 || (k = 7, J = p);
          O = !1;
          break;
        case 6:
          O || w !== L || (k = 2, v(Q, G.substring(J, p)));
          O = "\\" === w && !O;
          break;
        case 7:
          I[w] & 4 ? k = 2 : ">" === w && (k = 9), 7 !== k && v(Q, G.substring(J, p));
      }
      ++p;
    }
    if (9 === k) {
      k = u.toUpperCase();
      h ||= !!aa[u];
      r ||= 0 < u.indexOf(":");
      if (!h && !r) {
        for (; E;) {
          if (m[E] && !m[E][k]) {
            l(D, y, E, !1), E = D[D.length - 1];
          } else {
            break;
          }
        }
      }
      (z = z || !!ca[k]) || (D[D.length] = h || r ? u : k);
      ia(y, h || r ? u : k, A ? t : null, z);
      return p;
    }
    return 0;
  }
  for (var n = [], h = !!b.ia, r = !1, H = a.length - c, B, x; a;) {
    B = n[n.length - 1];
    if (da[B]) {
      if ("PLAINTEXT" === B || "plaintext" === B) {
        fa(b, f(a)), a = "";
      } else {
        if (x = a.indexOf("</" + (h || r ? B : B.toLowerCase())), -1 === x && (x = a.indexOf("</" + (h || r ? B.toUpperCase() : B))), 0 <= x) {
          if (c = x, d(), B = e(n, b, a)) {
            a = a.substring(B);
          } else {
            M(b, a);
            return;
          }
        } else {
          M(b, a);
          return;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === c) {
      if (d(), x = a.indexOf(">"), -1 !== x) {
        ja(b, a.substring(c, x + 1)), a = a.substring(x + 1);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("<?") === c) {
      if (d(), x = a.indexOf("?>"), -1 !== x) {
        ka(b, f(a.substring(2, x))), a = a.substring(x + 2);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === c) {
      if (d(), x = a.indexOf("]]\x3e"), -1 !== x) {
        la(b, f(a.substring(9, x))), a = a.substring(x + 3);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("\x3c!--") === c) {
      if (d(), x = a.indexOf("--\x3e"), -1 !== x) {
        ma(b, f(a.substring(4, x))), a = a.substring(x + 3);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("</") === c && I[a.charAt(c + 2)] & 3) {
      if (d(), B = e(n, b, a)) {
        a = a.substring(B);
      } else {
        M(b, a);
        return;
      }
    } else if ("<" === a.charAt(c) && I[a.charAt(c + 1)] & 3) {
      if (d(), B = g(n, B, b, a)) {
        a = a.substring(B);
      } else {
        M(b, a);
        return;
      }
    } else {
      x = a.indexOf("<", c), -1 === x ? (fa(b, f(a)), a = "") : c < x ? c = x : ++c;
    }
    B = a.length - c;
    if (B === H) {
      M(b, a);
      return;
    }
    H = B;
  }
  d();
  l(n, b, "", !0);
}
;var na = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, oa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, pa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, qa = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, ra = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, sa = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function N(a) {
  return !(!a || a.pop !== [].pop);
}
function P(a) {
  return !(!a || "object" !== typeof a);
}
function S(a) {
  return "" + a === a;
}
function T(a) {
  return S(a) || a === +a;
}
function ta(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0 ? +a : a;
}
function ua(a) {
  if (T(a)) {
    a = 3;
  } else {
    if (N(a)) {
      if (S(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function va(a) {
  return !N(a) && P(a);
}
function wa(a, b, c, d, f) {
  var e = b[1], l = b.slice(2), g;
  "function" === typeof a ? g = l.length ? a(e, l) : a(e) : g = l.length ? a[e].apply(null, l) : a[e]();
  void 0 !== g && null !== g && "" !== g && (T(g) ? c ? c.splice(d, 1, g) : (b.length = 0, b.push(3, b)) : N(g) ? 11 === g[0] ? c ? (g.shift(), g.unshift(d, 1), c.splice.apply(c, g)) : (b.length = 0, b.push.apply(b, g)) : N(g[0]) ? c ? (g.unshift(d, 1), c.splice.apply(c, g)) : (b.length = 0, b.push(11), b.push.apply(b, g)) : c ? c.splice(d, 1, g) : (b.length = 0, b.push(11, g)) : f("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(b) + "]"));
  return g;
}
function xa(a, b, c, d, f) {
  var e;
  if (N(d) && S(d[0])) {
    var l = d[0];
    d = d.slice(1);
    "function" === typeof b ? e = d.length ? b(l, d) : b(l) : e = d.length ? b[l](d) : b[l]();
  } else {
    S(d) ? "function" === typeof b ? e = b(d) : e = b[d]() : f("Invalid InstructionAttr value! [" + c + "=" + d + "]");
  }
  return a && N(e) ? xa(!0, b, c, e, f) : e;
}
function ya(a, b, c) {
  a = za(a, !0);
  var d;
  Aa = a;
  b && (b.ca ? b.ca.push(a) : b.ca = [a]);
  if (N(c)) {
    var f = Ba(a);
    b = 0;
    for (d = c.length; b < d; b += 2) {
      var e = c[b];
      var l = c[b + 1];
      if (e === +e) {
        if (e === a.$ && !0 === l(a)) {
          break;
        }
      } else if (f && S(e) && e === a.pa && !0 === l(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function Ca(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function Da(a, b, c) {
  a = Ca("" + a);
  var d = a.match('"'), f = a.match("'"), e = b ? "'" : '"';
  d && f ? a = b ? e + a.split("'").join("\\'") + e : e + a.split('"').join('\\"') + e : d ? a = "'" + a + "'" : f ? a = b ? e + a.split("'").join("\\'") + e : e + a + e : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = e + a + e : "" === a && (a = e + e);
  return a;
}
function U(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  return 1 === ua(a) || 17 === b ? va(a[c]) ? c + 1 : c : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function Ea(a) {
  var b = U(a), c = "", d;
  if (b < a.length) {
    for (d = b; d < a.length;) {
      b = a[d];
      var f = ua(b);
      3 === f ? (c = T(b) ? c + b : c + b[1], a.splice(d, 1)) : (c && (a.splice(d, 0, ta(c)), c = ""), ++d, 1 !== f && 17 !== f && 13 !== f && 16 !== f || Ea(b));
    }
    c && (a[d] = ta(c));
  }
}
function Fa(a, b, c, d, f, e) {
  if (!b && d) {
    if (c) {
      a = Ga(Ha(a, "\n"), "\n");
    } else {
      a = a.split("\r\n").join("\n");
      e && (a = a.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
      for (a = a.split("\t").join(" "); 0 <= a.indexOf("\n\n");) {
        a = a.split("\n\n").join("\n");
      }
      if (f) {
        var l = "\n" === a.charAt(0) && /\n[ ]*$/.test(a);
      }
      a = Ga(a, "\n");
      for (a = a.split("\n").join(" "); 0 <= a.indexOf("  ");) {
        a = a.split("  ").join(" ");
      }
      l && (a = Ga(Ha(a, " "), " "));
      a = a.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    }
  }
  return ta(a);
}
function Ha(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Ga(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function Ia(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), d = "", f = "";
  b < c ? (d = a.split(".")[1], a = a.split(".")[0], 0 < b && (f = a.split("#")[1], a = a.split("#")[0])) : c < b && (f = a.split("#")[1], a = a.split("#")[0], 0 < c && (d = a.split(".")[1], a = a.split(".")[0]));
  return [a, f, d];
}
function Ja(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function Ka(a) {
  var b = [], c = -1, d;
  for (d in a) {
    var f = a[d];
    "0px" === f && (f = 0);
    for (var e = ++c, l, g = [], n = d.split(""), h = n.length; h;) {
      l = n[--h], "A" <= l && "Z" >= l && (l = "-" + l.toLowerCase()), g[h] = l;
    }
    l = g.join("");
    b[e] = l + ":" + Ca("" + f);
  }
  return b.join(";").substr(1);
}
function La(a, b) {
  function c(f) {
    var e = f[0], l = f[1], g = e, n = 1;
    switch(e) {
      case 9:
      case 11:
      case 13:
      case 16:
        return d(f);
      case 7:
        return !0;
      case 1:
      case 17:
        g = l, n = 2;
      default:
        if (S(g)) {
          if (e = va(f[n])) {
            a: {
              n = f[n];
              for (var h in n) {
                if (0 === h.indexOf(b)) {
                  e = !0;
                  break a;
                }
              }
              e = !1;
            }
          }
          return e ? !0 : d(f);
        }
    }
    return !1;
  }
  function d(f) {
    for (var e = U(f), l = f.length, g; e < l; ++e) {
      if (g = f[e], N(g) && c(g)) {
        return !0;
      }
    }
    return !1;
  }
  return !c(a);
}
function za(a, b) {
  function c(f, e) {
    function l(B, x, D) {
      return g ? V(g, B, x, D) : new Ma(b, 0, B, x, D);
    }
    var g = e === !!e ? null : e;
    e = f[0];
    var n = f[1], h = 1, r = e;
    switch(e) {
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return l(e, n);
      case 15:
        return l(e);
      case 7:
        var H = [];
        h = 2;
        for (r = f.length; h < r; ++h) {
          H[h - 2] = f[h];
        }
        return l(e, n, r ? H : null);
      case 9:
      case 13:
      case 16:
        H = l(e, n);
        break;
      case 11:
        H = l(e);
        break;
      case 1:
      case 17:
        r = n, h = 2;
      default:
        S(r) && (H = l(1 === h ? 1 : e, r, f[h]));
    }
    b || d(f, H);
    return H;
  }
  function d(f, e) {
    for (var l = U(f), g; l < f.length; ++l) {
      g = f[l], T(g) ? V(e, 3, g) : N(g) && c(g, e);
    }
  }
  return c(a, b);
}
;function Ma(a, b, c, d, f) {
  if (a === !!a) {
    var e = null;
    this.ba = a;
  } else {
    e = a, this.ba = e.ba;
  }
  if (e) {
    switch(e.$) {
      case 3:
      case 8:
      case 4:
      case 7:
      case 15:
      case 18:
        throw "nodeType:" + e.$ + " \u306f\u89aa\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
    if (Na(this)) {
      throw "nodeType:" + e.$ + " \u306f\u5b50\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  this.ia = e;
  this.$ = c;
  if (e) {
    if (e.ca || (e.ca = []), a = e.ca, 0 <= b && b < a.length) {
      if (1 <= b && 17 === a[b - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.splice(b, 0, this);
    } else {
      if (a.length && 17 === a[a.length - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.push(this);
    }
  }
  switch(c) {
    case 1:
    case 17:
      this.Aa = f || null;
    case 18:
      this.pa = d;
      break;
    case 7:
      this.Na = f || null;
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.oa = d;
  }
}
var Aa = null, W = !1;
Ma.prototype.ka = function() {
  if (this.ba) {
    throw "restricted mode \u3067\u306f getHTMLJSON() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = [this.$], b = this.ca, c;
  switch(this.$) {
    case 1:
      a.length = 0;
    case 17:
      a.push(this.pa);
      var d = this.Aa;
      va(d) && (a.push(d), d.style && P(d.style) && (d.style = Ka(d.style)));
      break;
    case 18:
      a[1] = this.pa;
      break;
    case 7:
      if (d = this.Na) {
        var f = 0;
        for (c = d.length; f < c; ++f) {
          a[2 + f] = d[f];
        }
      }
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      a[1] = this.oa;
  }
  if (b) {
    for (f = 0, c = b.length; f < c; ++f) {
      a.push(b[f].ka());
    }
  }
  return a;
};
function X(a) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.oa;
    default:
      throw "getNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Oa(a, b) {
  if (a.ba && !Pa(a)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e setNodeValue() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.oa !== b && (W = !0);
      a.oa = b;
      break;
    default:
      throw "setNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Ba(a) {
  return 1 === a.$ || 17 === a.$;
}
function Qa(a) {
  if (!Ba(a) && 18 !== a.$) {
    throw "getTagName() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.pa;
}
function Y(a) {
  if (!Ra(a)) {
    throw "getChildNodeCount() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeCount() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca.length;
}
function Sa(a, b) {
  if (!Ra(a)) {
    throw "getChildNodeAt() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca[b] || null;
}
Ma.prototype.remove = function() {
  if (Na(this)) {
    throw "remove() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba && !Pa(this)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e discard() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (this.ba) {
    return this.Oa = W = !0, null;
  }
  if (Na(this)) {
    throw "getMyIndex() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba) {
    throw "restricted mode \u3067\u306f getMyIndex() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = this.ia ? this.ia.ca.indexOf(this) : -1;
  0 <= a && (this.ia.ca.splice(a, 1), this.ia = null, W = !0);
};
function V(a, b, c, d) {
  if (a.ba && (!Pa(a) || !Ra(a))) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertNodeLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (a.ba) {
    return a.ha = a.ha || [], a.ha.push([b, c, d]), W = !0, null;
  }
  var f = Y(a);
  if (a.ba) {
    throw "restricted mode \u3067\u306f insertNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  W = !0;
  return new Ma(a, f, b, c, d);
}
function Ra(a) {
  return 1 === a.$ || 17 === a.$ || 13 === a.$ || 16 === a.$ || Na(a);
}
function Na(a) {
  return 9 === a.$ || 11 === a.$;
}
function Pa(a) {
  return a === Aa && !a.Oa;
}
;function Ta(a, b, c, d) {
  function f(p, t, A, z) {
    switch(p.$) {
      case 1:
      case 17:
        var w = {};
        z = Qa(p);
        var u = !!sa[z];
        var J = p.Aa, Q = 0, L;
        if (J) {
          for (L in J) {
            var O = ba[L] ? 1 : J[L];
            if ("id" === L) {
              var R = O;
            } else if ("class" === L) {
              var K = O;
            } else {
              if (L.startsWith(v)) {
                var C = e(O);
                C.na ? (O = [C.qa], H.apply(O, C.na)) : O = C.qa;
              }
              w[L] = ta(O);
              ++Q;
            }
          }
        }
        z = Ja(z, R, K);
        if (u && B) {
          for (; C = g(p);) {
            if (h(X(C))) {
              Oa(C, Ha(X(C), "\n"));
              break;
            } else {
              C.remove();
            }
          }
          for (; C = n(p);) {
            if (h(X(C))) {
              Oa(C, Ga(X(C), "\n"));
              break;
            } else {
              C.remove();
            }
          }
        }
        w = Q ? [z, w] : [z];
        for (C = 0; C < Y(p); ++C) {
          f(Sa(p, C), w, u || A, !!ra[z]);
        }
        t.push(w);
        17 !== p.$ || w.unshift(17);
        break;
      case 18:
        t.push([18, Qa(p)]);
        break;
      case 3:
        (u = Fa("" + X(p), A, z, B, x, D)) && t.push(u);
        break;
      case 4:
        E && (u = X(p), t.push([4, ta(u)]));
        break;
      case 7:
        u = X(p);
        C = e(u);
        w = [7, C.qa];
        C.na && H.apply(w, C.na);
        t.push(w);
        break;
      case 8:
        u = X(p);
        if (u.startsWith("[if") && 0 < u.indexOf("<![endif]")) {
          p = Ua(l(u, ">", "<![endif]", !0), !0, c);
          w = [13, l(u, "[", "]", !1)];
          for (C = 0; C < Y(p); ++C) {
            f(Sa(p, C), w, A, z);
          }
          (2 < w.length || G) && t.push(w);
        } else if (u.startsWith("{") && 2 < u.indexOf("};")) {
          p = Ua(u.substring(u.indexOf("};") + 2), !0, c);
          w = [16, l(u, "{", "};", !1)];
          for (C = 0; C < Y(p); ++C) {
            f(Sa(p, C), w, A, z);
          }
          (2 < w.length || G) && t.push(w);
        } else {
          u.startsWith("[if") && 0 < u.indexOf("><!") ? (t.push([14, l(u, "[", "]", !1)]), F = !0) : "<![endif]" === u && F ? (A = t[t.length - 1], G || !A || 14 !== A[0] ? t.push([15]) : A && t.pop(), F = !1) : y && t.push([8, ta(u)]);
        }
        break;
      case 9:
        u = X(p);
        B && (u = u.split("\n").join(" ").split("  ").join(" "));
        w = [9, u];
        t.push(w);
        for (C = 0; C < Y(p); ++C) {
          f(Sa(p, C), w, !1, !1);
        }
        break;
      case 11:
        for (w = [11], t.push(w), C = 0; C < Y(p); ++C) {
          f(Sa(p, C), w, A, z);
        }
    }
  }
  function e(p) {
    var t = p.indexOf(q), A = p.lastIndexOf(k), z = Ga(Ha(-1 === t ? p : p.substr(0, t), " "), " ");
    p = -1 === t ? [] : JSON.parse("[" + p.substring(t + q.length, A) + "]");
    return p.length ? {qa:z, na:p} : {qa:z};
  }
  function l(p, t, A, z) {
    t = p.indexOf(t) + t.length;
    A = z ? p.lastIndexOf(A) : p.indexOf(A, t);
    return p.substring(t, A);
  }
  function g(p) {
    for (var t = 0, A = Y(p), z; t < A; ++t) {
      if (z = Sa(p, t), Ba(z) && (z = g(z)), z && 3 === z.$) {
        return z;
      }
    }
  }
  function n(p) {
    for (var t = Y(p), A; t;) {
      if (A = Sa(p, --t), Ba(A) && (A = n(A)), A && 3 === A.$) {
        return A;
      }
    }
  }
  function h(p) {
    return p.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const r = [], H = r.push;
  a = Ua(a, b, c);
  d = d || {};
  const B = -1 === ["none", !1].indexOf(d.trimWhitespaces), x = "aggressive" === d.trimWhitespaces, D = !!d.removeNewlineBetweenFullWidthChars, E = !0 === d.keepCDATASections, y = !0 === d.keepComments, G = !0 === d.keepEmptyConditionalComment, v = d.instructionAttrPrefix || ":";
  d = d.argumentBrackets || "()";
  const q = d.substr(0, d.length / 2), k = d.substr(d.length / 2);
  let F = !1;
  f(a, r, !1, !1);
  Ea(r[0]);
  return r[0];
}
function Ua(a, b, c) {
  b = new Va(b, c);
  ea(a, b);
  return b.ca;
}
function Va(a, b) {
  this.ha = a;
  this.$ = this.ca = new Ma(!1, 0, 11);
  this.ba = b;
}
function M(a, b) {
  if (a.ba) {
    a.ba(b);
  } else {
    throw "Handler.prototype.onParseError: error!" + b;
  }
}
function ja(a, b) {
  var c = a.ca;
  if (c.ba) {
    throw "restricted mode \u3067\u306f setNodeType() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (11 !== c.$) {
    throw "nodeType \u306e\u5909\u66f4\u306f DOCUMENT_FRAGMENT_NODE -> DOCUMENT_NODE \u3060\u3051\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059!";
  }
  9 !== c.$ && (W = !0);
  c.$ = 9;
  Oa(a.ca, b);
}
function ia(a, b, c, d) {
  if (d) {
    a = a.$;
    if (a.ba && (!Pa(a) || !Ra(a))) {
      throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertElementLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
    }
    if (a.ba) {
      a.ha = a.ha || [], a.ha.push([1, b, c, void 0]);
    } else {
      d = Y(a);
      if (a.ba) {
        throw "restricted mode \u3067\u306f insertElementAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      new Ma(a, d, 1, b, c);
    }
    W = !0;
  } else {
    a.$ = V(a.$, 17, b, c);
  }
}
function ha(a, b, c, d) {
  if (d) {
    a.ha && V(a.$, 18, b);
  } else if (!c || !a.ha) {
    if (b === Qa(a.$)) {
      b = a.$;
      if (b.ba) {
        throw "restricted mode \u3067\u306f finalize() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      if (17 !== b.$) {
        throw "finalize() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      1 !== b.$ && (W = !0);
      b.$ = 1;
      b = a.$;
      if (Na(b)) {
        throw "getParent() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      if (b.ba && !Pa(b)) {
        throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e getParent() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      a.$ = b.ia;
    } else {
      if (a.ba) {
        a.ba("End tag error! " + b);
      } else {
        throw "Handler.prototype.onParseEndTag: End tag error! " + b;
      }
    }
  }
}
function fa(a, b) {
  V(a.$, 3, b.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;"));
}
function ma(a, b) {
  V(a.$, 8, b);
}
function la(a, b) {
  V(a.$, 4, b);
}
function ka(a, b) {
  V(a.$, 7, b);
}
;function Wa(a) {
  a && (a = Ya(a), this.$ = a + ("/" === a.charAt(a.length - 1) ? "" : "/"));
}
function Za(a) {
  a = a.split("index.html");
  a[a.length - 1] || a.pop();
  return a.join("index.html");
}
function $a(a, b) {
  if (!a.$) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  return 0 === b.indexOf(a.$);
}
function Ya(a) {
  return a.split("\\").join("/");
}
function ab(a, b, c) {
  if ($a(a, c) || "/" === c.charAt(0)) {
    b = c;
  } else {
    if ("/" !== b.charAt(0)) {
      throw b + " is not a root relative path!";
    }
    var d;
    (d = "/" === c.charAt(0)) || (d = a.$ ? $a(a, c) || bb(c) : bb(c));
    if (d) {
      throw c + " is not a relative path!";
    }
    c = a = c;
    d = b.split("/");
    d.pop();
    "" === d[0] && d.shift();
    for ("./" === a.substr(0, 2) && (a = a.substr(2)); "../" === a.substr(0, 3);) {
      if (a = a.substr(3), --d.length, !d.length) {
        throw "Failed _relativePathToRootRelativePath! base:" + b + " target:" + c;
      }
    }
    b = "/" + d.join("/") + "/" + a;
  }
  return b;
}
function bb(a) {
  return "//" === a.substr(0, 2) || "http://" === a.substr(0, 7) || "https://" === a.substr(0, 8);
}
;Z.da = {};
Z.aa = {};
Z.da.ea = !0;
Z.aa.ka = function(a) {
  a = a[cb];
  if (Z.da.ea && !N(a)) {
    throw "Not html.json! " + JSON.stringify(a);
  }
  return a;
};
Z.aa.sa = function(a) {
  a = Z.aa.ka(a)[0];
  return !N(a) && P(a) ? a : null;
};
Z.aa.la = function(a) {
  var b = a[0];
  return N(a) && !N(b) && P(b);
};
Z.aa.ta = function(a) {
  return !N(a) && P(a) ? !!a.TEMPLETE : Z.aa.la(a) ? a[0].TEMPLETE || !1 : !1;
};
Z.aa.ra = function(a) {
  return !N(a) && P(a) ? !!a.MIXINS : Z.aa.la(a) ? a[0].MIXINS || !1 : !1;
};
Z.aa.Fa = function(a, b, c, d, f) {
  function e(h) {
    if (h) {
      for (let r = 0; r < h.length; ++r) {
        const H = d[h[r]];
        l(H[db], H[eb], !1);
      }
    }
  }
  function l(h, r, H) {
    let B = 0;
    for (const x in h) {
      if (Z.da.ea && !H && "MIXINS" === x) {
        throw "Mixin has MIXINS property!";
      }
      "TEMPLETE" === x ? (g = g || h[x], g === h[x] && ++B) : void 0 === a[x] && (a[x] = h[x], ++B);
    }
    (B || H) && n < r && (n = r);
  }
  if (Z.aa.ta(a) && !c) {
    if (f) {
      f(a.FILE_PATH + " has TEMPLETE property, and no templetes found!");
      return;
    }
    if (Z.da.ea) {
      throw a.FILE_PATH + " has TEMPLETE property, and no templetes found!";
    }
  }
  if (Z.aa.ra(a) && !d) {
    if (f) {
      f(a.FILE_PATH + " has MIXINS property, and no mixins found!");
      return;
    }
    if (Z.da.ea) {
      throw a.FILE_PATH + " has MIXINS property, and no mixins found!";
    }
  }
  let g = a.TEMPLETE, n = a.MODIFIED_AT;
  e(a.MIXINS);
  for (g && (b[0] = g); g;) {
    const h = c[g];
    if (Z.da.ea && !h) {
      throw "Templete: " + g + " required by " + a.FILE_PATH + " not found!";
    }
    const r = Z.aa.sa(h);
    if (r) {
      if (Z.aa.ra(r) && !d) {
        if (f) {
          f(g + " has MIXINS property, and no mixins found!");
          return;
        }
        if (Z.da.ea) {
          throw g + " has MIXINS property, and no mixins found!";
        }
      }
      g = "";
      l(r, h[eb], !0);
      e(r.MIXINS);
      g && b.push(g);
    } else {
      g = "";
    }
  }
  a.UPDATED_AT = n;
};
Z.aa.Ca = function(a) {
  let b = Ya(a).split(".json");
  if (Z.da.ea && b[b.length - 1]) {
    throw a + " is not .json file path!";
  }
  b.pop();
  b = b.join(".json").split("/");
  return b.pop().split(".").pop();
};
Z.aa.Ma = function(a) {
  return fb(a, function(b, c) {
    return ("SCRIPT" === b || "script" === b) && c && ("application/ld+json" === c.type || "application/json" === c.type || "nice-page-builder/object" === c.type) || !1;
  });
};
Z.aa.Ba = function(a, b) {
  return fb(a, function(c) {
    return "SLOT" === c || "slot" === c;
  }, b);
};
function fb(a, b, c) {
  function d(l) {
    let g = U(l), n = l.length;
    for (var h; g < n; ++g) {
      var r = l[g], H;
      if (H = N(r)) {
        a: {
          h = r;
          H = l;
          r = g;
          var B = h[0];
          const x = h[1];
          let D = B, E = 1;
          switch(B) {
            case 9:
            case 11:
            case 13:
            case 16:
              h = d(h);
              break a;
            case 1:
            case 17:
              D = x, E = 2;
            default:
              if (S(D)) {
                B = h[E];
                h = b(D, va(B) ? B : null) ? [h, H, r] : d(h);
                break a;
              }
          }
          h = void 0;
        }
        H = h;
      }
      if (H) {
        return h;
      }
    }
  }
  let f = a[0], e;
  return !N(f) && P(f) ? (a.shift(), e = d(a), !c && (a.unshift(f), e && e[1] === a) ? [e[0], a, ++e[2]] : e) : d(a);
}
;Z.Pa = {};
Z.Ta = {};
Z.Ra = {};
Z.Sa = {};
Z.Qa = {};
var gb = !1, hb = !1, ib = !1, jb = !1, cb = 0, db = 0, eb = 2;
function Z(a) {
  a = Z.ua(a);
  gb && (a.html2json = gb);
  hb && (a.generator = hb);
  ib && (a.json2json = ib);
  jb && (a.json2html = jb);
  return a;
}
Z.La = function(a) {
  return JSON.parse(JSON.stringify(a));
};
Z.ua = function(a) {
  a = a || {};
  const b = require("path").resolve(a.srcRootPath || "./") + "/", c = new Wa(b), d = a.allPagesPath && ab(c, "/", a.allPagesPath), f = a.allPageOptionsPath && ab(c, "/", a.allPageOptionsPath), e = ab(c, "/", a.allMixinsPath || "all-mixins.json"), l = ab(c, "/", a.allTempletesPath || "all-templetes.json");
  return {Ga:Ya(b), wa:d || "", va:f || "", Ha:e, Ja:l, Ea:Z.aa.Ca(l), Da:Z.aa.Ca(e), ga:a.mixins || null, fa:a.templetes || null, Ia:a.allPageOptions || null, Ua:{}, ja:{}, path:c};
};
Z.ma = function(a, b) {
  return b.bind(a);
};
Z.za = function(a, b, c) {
  if (c) {
    a = new kb(a, b.FILE_PATH);
    var d;
    if ("function" === typeof c) {
      return Z.ma(a, c);
    }
    b = {};
    for (d in c) {
      b[d] = Z.ma(a, c[d]);
    }
    return b;
  }
};
Z.xa = function(a, b, c) {
  if (c) {
    a = new kb(a, b.FILE_PATH);
    var d;
    if ("function" === typeof c) {
      return Z.ma(a, c);
    }
    var f = [];
    b = 0;
    for (d = c.length; b < d; b += 2) {
      f[b] = c[b], f[b + 1] = Z.ma(a, c[b + 1]);
    }
    return f;
  }
};
Z.Ka = function(a, b, c) {
  if (c) {
    return a = new kb(a, b.FILE_PATH), c.bind(a);
  }
};
Z.ya = function(a, b, c) {
  if (c) {
    return a = new kb(a, b.FILE_PATH), c.bind(a);
  }
};
function kb(a, b) {
  this.path = a.path;
  this.ja = a.ja;
  Za(b);
}
;Z.html2json = !0;
gb = function(a, b, c, d) {
  a = Ta(a, b, c, d);
  if (b = Z.aa.Ma(a)) {
    c = b[0], b[1].splice(b[2], 1), c && 3 === c.length && (b = JSON.parse(c[2]), !N(b) && P(b) && a.unshift(b));
  }
  return a;
};
function lb(a, b) {
  const c = this, d = require("plugin-error"), f = require("vinyl"), e = require("through2"), l = {}, g = c.fa = c.fa || {}, n = c.ga = c.ga || {};
  return e.obj(function(h, r, H) {
    var B = Ya(h.path);
    if (h.isNull()) {
      return H();
    }
    if (h.isStream()) {
      return this.emit("error", new d("NicePageBuilder.gulp.html2json", "Streaming not supported")), H();
    }
    if (0 !== B.indexOf(c.Ga)) {
      return this.emit("error", new d("NicePageBuilder.gulp.html2json", '"' + B + '" is outside of srcRootPath:"' + c.Ga + '"')), H();
    }
    const x = h.contents.toString(r);
    r = parseInt(h.stat.birthtimeMs, 10);
    const D = parseInt(h.stat.ctimeMs, 10);
    var E = c.path;
    if (!E.$) {
      throw "absoluteDirectoryPathOfRoot is empty!";
    }
    if (!$a(E, B)) {
      throw B + " is not a absolute path!";
    }
    B = Ya(B).substr(E.$.length - 1);
    switch(h.extname) {
      case ".html":
      case ".htm":
      case ".xhtml":
      case ".php":
        h = gb.call(c, x, !1, a, b);
        l[B] = [h, r, D];
        break;
      case ".json":
        h = JSON.parse(x);
        P(h) && (n[B] = [h, r, D]);
        break;
      default:
        this.push(h);
    }
    H();
  }, function(h) {
    function r(q, k, F) {
      if (k) {
        for (let p = 0, t = k.length; p < t; ++p) {
          const A = ab(c.path, q, k[p]), z = n[A];
          k[p] = A;
          if (z) {
            const w = z[db];
            F || H(A, w.TEMPLETE, w);
            z.length === eb + 1 && (z.push(!0), w.MIXINS && (Z.da.ea && console.log('Mixin:"' + A + '" cannot have MIXINS property!'), delete w.MIXINS));
          } else if (Z.da.ea) {
            throw 'Mixin:"' + A + '" required by "' + q + '" does not exist!';
          }
        }
      }
    }
    function H(q, k, F) {
      for (; k;) {
        const p = ab(c.path, q, k), t = l[p];
        if (t) {
          if (delete l[p], g[p] = t, F.TEMPLETE = q = p, F = Z.aa.sa(t)) {
            r(q, F.MIXINS, !!F.TEMPLETE), k = F.TEMPLETE;
          } else {
            break;
          }
        } else if (g[p]) {
          F.TEMPLETE = p;
          break;
        } else if (Z.da.ea) {
          throw 'Templete:"' + p + '" required by "' + q + '" does not exist!';
        }
      }
    }
    function B(q, k) {
      q = new f({base:"/", path:q, contents:Buffer.from(JSON.stringify(k))});
      q.extname = ".json";
      v.push(q);
    }
    for (var x in l) {
      var D = l[x], E = Z.aa.sa(D);
      E && (r(x, E.MIXINS, !!E.TEMPLETE), H(x, E.TEMPLETE, E), l[x] && D.push(!0));
    }
    for (var y in n) {
      x = n[y], x.length === eb + 1 ? (Z.da.ea && console.log("Unused mixin found! " + y), delete n[y]) : x.pop();
    }
    for (var G in l) {
      y = l[G], x = Z.aa.ka(y), y.length === eb + 1 && Z.aa.Ba(x, !1) && (Z.da.ea && console.log("Unused templete found! " + G), delete l[G]);
    }
    const v = this;
    G = {};
    y = {};
    B(c.Ha, n);
    B(c.Ja, g);
    for (const q in l) {
      x = l[q];
      D = Za(q);
      delete l[q];
      E = x[cb];
      let k = E[0];
      k = !N(k) && P(k) ? k : {};
      k.FILE_PATH = q;
      k.CREATED_AT = x[1];
      k.MODIFIED_AT = x[eb];
      k !== E[0] && E.unshift(k);
      B(q + ".json", E);
      delete k.FILE_PATH;
      G[D] = E;
      y[D] = k;
    }
    c.wa && B(c.wa, G);
    c.Ia = y;
    c.va && B(c.va, y);
    h();
  });
}
;Z.generator = !0;
hb = function(a, b, c) {
  if (!Z.aa.la(a)) {
    return a;
  }
  const d = a[0], f = [];
  Z.aa.Fa(d, f, b || this.fa, c || this.ga);
  for (var e = a; f.length;) {
    a = f.shift();
    c = (b || this.fa)[a];
    if (Z.da.ea && !c) {
      throw "Templete: " + a + " required by " + d.FILE_PATH + " not found!";
    }
    a = void 0;
    c = Z.aa.ka(c);
    c = JSON.parse(JSON.stringify(c));
    var l = Z.aa.Ba(c, !0);
    if (l) {
      const g = l[1];
      l = l[2];
      !N(e[0]) && P(e[0]) && (a = e.shift());
      let n = U(e), h = e.length;
      g.splice(l, 1);
      for (l -= n; n < h; ++n) {
        g.splice(l + n, 0, e[n]);
      }
      a && c.unshift(a);
    }
    e = c;
  }
  delete d.TEMPLETE;
  delete d.MIXINS;
  return e;
};
function mb() {
  const a = this, b = require("plugin-error"), c = require("vinyl"), d = require("through2"), f = {};
  let e = a.fa, l = a.ga;
  return d.obj(function(g, n, h) {
    if (g.isNull()) {
      return h();
    }
    if (g.isStream()) {
      return this.emit("error", new b("NicePageBuilder.gulp.generator", "Streaming not supported")), h();
    }
    if (".json" !== g.extname) {
      return this.push(g), h();
    }
    n = g.contents.toString(n);
    n = JSON.parse(n);
    switch(g.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return f[n[0].FILE_PATH] = n, h();
      case a.Ea:
        !N(n) && P(n) && (a.fa && JSON.stringify(a.fa) !== JSON.stringify(n) && console.log("NicePageBuilder.gulp.generator templete list changed!"), e = a.fa = n);
        break;
      case a.Da:
        !N(n) && P(n) && (a.ga && JSON.stringify(a.ga) !== JSON.stringify(n) && console.log("NicePageBuilder.gulp.generator templete list changed!"), l = a.ga = n);
    }
    this.push(g);
    h();
  }, function(g) {
    for (const n in f) {
      const h = hb.call(a, f[n], e, l);
      delete f[n];
      this.push(new c({base:"/", path:n + ".json", contents:Buffer.from(JSON.stringify(h))}));
    }
    g();
  });
}
;function nb(a, b, c, d, f) {
  function e(q, k, F, p, t, A) {
    var z = q[0], w = q[1], u = 1, J = z, Q;
    switch(z) {
      case 9:
      case 11:
        l(q, p, t, A);
        break;
      case 3:
        w = Fa("" + w, t, A, h, r, H);
        if ("" !== w) {
          k[F] = w;
        } else {
          return k.splice(F, 1), -1;
        }
        break;
      case 4:
        if (!B && k) {
          return k.splice(F, 1), -1;
        }
        break;
      case 8:
        if (!x && k) {
          return k.splice(F, 1), -1;
        }
        break;
      case 13:
        l(q, p, t, A);
        if (!D && k && 2 === q.length) {
          return k.splice(F, 1), -1;
        }
        break;
      case 15:
        q = k[F - 1];
        if (!D && q && 14 === q[0] && q) {
          return k.splice(F - 1, 2), -2;
        }
        break;
      case 16:
        l(q, p, t, A);
        if (!D && k && 2 === q.length) {
          return k.splice(F, 1), -1;
        }
        break;
      case 7:
        if (g) {
          if (q = wa(g, q, k, F, n), void 0 !== q) {
            if (null === q || "" === q) {
              return k ? k.splice(F, 1) : (a.length = 0, a.push(8, "")), -1;
            }
            if (!T(q) && N(q)) {
              return -1;
            }
          } else {
            v = !1;
          }
        } else {
          n("onInstruction is void!");
        }
        break;
      case 1:
      case 17:
        J = w, u = 2;
      default:
        if (S(J)) {
          if (1 + u <= q.length) {
            k = q[u];
            if (va(k)) {
              F = u - 1;
              A = 0;
              var L;
              z = Ia(q[F]);
              w = z[1];
              var O = z[2];
              z = z[0];
              for (C in k) {
                var R = C;
                var K = k[C];
                if (L = 0 === C.indexOf(E)) {
                  var C = C.substr(E.length);
                  "className" === C && (C = "class");
                  g ? K = xa(!1, g, C, K, n) : n("onInstruction is void!");
                  if (void 0 !== K) {
                    if (delete k[R], N(K)) {
                      S(K[0]) ? (k[R] = K, v = !1, ++A) : n("Invalid dynamic attribute callback value! [" + R + "=" + K + "]");
                    } else if ((!ba[C] || !1 !== K) && null !== K) {
                      if (S(K)) {
                        if ("id" === C) {
                          w = K;
                          continue;
                        } else if ("class" === C) {
                          R = K.split(" ");
                          for (K = R.length; K;) {
                            L = R[--K], -1 === (" " + O + " ").indexOf(" " + L + " ") && (O = (O ? " " : "") + L);
                          }
                          continue;
                        }
                      }
                      k[C] = K;
                      ++A;
                    }
                  } else {
                    v = !1, ++A;
                  }
                } else {
                  ++A;
                }
              }
              q[F] = Ja(z, w, O);
              0 === A && q.splice(u, 1);
            }
            y || (Q = y = y || aa[J] ? !0 : 0 < J.indexOf(":"));
            u = !!sa[J];
            l(q, p, u || t, !!ra[J]);
            Q && (y = !1);
          }
        } else {
          n("Not html.json! [" + q + "]");
        }
    }
    return 0;
  }
  function l(q, k, F, p) {
    var t = U(q);
    for (k.push(q); t < q.length; ++t) {
      var A = q[t];
      if (!T(A)) {
        if (N(A)) {
          if (A = e(A, q, t, k, F, p)) {
            t += A, G = !0;
          }
        } else {
          n("Invalid html.json! [" + A + "]");
        }
      }
    }
    k.pop();
  }
  var g = b || null;
  b = "function" === typeof c ? c : null;
  var n = "function" === typeof d ? d : function() {
  };
  d = f || {};
  var h = -1 !== ["normal", !0, "aggressive"].indexOf(d.trimWhitespaces), r = "aggressive" === d.trimWhitespaces, H = !!d.removeNewlineBetweenFullWidthChars, B = !1 !== d.keepCDATASections, x = !1 !== d.keepComments, D = !0 === d.keepEmptyConditionalComment, E = d.instructionAttrPrefix || ":", y = !1, G = !1, v = !0;
  if (N(a)) {
    return e(a, null, 0, [], !1, !1), G && Ea(a), b && ob(b, a) && (v = La(a, E)), v;
  }
  n("Invalid html.json document!");
}
function ob(a, b) {
  var c = za(b, !1);
  W = !1;
  a(c);
  if (a = W) {
    W = !1, b.length = 0, b.push.apply(b, c.ka()), Ea(b);
  }
  return a;
}
;Z.json2json = !0;
ib = function(a, b, c, d, f, e) {
  let l, g;
  Z.aa.la(a) && (l = a.shift(), g = Z.La(l), (Z.aa.ta(g) || Z.aa.ra(g)) && Z.aa.Fa(g, [], this.fa, this.ga, f), b = Z.za(this, g, b), Z.xa(this, g, c), d = Z.Ka(this, g, d), f = Z.ya(this, g, f));
  b = nb(a, b, d, f, e);
  l && a.unshift(l);
  return b;
};
function pb(a, b, c, d, f) {
  const e = this, l = require("plugin-error"), g = require("vinyl");
  return require("through2").obj(function(n, h, r) {
    if (n.isNull()) {
      return r();
    }
    if (n.isStream()) {
      return this.emit("error", new l("NicePageBuilder.gulp.json2json", "Streaming not supported")), r();
    }
    if (".json" !== n.extname) {
      return this.push(n), r();
    }
    switch(n.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        h = JSON.parse(n.contents.toString(h));
        ib.call(e, h, a, b, c, d, f);
        n.contents = Buffer.from(JSON.stringify(h));
        break;
      case e.Ea:
        h = JSON.parse(n.contents.toString(h));
        !N(h) && P(h) && (e.fa && JSON.stringify(e.fa) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json templete list changed!"), e.fa = h);
        break;
      case e.Da:
        h = JSON.parse(n.contents.toString(h)), !N(h) && P(h) && (e.ga && JSON.stringify(e.ga) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json mixin list changed!"), e.ga = h);
    }
    this.push(n);
    r();
  }, function(n) {
    for (const h in e.ja) {
      this.push(new g({base:"/", path:h, contents:Buffer.from(JSON.stringify(e.ja[h]))}));
    }
    n();
  });
}
;function qb(a, b, c, d, f) {
  function e(y, G, v, q, k, F) {
    function p() {
      var L = "";
      D && (L = "</" + (E ? D : D.toLowerCase()) + ">", D = "");
      return L;
    }
    var t = h ? ya(y, v, h) : null;
    v = "";
    var A = y[0], z = y[1], w = 1, u = A, J;
    switch(A) {
      case 9:
        v = z + l(y, t, !1, F);
        break;
      case 11:
        v = l(y, t, k, F);
        break;
      case 3:
        v = p() + (F ? z : Ca("" + z));
        break;
      case 4:
        S(z) || r("CDATA_SECTION Error! [" + y + "]");
        v = "<![CDATA[" + z + "]]\x3e";
        break;
      case 8:
        S(z) || r("COMMENT_NODE Error! [" + y + "]");
        v = "\x3c!--" + z + "--\x3e";
        break;
      case 13:
        S(z) || r("COND_CMT_HIDE_LOWER Error! [" + y + "]");
        v = p() + "\x3c!--[" + z + "]>" + l(y, t, !0, F) + "<![endif]--\x3e";
        break;
      case 16:
        S(z) || r("NETSCAPE4_COND_CMT_HIDE_LOWER Error! [" + y + "]");
        v = p() + "\x3c!--{" + z + "};" + l(y, t, !0, F) + "--\x3e";
        break;
      case 14:
        S(z) || r("COND_CMT_SHOW_LOWER_START Error! [" + y + "]");
        v = "\x3c!--[" + z + "]>\x3c!--\x3e";
        break;
      case 15:
        v = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (n) {
          if (k = wa(n, y, G, q, r), void 0 !== k && null !== k && "" !== k) {
            if (T(k) || N(k)) {
              return -1;
            }
            r("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(y) + "] result:" + JSON.stringify(k));
          }
        } else {
          r("onInstruction is void!");
        }
        break;
      case 18:
        S(z) || r("ELEMENT_END_TAG Error! [" + y + "]");
        v = "</" + z + ">";
        break;
      case 17:
        var Q = !0;
      case 1:
        u = y[1], w = 2;
      default:
        S(u) || r("Not html.json! [" + y + "]"), u = Ia(u), G = u[1], q = u[2], u = u[0], w = y[w], "P" !== D || pa[u] ? D = "" : v = p(), E || (J = E = E || aa[u] ? !0 : 0 < u.indexOf(":")), v += "<" + (E ? u : u.toLowerCase()), G && (v += " id=" + Da(G, B, E || H)), q && (v += " class=" + Da(q, B, E || H)), va(w) && (v += g(w)), v = (y = l(y, t, oa[u], F || qa[u])) ? v + (">" + y) : Q ? v + ">" : v + (E ? " />" : ">"), Q && (D = ""), !y && ca[u] ? D = "" : E && !y || na[u] && (!k || "P" !== u) ? 
        D = u : (v += "</" + (E ? u : u.toLowerCase()) + ">", D = ""), J && (E = !1);
    }
    return v;
  }
  function l(y, G, v, q) {
    for (var k = [], F = U(y), p = -1, t; F < y.length; ++F) {
      t = y[F], T(t) ? k[++p] = e([3, t], y, G, F, !1, q) : N(t) ? (t = e(t, y, G, F, v, q), -1 === t ? --F : k[++p] = t) : r("Invalid html.json! [" + t + "]");
    }
    return k.join("");
  }
  function g(y) {
    var G = "", v, q;
    for (v in y) {
      var k = y[v];
      (q = 0 === v.indexOf(x)) && (v = v.substr(x.length));
      "className" === v && (v = "class");
      q && (n ? k = xa(!0, n, v, k, r) : r("onInstruction is void!"));
      if (!(null == k || ba[v] && !1 === k || (G += " " + v, ba[v] || !0 === k))) {
        if ("style" === v && P(k) && (k = Ka(k), !k)) {
          continue;
        }
        G += "=" + Da(k, B, E || H);
      }
    }
    return G;
  }
  var n = b || null, h = c || null, r = "function" === typeof d ? d : function() {
  };
  b = f || {};
  var H = !0 === b.quotAlways, B = !0 === b.useSingleQuot, x = b.instructionAttrPrefix || ":", D, E = !1;
  if (N(a)) {
    return 7 === ua(a) && (a = [11, a]), e(a, null, null, 0, !1, !1);
  }
  r("Invalid html.json document!");
}
;Z.json2html = !0;
jb = function(a, b, c, d, f) {
  if (Z.aa.la(a)) {
    const e = a.shift();
    if (Z.da.ea && (Z.aa.ta(e) || Z.aa.ra(e))) {
      throw e.FILE_PATH + " is not complete document! Use nicePageBuilder.builder() before json2html().";
    }
    b = Z.za(this, e, b);
    c = Z.xa(this, e, c);
    d = Z.ya(this, e, d);
  }
  return qb(a, b, c, d, f) || "";
};
function rb(a, b, c, d) {
  const f = this, e = require("plugin-error"), l = require("vinyl");
  return require("through2").obj(function(g, n, h) {
    if (g.isNull()) {
      return h();
    }
    if (g.isStream()) {
      return this.emit("error", new e("NicePageBuilder.gulp.json2html", "Streaming not supported")), h();
    }
    if (".json" !== g.extname) {
      return this.push(g), h();
    }
    const r = g.stem.split(".").pop();
    switch(r) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        n = JSON.parse(g.contents.toString(n));
        const H = g.path.split(".json");
        H.pop();
        g.path = H.join(".json");
        g.contents = Buffer.from(jb.call(f, n, a, b, c, d));
        g.extname = "." + r;
    }
    this.push(g);
    h();
  }, function(g) {
    for (const n in f.ja) {
      this.push(new l({base:"/", path:n, contents:Buffer.from(JSON.stringify(f.ja[n]))}));
    }
    g();
  });
}
;Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;
Z.gulp = function(a) {
  a = Z.ua(a);
  gb && (a.html2json = lb);
  hb && (a.generator = mb);
  ib && (a.json2json = pb);
  jb && (a.json2html = rb);
  return a;
};
Z.all = {};

