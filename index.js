var E = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\b":4, "\f":4, "\n":4, "\r":4, "\t":4, " ":4}, aa = {checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, ismap:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, nowrap:!0, readonly:!0, selected:!0}, ba = {xml:!0, svg:!0, 
math:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, 
title:!0, plaintext:!0, xmp:!0}, I = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, 
EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, 
SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, 
TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, 
SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, 
LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
I.LI = I.TD = I.DD;
I.TH = I.DT;
I.RB = I.RP = I.RT = I.P;
I.TFOOT = I.THEAD = I.TBODY;
I.RTC = I.RBC;
function ea(a, b) {
  var c = 0;
  function d() {
    c && (fa(b, h(a.substring(0, c))), a = a.substring(c), c = 0);
  }
  function h(l) {
    return l.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&");
  }
  function e(l, G, r) {
    for (var t = 0, w = r.length, m = 3, f, D; m < w && 2 !== t;) {
      D = r.charAt(m);
      switch(t) {
        case 0:
          E[D] & 4 ? t = 1 : ">" === D && (t = 2);
          t && (f = r.substring(2, m));
          break;
        case 1:
          ">" === D && (t = 2);
      }
      ++m;
    }
    return 2 === t ? (ca[f] || y(l, G, z ? f : f.toUpperCase(), !1), m) : 0;
  }
  function y(l, G, r, t) {
    var w = 0, m = l.length;
    if (r) {
      for (w = m; 0 <= w && l[--w] !== r;) {
      }
    }
    if (0 <= w) {
      for (; w < m;) {
        ha(G, l[--m], t && !I[l[m]], !1), z && ba[l[m]] && (z = !!G.da);
      }
      l.length = w;
    } else {
      ha(G, r, !1, !0);
    }
  }
  function k(l, G, r, t) {
    function w(P, H) {
      u[P] = !0 === H ? !0 : aa[P.toLowerCase()] ? z ? h(H || P) : !0 : h(H || "");
      ++n;
    }
    function m() {
      (F = "/>" === t.substr(g, 2)) && ++g;
      return F;
    }
    for (var f = 1, D = t.length, g = 2, u = {}, n = 0, F = !1, x, B, J, Q, M, L; g < D && 9 > f;) {
      x = t.charAt(g);
      switch(f) {
        case 1:
          if (E[x] & 4) {
            f = 2, B = t.substring(1, g);
          } else if (">" === x || m()) {
            f = 9, B = t.substring(1, g);
          }
          break;
        case 2:
          ">" === x || m() ? f = 9 : E[x] & 4 || (f = 3, J = g);
          break;
        case 3:
          if ("=" === x) {
            f = 5, Q = t.substring(J, g);
          } else if (E[x] & 4) {
            f = 4, Q = t.substring(J, g);
          } else if (">" === x || m()) {
            f = 9, w(t.substring(J, g), !0);
          }
          break;
        case 4:
          "=" === x ? f = 5 : ">" === x || m() ? (f = 9, w(Q, !0)) : E[x] & 4 || (f = 3, w(Q, !0), J = g);
          break;
        case 5:
          '"' === x || "'" === x ? (f = 6, M = x, J = g + 1) : E[x] & 4 || (f = 7, J = g);
          L = !1;
          break;
        case 6:
          L || x !== M || (f = 2, w(Q, t.substring(J, g)));
          L = "\\" === x && !L;
          break;
        case 7:
          E[x] & 4 ? f = 2 : ">" === x && (f = 9), 7 !== f && w(Q, t.substring(J, g));
      }
      ++g;
    }
    if (9 === f) {
      f = B.toUpperCase();
      z ||= !!ba[B];
      if (!z) {
        for (; G;) {
          if (I[G] && !I[G][f]) {
            y(l, r, G, !1), G = l[l.length - 1];
          } else {
            break;
          }
        }
      }
      (F = F || !!ca[f]) || (l[l.length] = z ? B : f);
      ia(r, z ? B : f, n ? u : null, F);
      return g;
    }
    return 0;
  }
  for (var q = [], z = !!b.da, C = a.length - c, v, p; a;) {
    v = q[q.length - 1];
    if (da[v]) {
      if ("PLAINTEXT" === v || "plaintext" === v) {
        fa(b, h(a)), a = "";
      } else {
        if (p = a.indexOf("</" + (z ? v : v.toLowerCase())), -1 === p && (p = a.indexOf("</" + (z ? v.toUpperCase() : v))), 0 <= p) {
          if (c = p, d(), v = e(q, b, a)) {
            a = a.substring(v);
          } else {
            throw a;
          }
        } else {
          throw a;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === c) {
      if (d(), p = a.indexOf(">"), -1 !== p) {
        ja(b, a.substring(10, p)), a = a.substring(p + 1);
      } else {
        throw a;
      }
    } else if (a.indexOf("<?") === c) {
      if (d(), p = a.indexOf("?>"), -1 !== p) {
        ka(b, h(a.substring(2, p))), a = a.substring(p + 2);
      } else {
        throw a;
      }
    } else if (a.indexOf("<![CDATA[") === c) {
      if (d(), p = a.indexOf("]]\x3e"), -1 !== p) {
        la(b, h(a.substring(9, p))), a = a.substring(p + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("\x3c!--") === c) {
      if (d(), p = a.indexOf("--\x3e"), -1 !== p) {
        ma(b, h(a.substring(4, p))), a = a.substring(p + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("</") === c && E[a.charAt(c + 2)] & 3) {
      if (d(), v = e(q, b, a)) {
        a = a.substring(v);
      } else {
        throw a;
      }
    } else if ("<" === a.charAt(c) && E[a.charAt(c + 1)] & 3) {
      if (d(), v = k(q, v, b, a)) {
        a = a.substring(v);
      } else {
        throw a;
      }
    } else {
      p = a.indexOf("<", c), -1 === p ? (fa(b, h(a)), a = "") : c < p ? c = p : ++c;
    }
    v = a.length - c;
    if (v === C) {
      throw a;
    }
    C = v;
  }
  d();
  y(q, b, "", !0);
}
;var na = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, oa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, pa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, qa = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, ra = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, sa = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function K(a) {
  return !(!a || a.pop !== [].pop);
}
function N(a) {
  return !(!a || "object" !== typeof a);
}
function O(a) {
  return "" + a === a;
}
function R(a) {
  return O(a) || a === +a;
}
function S(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0 ? +a : a;
}
function ta(a) {
  if (R(a)) {
    a = 3;
  } else {
    if (K(a)) {
      if (O(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function T(a) {
  return !K(a) && N(a);
}
function ua(a, b, c, d, h) {
  var e = b[1], y = b.slice(2);
  a = y.length ? a(e, y) : a(e);
  void 0 !== a && null !== a && "" !== a && (R(a) ? c ? c.splice(d, 1, a) : (b.length = 0, b.push(3, b)) : K(a) ? 11 === a[0] ? c ? (a.shift(), a.unshift(d, 1), c.splice.apply(c, a)) : (b.length = 0, b.push.apply(b, a)) : K(a[0]) ? c ? (a.unshift(d, 1), c.splice.apply(c, a)) : (b.length = 0, b.push(11), b.push.apply(b, a)) : c ? c.splice(d, 1, a) : (b.length = 0, b.push(11, a)) : h("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(b) + "]"));
  return a;
}
function va(a, b, c, d, h) {
  if (K(d) && O(d[0])) {
    var e = d[0];
    d = d.slice(1);
    e = d.length ? b(e, d) : b(e);
  } else {
    O(d) ? e = b(d) : h("Invalid InstructionAttr value! [" + c + "=" + d + "]");
  }
  return a && K(e) ? va(!0, b, c, e, h) : e;
}
function wa(a) {
  return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
}
function xa(a, b, c) {
  a = wa("" + a);
  var d = a.match('"'), h = a.match("'"), e = b ? "'" : '"';
  if (d && h) {
    a = b ? e + a.split("'").join("\\'") + e : e + a.split('"').join('\\"') + e;
  } else if (d) {
    a = "'" + a + "'";
  } else if (h) {
    a = b ? e + a.split("'").join("\\'") + e : e + a + e;
  } else if (c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length) {
    a = e + a + e;
  }
  return a;
}
function ya(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  return 1 === ta(a) || 17 === b ? T(a[c]) ? c + 1 : c : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function za(a) {
  var b = ya(a), c = "", d;
  if (b < a.length) {
    for (d = b; d < a.length;) {
      b = a[d];
      var h = ta(b);
      3 === h ? (c = R(b) ? c + b : c + b[1], a.splice(d, 1)) : (c && (a.splice(d, 0, S(c)), c = ""), ++d, 1 !== h && 17 !== h && 13 !== h && 16 !== h || za(b));
    }
    c && (a[d] = S(c));
  }
}
function Aa(a, b, c, d, h, e) {
  if (!b && d) {
    if (c) {
      a = Ba(Ca(a, "\n"), "\n");
    } else {
      a = a.split("\r\n").join("\n");
      e && (a = a.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
      for (a = a.split("\t").join(" "); 0 <= a.indexOf("\n\n");) {
        a = a.split("\n\n").join("\n");
      }
      if (h) {
        var y = "\n" === a.charAt(0) && /\n[ ]*$/.test(a);
      }
      a = Ba(a, "\n");
      for (a = a.split("\n").join(" "); 0 <= a.indexOf("  ");) {
        a = a.split("  ").join(" ");
      }
      y && (a = Ba(Ca(a, " "), " "));
      a = a.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    }
  }
  return S(a);
}
function Ca(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Ba(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function Da(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), d = "", h = "";
  b < c ? (d = a.split(".")[1], a = a.split(".")[0], 0 < b && (h = a.split("#")[1], a = a.split("#")[0])) : c < b && (h = a.split("#")[1], a = a.split("#")[0], 0 < c && (d = a.split(".")[1], a = a.split(".")[0]));
  return [a, h, d];
}
function Ea(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
;function Fa(a) {
  return 1 === a.$ || 17 === a.$ || 13 === a.$ || 16 === a.$ || Ga(a);
}
function Ga(a) {
  return 9 === a.$ || 11 === a.$;
}
function Ha(a) {
  return a === Ia && !a.ua;
}
function Ja(a, b, c, d, h) {
  if (a === !!a) {
    var e = null;
    this.aa = a;
  } else {
    e = a, this.aa = e.aa;
  }
  if (e) {
    switch(e.$) {
      case 3:
      case 8:
      case 4:
      case 7:
      case 15:
      case 18:
        throw "nodeType:" + e.$ + " \u306f\u89aa\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
    if (Ga(this)) {
      throw "nodeType:" + e.$ + " \u306f\u5b50\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  this.ea = e;
  this.$ = c;
  if (e) {
    if (e.ca || (e.ca = []), a = e.ca, 0 <= b && b < a.length) {
      if (1 <= b && 17 === a[b - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.splice(b, 0, this);
    } else {
      if (a.length && 17 === a[a.length - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.push(this);
    }
  }
  switch(c) {
    case 1:
    case 17:
      this.na = h || null;
    case 18:
      this.wa = d;
      break;
    case 7:
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.oa = d;
  }
}
var Ia = null;
function U(a) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.oa;
    default:
      throw "getNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Ka(a, b) {
  if (a.aa && !Ha(a)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e setNodeValue() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.oa = b;
      break;
    default:
      throw "setNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function La(a) {
  return 1 === a.$ || 17 === a.$;
}
function Ma(a) {
  if (!La(a) && 18 !== a.$) {
    throw "getTagName() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.wa;
}
function V(a) {
  if (!Fa(a)) {
    throw "getChildNodeLength() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.aa) {
    throw "restricted mode \u3067\u306f getChildNodeLength() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca.length;
}
function W(a, b) {
  if (!Fa(a)) {
    throw "getChildNodeAt() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.aa) {
    throw "restricted mode \u3067\u306f getChildNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca[b] || null;
}
Ja.prototype.remove = function() {
  if (Ga(this)) {
    throw "remove() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.aa && !Ha(this)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e discard() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (this.aa) {
    return this.ua = !0, null;
  }
  if (Ga(this)) {
    throw "getMyIndex() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.aa) {
    throw "restricted mode \u3067\u306f getMyIndex() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = this.ea ? this.ea.ca.indexOf(this) : -1;
  0 <= a && (this.ea.ca.splice(a, 1), this.ea = null);
};
function X(a, b, c, d) {
  if (a.aa && (!Ha(a) || !Fa(a))) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertNodeLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (a.aa) {
    return a.da = a.da || [], a.da.push([b, c, d]), null;
  }
  var h = V(a);
  if (a.aa) {
    throw "restricted mode \u3067\u306f insertNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return new Ja(a, h, b, c, d);
}
;function Na(a, b) {
  b = new Oa(b);
  ea(a, b);
  return b.aa;
}
function Oa(a) {
  this.ca = a;
  this.$ = this.aa = new Ja(!1, 0, 11);
}
function ja(a, b) {
  var c = a.aa;
  if (c.aa) {
    throw "restricted mode \u3067\u306f setNodeType() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (11 !== c.$) {
    throw "nodeType \u306e\u5909\u66f4\u306f DOCUMENT_FRAGMENT_NODE -> DOCUMENT_NODE \u3060\u3051\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059!";
  }
  c.$ = 9;
  Ka(a.aa, b);
}
function ia(a, b, c, d) {
  if (d) {
    a = a.$;
    if (a.aa && (!Ha(a) || !Fa(a))) {
      throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertElementLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
    }
    if (a.aa) {
      a.da = a.da || [], a.da.push([1, b, c, void 0]);
    } else {
      d = V(a);
      if (a.aa) {
        throw "restricted mode \u3067\u306f insertElementAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      new Ja(a, d, 1, b, c);
    }
  } else {
    a.$ = X(a.$, 17, b, c);
  }
}
function ha(a, b, c, d) {
  if (d) {
    a.ca && X(a.$, 18, b);
  } else if (!c || !a.ca) {
    if (b === Ma(a.$)) {
      b = a.$;
      if (b.aa) {
        throw "restricted mode \u3067\u306f finalize() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      if (17 !== b.$) {
        throw "finalize() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      b.$ = 1;
      b = a.$;
      if (Ga(b)) {
        throw "getParent() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      if (b.aa && !Ha(b)) {
        throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e getParent() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      a.$ = b.ea;
    } else {
      throw "End tag error! " + b;
    }
  }
}
function fa(a, b) {
  X(a.$, 3, b);
}
function ma(a, b) {
  X(a.$, 8, b);
}
function la(a, b) {
  X(a.$, 4, b);
}
function ka(a, b) {
  X(a.$, 7, b);
}
;function Pa(a, b, c) {
  function d(g, u, n, F) {
    switch(g.$) {
      case 1:
      case 17:
        var x = {};
        F = Ma(g);
        var B = !!sa[F];
        if (!La(g)) {
          throw "getAttrs() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
        }
        var J = T(g.na) ? g.na : null;
        var Q = 0, M;
        if (J) {
          for (M in J) {
            var L = aa[M] ? 1 : J[M];
            if ("id" === M) {
              var P = L;
            } else if ("class" === M) {
              var H = L;
            } else {
              if (M.startsWith(w)) {
                var A = h(L);
                A.ga ? (L = [A.ha], C.apply(L, A.ga)) : L = A.ha;
              }
              x[M] = S(L);
              ++Q;
            }
          }
        }
        F = Ea(F, P, H);
        if (B && v) {
          for (; A = y(g);) {
            if (q(U(A))) {
              Ka(A, Ca(U(A), "\n"));
              break;
            } else {
              A.remove();
            }
          }
          for (; A = k(g);) {
            if (q(U(A))) {
              Ka(A, Ba(U(A), "\n"));
              break;
            } else {
              A.remove();
            }
          }
        }
        x = Q ? [F, x] : [F];
        for (A = 0; A < V(g); ++A) {
          d(W(g, A), x, B || n, !!ra[F]);
        }
        u.push(x);
        17 !== g.$ || x.unshift(17);
        break;
      case 18:
        u.push([18, Ma(g)]);
        break;
      case 3:
        (B = Aa("" + U(g), n, F, v, p, l)) && u.push(B);
        break;
      case 4:
        G && (B = U(g), u.push([4, S(B)]));
        break;
      case 7:
        B = U(g);
        A = h(B);
        x = [7, A.ha];
        A.ga && C.apply(x, A.ga);
        u.push(x);
        break;
      case 8:
        B = U(g);
        if (B.startsWith("[if") && 0 < B.indexOf("<![endif]")) {
          g = Na(e(B, ">", "<![endif]", !0), !0);
          x = [13, e(B, "[", "]", !1)];
          for (A = 0; A < V(g); ++A) {
            d(W(g, A), x, n, F);
          }
          (2 < x.length || t) && u.push(x);
        } else if (B.startsWith("{") && 2 < B.indexOf("};")) {
          g = Na(B.substring(B.indexOf("};") + 2), !0);
          x = [16, e(B, "{", "};", !1)];
          for (A = 0; A < V(g); ++A) {
            d(W(g, A), x, n, F);
          }
          (2 < x.length || t) && u.push(x);
        } else {
          B.startsWith("[if") && 0 < B.indexOf("><!") ? (u.push([14, e(B, "[", "]", !1)]), D = !0) : "<![endif]" === B && D ? (n = u[u.length - 1], t || !n || 14 !== n[0] ? u.push([15]) : n && u.pop(), D = !1) : r && u.push([8, S(B)]);
        }
        break;
      case 9:
        B = U(g);
        v && (B = B.split("\n").join(" ").split("  ").join(" "));
        x = [9, B];
        u.push(x);
        for (A = 0; A < V(g); ++A) {
          d(W(g, A), x, !1, !1);
        }
        break;
      case 11:
        for (x = [11], u.push(x), A = 0; A < V(g); ++A) {
          d(W(g, A), x, n, F);
        }
    }
  }
  function h(g) {
    var u = g.indexOf(m), n = Ba(Ca(-1 === u ? g : g.substr(0, u), " "), " ");
    g = -1 === u ? [] : JSON.parse("[" + g.substring(u + m.length, g.lastIndexOf(f) - 2) + "]");
    return g.length ? {ha:n, ga:g} : {ha:n};
  }
  function e(g, u, n, F) {
    u = g.indexOf(u) + u.length;
    n = F ? g.lastIndexOf(n) : g.indexOf(n, u);
    return g.substring(u, n);
  }
  function y(g) {
    for (var u = 0, n = V(g), F; u < n; ++u) {
      if (F = W(g, u), La(F) && (F = y(F)), F && 3 === F.$) {
        return F;
      }
    }
  }
  function k(g) {
    for (var u = V(g), n; u;) {
      if (n = W(g, --u), La(n) && (n = k(n)), n && 3 === n.$) {
        return n;
      }
    }
  }
  function q(g) {
    return g.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const z = [], C = z.push;
  a = Na(a, b);
  c = c || {};
  const v = -1 === ["none", !1].indexOf(c.trimWhitespaces), p = "aggressive" === c.trimWhitespaces, l = !!c.removeNewlineBetweenFullWidthChars, G = !0 === c.keepCDATASections, r = !0 === c.keepComments, t = !0 === c.keepEmptyConditionalComment, w = c.instructionAttrPrefix || ":";
  c = c.argumentBrackets || "()";
  const m = c.substr(0, c.length / 2), f = c.substr(c.length);
  let D = !1;
  d(a, z, !1, !1);
  za(z[0]);
  return z[0];
}
;function Qa(a) {
  a && (a = Ra(a), this.$ = a + ("/" === a.charAt(a.length - 1) ? "" : "/"));
}
function Sa(a, b) {
  if (!a.$) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  return 0 === b.indexOf(a.$);
}
function Ra(a) {
  return a.split("\\").join("/");
}
function Y(a, b, c) {
  if (Sa(a, c) || "/" === c.charAt(0)) {
    b = c;
  } else {
    if ("/" !== b.charAt(0)) {
      throw b + " is not a root relative path!";
    }
    var d;
    (d = "/" === c.charAt(0)) || (d = a.$ ? Sa(a, c) || Ta(c) : Ta(c));
    if (d) {
      throw c + " is not a relative path!";
    }
    a = c;
    b = b.split("/");
    b.pop();
    "" === b[0] && b.shift();
    for ("./" === a.substr(0, 2) && (a = a.substr(2)); "../" === a.substr(0, 3);) {
      a = a.substr(3), --b.length;
    }
    b = b.join("/") + "/" + a;
  }
  return b;
}
function Ta(a) {
  return "//" === a.substr(0, 2) || "http://" === a.substr(0, 7) || "https://" === a.substr(0, 8);
}
;var Ua = !1, Va = !1, Wa = !1, Xa = !1;
function Z(a) {
  a = Z.la(a);
  Ua && (a.html2json = Ua);
  Va && (a.generator = Va);
  Wa && (a.json2json = Wa);
  Xa && (a.json2html = Xa);
  return a;
}
Z.la = function(a) {
  var b = a || {};
  a = require("path").resolve(b.srcRootPath || "./") + "/";
  const c = new Qa(a), d = b.allPagesPath && Y(c, "/", b.allPagesPath), h = b.dynamicPagesPath && Y(c, "/", b.dynamicPagesPath), e = Y(c, "/", b.allMixinsPath || "all.mixins.json");
  b = Y(c, "/", b.allTempletesPath || "all.templetes.json");
  return {qa:Ra(a), ma:d || "", ta:h || "", ra:e, sa:b, path:c};
};
Z.fa = {};
Z.ba = {};
Z.fa.ja = !0;
Z.ba.ka = function(a) {
  a = a[0];
  if (Z.fa.ja && !K(a)) {
    throw "NOT_HTML_JSON_ERROR!";
  }
  return a;
};
Z.ba.ia = function(a) {
  a = Z.ba.ka(a)[0];
  return !K(a) && N(a) ? a : null;
};
Z.ba.va = function(a) {
  return Ya(a, function(b, c) {
    return ("SCRIPT" === b || "script" === b) && c && ("application/json" === c.type || "nice-page-builder/object" === c.type) || !1;
  });
};
Z.ba.pa = function(a) {
  return Ya(a, function(b) {
    return "SLOT" === b || "slot" === b;
  });
};
function Ya(a, b) {
  function c(e) {
    let y = ya(e), k = e.length;
    for (var q; y < k; ++y) {
      var z = e[y], C;
      if (C = !R(z)) {
        if (C = K(z)) {
          a: {
            q = z;
            z = e;
            C = y;
            var v = q[0];
            const p = q[1];
            let l = v, G = 1;
            switch(v) {
              case 9:
              case 11:
              case 13:
              case 16:
                q = c(q);
                break a;
              case 1:
              case 17:
                l = p, G = 2;
              default:
                if (O(l)) {
                  v = q[G];
                  q = b(l, T(v) ? v : null) ? [q, z, C] : c(q);
                  break a;
                }
            }
            q = void 0;
          }
          C = q;
        }
      }
      if (C) {
        return q;
      }
    }
  }
  let d = a[0], h;
  return !K(d) && N(d) ? (a.shift(), h = c(a), a.unshift(d), h && h[1] === a ? [h[0], a, ++h[2]] : h) : c(a);
}
;Z.html2json = !0;
Ua = function(a, b, c) {
  a = Pa(a, b, c);
  if (b = Z.ba.va(a)) {
    c = b[0], b[1].splice(b[2], 1), c && 3 === c.length && (b = eval("(" + c[2] + ");"), !K(b) && N(b) && a.unshift(b));
  }
  return a;
};
function Za(a) {
  const b = this, c = require("plugin-error"), d = require("vinyl"), h = {}, e = {}, y = {};
  return require("through2").obj(function(k, q, z) {
    var C = Ra(k.path);
    if (k.isNull()) {
      return z();
    }
    if (k.isStream()) {
      return this.emit("error", new c("NicePageBuilder.gulp.html2json", "Streaming not supported")), z();
    }
    if (0 !== C.indexOf(b.qa)) {
      return this.emit("error", new c("NicePageBuilder.gulp.html2json", '"' + C + '" is outside of srcRootPath:"' + b.qa + '"')), z();
    }
    const v = k.contents.toString(q);
    q = parseInt(k.stat.birthtimeMs, 10);
    const p = parseInt(k.stat.ctimeMs, 10);
    var l = b.path;
    if (!l.$) {
      throw "absoluteDirectoryPathOfRoot is empty!";
    }
    if (!Sa(l, C)) {
      throw C + " is not a absolute path!";
    }
    C = Ra(C).substr(l.$.length - 1);
    switch(k.extname) {
      case ".html":
      case ".htm":
      case ".xhtml":
      case ".php":
        k = Ua.call(b, v, !1, a);
        h[C] = [k, q, p];
        break;
      case ".json":
        k = JSON.parse(v);
        N(k) && (y[C] = [k, q, p]);
        break;
      default:
        this.push(k);
    }
    z();
  }, function(k) {
    function q(r, t, w, m) {
      if (t) {
        for (let D = 0, g = t.length; D < g; ++D) {
          const u = Y(b.path, r, t[D]);
          var f = y[u];
          t[D] = u;
          if (f && 3 === f.length) {
            f.push(!0), f = f[0], m ? f.MIXINS && (console.log('Mixin:"' + u + '" cannot have MIXINS property!'), delete f.MIXINS) : q(u, f.MIXINS, w, !0), w || z(u, f.TEMPLETE, f);
          } else if (!f) {
            throw 'Mixin:"' + u + '" required by "' + r + '" does not exist!';
          }
        }
      }
    }
    function z(r, t, w) {
      for (; t;) {
        t = Y(b.path, r, t);
        const m = h[t];
        if (m) {
          if (delete h[t], e[t] = m, w.TEMPLETE = r = t, w = Z.ba.ia(m)) {
            q(r, w.MIXINS, !!w.TEMPLETE, !1), t = w.TEMPLETE;
          } else {
            break;
          }
        } else if (e[t]) {
          break;
        } else {
          throw 'Templete:"' + t + '" required by "' + r + '" does not exist!';
        }
      }
    }
    function C(r, t) {
      r = new d({base:"/", path:r, contents:Buffer.from(JSON.stringify(t))});
      r.extname = ".json";
      G.push(r);
    }
    for (var v in h) {
      var p = h[v];
      let r = Z.ba.ia(p);
      r && (q(v, r.MIXINS, !!r.TEMPLETE, !1), z(v, r.TEMPLETE, r), h[v] && p.push(!0));
    }
    for (const r in y) {
      3 === y[r].length && (Z.fa.ja && console.log("Unused mixin found! " + r), delete y[r]);
    }
    for (var l in h) {
      v = h[l], p = Z.ba.ka(v), 3 === v.length && Z.ba.pa(p) && (Z.fa.ja && console.log("Unused templete found! " + l), delete h[l]);
    }
    const G = this;
    b.ma && C(b.ma, h);
    C(b.ra, y);
    C(b.sa, e);
    for (const r in h) {
      l = h[r], delete h[r], v = l[0], p = v[0], p = !K(p) && N(p) ? p : {}, p.FILE_PATH = r, p.CREATED_AT = l[1], p.MODIFIED_AT = l[2], p !== v[0] && v.unshift(p), C(r + ".json", v);
    }
    k();
  });
}
;Z.generator = !0;
Va = function(a, b, c) {
  function d(C) {
    if (C) {
      for (let v = 0; v < C.length; ++v) {
        const p = c[C[v]];
        h(p[0], p[2]);
      }
    }
  }
  function h(C, v) {
    let p = 0;
    for (const l in C) {
      "TEMPLETE" === l ? (k = k || C[l], k === C[l] && ++p) : void 0 === e[l] && (e[l] = C[l], ++p);
    }
    p && y < v && (y = v);
  }
  const e = !K(a[0]) && N(a[0]) ? a[0] : null;
  if (!e) {
    return a;
  }
  let y = e.MODIFIED_AT, k = e.TEMPLETE;
  for (d(e.MIXINS); k;) {
    var q = b[k], z = Z.ba.ia(q);
    k = "";
    z && (h(z, q[2]), d(z.MIXINS));
  }
  for (k = e.TEMPLETE; k;) {
    q = b[k], z = Z.ba.ia(q), a = $a(Z.ba.ka(q), a), z ? k = z.TEMPLETE : k = "";
  }
  delete e.TEMPLETE;
  delete e.MIXINS;
  e.UPDATED_AT = y;
  return a;
};
function $a(a, b) {
  a = JSON.parse(JSON.stringify(a));
  var c = Z.ba.pa(a);
  if (c) {
    const d = c[1];
    c = c[2];
    let h;
    T(b[0]) && (h = b.shift());
    let e = ya(b), y = b.length;
    d.splice(c, 1);
    for (c -= e; e < y; ++e) {
      d.splice(c + e, 0, b[e]);
    }
    h && a.unshift(h);
  }
  return a;
}
function ab() {
  const a = this, b = require("plugin-error"), c = require("vinyl"), d = {};
  let h, e;
  return require("through2").obj(function(y, k, q) {
    if (y.isNull()) {
      return q();
    }
    if (y.isStream()) {
      return this.emit("error", new b("NicePageBuilder.gulp.generator", "Streaming not supported")), q();
    }
    if (".json" !== y.extname) {
      return this.push(y), q();
    }
    k = JSON.parse(y.contents.toString(k));
    switch(y.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return d[k[0].FILE_PATH] = k, q();
      case "templetes":
        !K(k) && N(k) && (h = k);
        break;
      case "mixins":
        !K(k) && N(k) && (e = k);
    }
    this.push(y);
    q();
  }, function(y) {
    for (const k in d) {
      const q = Va.call(a, d[k], h, e);
      delete d[k];
      this.push(new c({base:"/", path:k + ".json", contents:Buffer.from(JSON.stringify(q))}));
    }
    y();
  });
}
;function bb(a, b, c, d) {
  function h(m, f, D, g, u, n) {
    var F = m[0], x = m[1], B = 1, J = F, Q;
    switch(F) {
      case 9:
        e(m, g, u, n);
        break;
      case 11:
        e(m, g, u, n);
        break;
      case 3:
        x = Aa("" + x, u, n, q, z, C);
        if ("" !== x) {
          f[D] = x;
        } else {
          return f.splice(D, 1), -1;
        }
        break;
      case 4:
        if (!v && f) {
          return f.splice(D, 1), -1;
        }
        break;
      case 8:
        if (!p && f) {
          return f.splice(D, 1), -1;
        }
        break;
      case 13:
        e(m, g, u, n);
        if (!l && f && 2 === m.length) {
          return f.splice(D, 1), -1;
        }
        break;
      case 15:
        m = f[D - 1];
        if (!l && m && 14 === m[0] && m) {
          return f.splice(D - 1, 2), -2;
        }
        break;
      case 16:
        e(m, g, u, n);
        if (!l && f && 2 === m.length) {
          return f.splice(D, 1), -1;
        }
        break;
      case 7:
        m = ua(y, m, f, D, k);
        if (void 0 !== m) {
          if (null === m || "" === m) {
            return f ? f.splice(D, 1) : (a.length = 0, a.push(8, "")), -1;
          }
          if (!R(m) && K(m)) {
            return -1;
          }
        } else {
          w = !1;
        }
        break;
      case 1:
      case 17:
        J = x, B = 2;
      default:
        if (O(J)) {
          if (1 + B <= m.length) {
            f = m[B];
            if (T(f)) {
              D = B - 1;
              n = 0;
              var M;
              F = Da(m[D]);
              x = F[1];
              var L = F[2];
              F = F[0];
              for (A in f) {
                var P = A;
                var H = f[A];
                if (M = 0 === A.indexOf(G)) {
                  var A = A.substr(G.length);
                  "className" === A && (A = "class");
                  H = va(!1, y, A, H, k);
                  if (void 0 !== H) {
                    if (delete f[P], K(H)) {
                      O(H[0]) ? (f[P] = H, w = !1, ++n) : k("Invalid dynamic attribute callback value! [" + P + "=" + H + "]");
                    } else if ((!aa[A] || !1 !== H) && null !== H) {
                      if (O(H)) {
                        if ("id" === A) {
                          x = H;
                          continue;
                        } else if ("class" === A) {
                          P = H.split(" ");
                          for (H = P.length; H;) {
                            M = P[--H], -1 === (" " + L + " ").indexOf(" " + M + " ") && (L = (L ? " " : "") + M);
                          }
                          continue;
                        }
                      }
                      f[A] = H;
                      ++n;
                    }
                  } else {
                    w = !1, ++n;
                  }
                } else {
                  ++n;
                }
              }
              m[D] = Ea(F, x, L);
              0 === n && m.splice(B, 1);
            }
            r || (Q = r = r || ba[J] ? !0 : !1);
            B = !!sa[J];
            e(m, g, B || u, !!ra[J]);
            Q && (r = !1);
          }
        } else {
          k("Not html.json! [" + m + "]");
        }
    }
    return 0;
  }
  function e(m, f, D, g) {
    var u = ya(m);
    for (f.push(m); u < m.length; ++u) {
      var n = m[u];
      if (!R(n)) {
        if (K(n)) {
          if (n = h(n, m, u, f, D, g)) {
            u += n, t = !0;
          }
        } else {
          k("Invalid html.json! [" + n + "]");
        }
      }
    }
    f.pop();
  }
  var y = "function" === typeof b ? b : function() {
  }, k = "function" === typeof d ? d : function() {
  };
  b = N(b) ? b : N(c) ? c : N(d) ? d : {};
  var q = -1 !== ["normal", !0, "aggressive"].indexOf(b.trimWhitespaces), z = "aggressive" === b.trimWhitespaces, C = !!b.removeNewlineBetweenFullWidthChars, v = !1 !== b.keepCDATASections, p = !1 !== b.keepComments, l = !0 === b.keepEmptyConditionalComment, G = b.instructionAttrPrefix || ":", r = !1, t = !1, w = !0;
  if (K(a)) {
    return h(a, null, 0, [], !1, !1), t && za(a), w;
  }
  k("Invalid html.json document!");
}
;Z.json2json = !0;
Wa = function(a, b, c, d) {
  const h = a.shift();
  b = bb(a, b, c, d);
  a.unshift(h);
  return b;
};
function cb(a, b, c) {
  const d = this, h = d.ta, e = require("plugin-error"), y = require("through2");
  if (h) {
    var k = [];
  }
  return y.obj(function(q, z, C) {
    if (q.isNull()) {
      return C();
    }
    if (q.isStream()) {
      return this.emit("error", new e("NicePageBuilder.gulp.json2json", "Streaming not supported")), C();
    }
    if (".json" !== q.extname) {
      return this.push(q), C();
    }
    const v = q.stem.split(".").pop();
    switch(v) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        z = JSON.parse(q.contents.toString(z));
        const p = z[0].FILE_PATH, l = Wa.call(d, z, a, b, c);
        k && !l && k.push(p);
        q.path = p;
        q.contents = Buffer.from(JSON.stringify(z));
        q.extname = "." + v;
    }
    this.push(q);
    C();
  }, k ? function(q) {
    const z = new (require("vinyl"))({base:"/", path:h, contents:Buffer.from(JSON.stringify(k))});
    z.extname = ".json";
    this.push(z);
    q();
  } : null);
}
;function db(a, b, c, d) {
  function h(l, G, r, t, w) {
    function m() {
      var B = "";
      v && (B = "</" + v + ">", v = "");
      return B;
    }
    var f = "", D = l[0], g = l[1], u = 1, n = D, F;
    switch(D) {
      case 9:
        f = "<!DOCTYPE " + g + ">" + e(l, !1, w);
        break;
      case 11:
        f = e(l, t, w);
        break;
      case 3:
        f = m() + (w ? g : wa("" + g));
        break;
      case 4:
        O(g) || k("CDATA_SECTION Error! [" + l + "]");
        f = "<![CDATA[" + g + "]]\x3e";
        break;
      case 8:
        O(g) || k("COMMENT_NODE Error! [" + l + "]");
        f = "\x3c!--" + g + "--\x3e";
        break;
      case 13:
        O(g) || k("COND_CMT_HIDE_LOWER Error! [" + l + "]");
        f = m() + "\x3c!--[" + g + "]>" + e(l, !0, w) + "<![endif]--\x3e";
        break;
      case 16:
        O(g) || k("NETSCAPE4_COND_CMT_HIDE_LOWER Error! [" + l + "]");
        f = m() + "\x3c!--{" + g + "};" + e(l, !0, w) + "--\x3e";
        break;
      case 14:
        O(g) || k("COND_CMT_SHOW_LOWER_START Error! [" + l + "]");
        f = "\x3c!--[" + g + "]>\x3c!--\x3e";
        break;
      case 15:
        f = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        t = ua(b, l, G, r, k);
        if (void 0 !== t && null !== t && "" !== t) {
          if (R(t) || K(t)) {
            return -1;
          }
          k("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(l) + "] result:" + JSON.stringify(t));
        }
        break;
      case 18:
        O(g) || k("ELEMENT_END_TAG Error! [" + l + "]");
        f = "</" + g + ">";
        break;
      case 17:
        var x = !0;
      case 1:
        n = l[1], u = 2;
      default:
        O(n) || k("Not html.json! [" + l + "]"), n = Da(n), G = n[1], r = n[2], n = n[0], "P" !== v || pa[n] ? v = "" : f = m(), f += "<" + n, G && (f += " id=" + xa(G, z, p || q)), r && (f += " class=" + xa(r, z, p || q)), p || (F = p = p || ba[n] ? !0 : !1), u = l[u], T(u) && (f += " " + y(u)), f = (l = e(l, oa[n], w || qa[n])) ? f + (">" + l) : x ? f + ">" : f + (p ? " />" : ">"), x ? v = "" : p && !l || na[n] && (!t || "P" !== n) ? v = ca[n] ? "" : n : (f += "</" + n + ">", v = ""), F && (p = 
        !1);
    }
    return f;
  }
  function e(l, G, r) {
    for (var t = "", w = ya(l), m; w < l.length; ++w) {
      m = l[w], R(m) ? t += h([3, m], l, w, !1, r) : K(m) ? (m = h(m, l, w, G, r), -1 === m ? --w : t += m) : k("Invalid html.json! [" + m + "]");
    }
    return t;
  }
  function y(l) {
    var G = "", r, t;
    for (r in l) {
      var w = l[r];
      (t = 0 === r.indexOf(C)) && (r = r.substr(C.length));
      "className" === r && (r = "class");
      t && (w = va(!0, b, r, w, k));
      if (!(null == w || aa[r] && !1 === w || (G += " " + r, aa[r]))) {
        if ("style" === r && N(w)) {
          t = void 0;
          var m = w, f = "";
          for (t in m) {
            w = m[t];
            "0px" === w && (w = 0);
            for (var D, g = [], u = t.split(""), n = u.length; n;) {
              D = u[--n], "A" <= D && "Z" >= D && (D = "-" + D.toLowerCase()), g[n] = D;
            }
            D = g.join("");
            f += ";" + D + ":" + wa("" + w);
          }
          w = f.substr(1);
          if (!w) {
            continue;
          }
        }
        G += "=" + xa(w, z, p || q);
      }
    }
    return G.substr(1);
  }
  var k = "function" === typeof c ? c : function() {
  };
  c = c && "object" === typeof c ? c : d || {};
  var q = !0 === c.quotAlways, z = !0 === c.useSingleQuot, C = c.instructionAttrPrefix || ":", v, p = !1;
  if (K(a)) {
    return 7 === ta(a) && (a = [11, a]), h(a, null, 0, !1, !1);
  }
  k("Invalid html.json document!");
}
;Z.json2html = !0;
Xa = function(a, b, c, d) {
  a.shift();
  return db(a, b, c, d) || "";
};
function eb(a, b, c) {
  const d = this, h = require("plugin-error");
  return require("through2").obj(function(e, y, k) {
    if (e.isNull()) {
      return k();
    }
    if (e.isStream()) {
      return this.emit("error", new h("NicePageBuilder.gulp.json2html", "Streaming not supported")), k();
    }
    if (".json" !== e.extname) {
      return this.push(e), k();
    }
    const q = e.stem.split(".").pop();
    switch(q) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        y = JSON.parse(e.contents.toString(y)), e.path = y[0].FILE_PATH, e.contents = Buffer.from(Xa.call(d, y, a, b, c)), e.extname = "." + q;
    }
    this.push(e);
    k();
  });
}
;Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;
Z.gulp = function(a) {
  a = Z.la(a);
  Ua && (a.html2json = Za);
  Va && (a.generator = ab);
  Wa && (a.json2json = cb);
  Xa && (a.json2html = eb);
  return a;
};
Z.all = {};

