var aa = {xml:!0, svg:!0, math:!0}, ba = {checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, ismap:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, nowrap:!0, readonly:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, 
isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, q = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, 
ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, 
NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, 
TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, 
SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, 
I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, 
OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
q.LI = q.TD = q.DD;
q.TH = q.DT;
q.RB = q.RP = q.RT = q.P;
q.TFOOT = q.THEAD = q.TBODY;
q.RTC = q.RBC;
var I = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function ea(a, b) {
  var c = 0;
  function e() {
    c && (fa(b, f(a.substring(0, c))), a = a.substring(c), c = 0);
  }
  function f(A) {
    return A.split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&");
  }
  function d(A, F, y) {
    for (var G = 0, r = y.length, m = 3, p, l; m < r && 2 !== G;) {
      l = y.charAt(m);
      switch(G) {
        case 0:
          I[l] & 4 ? G = 1 : ">" === l && (G = 2);
          G && (p = y.substring(2, m));
          break;
        case 1:
          ">" === l && (G = 2);
      }
      ++m;
    }
    return 2 === G ? (ca[p] || n(A, F, h || u ? p : p.toUpperCase(), !1), m) : 0;
  }
  function n(A, F, y, G) {
    var r = 0, m = A.length;
    if (y) {
      for (r = m; 0 <= r && A[--r] !== y;) {
      }
    }
    if (0 <= r) {
      for (; r < m;) {
        ha(F, A[--m], G && !q[A[m]], !1), h && aa[A[m]] && (h = !!F.ga);
      }
      A.length = r;
      if (u) {
        for (u = !1, m = r; m;) {
          if (0 < A[--m].indexOf(":")) {
            u = !0;
            break;
          }
        }
      }
    } else {
      ha(F, y, !1, !0);
    }
  }
  function g(A, F, y, G) {
    function r(P, x) {
      w[P] = !0 === x ? !0 : ba[P.toLowerCase()] ? h ? f(x || P) : !0 : f(x || "");
      ++D;
    }
    function m() {
      (B = "/>" === G.substr(t, 2)) && ++t;
      return B;
    }
    for (var p = 1, l = G.length, t = 2, w = {}, D = 0, B = !1, v, H, J, K, M, R; t < l && 9 > p;) {
      v = G.charAt(t);
      switch(p) {
        case 1:
          if (I[v] & 4) {
            p = 2, H = G.substring(1, t);
          } else if (">" === v || m()) {
            p = 9, H = G.substring(1, t);
          }
          break;
        case 2:
          ">" === v || m() ? p = 9 : I[v] & 4 || (p = 3, J = t);
          break;
        case 3:
          if ("=" === v) {
            p = 5, K = G.substring(J, t);
          } else if (I[v] & 4) {
            p = 4, K = G.substring(J, t);
          } else if (">" === v || m()) {
            p = 9, r(G.substring(J, t), !0);
          }
          break;
        case 4:
          "=" === v ? p = 5 : ">" === v || m() ? (p = 9, r(K, !0)) : I[v] & 4 || (p = 3, r(K, !0), J = t);
          break;
        case 5:
          '"' === v || "'" === v ? (p = 6, M = v, J = t + 1) : I[v] & 4 || (p = 7, J = t);
          R = !1;
          break;
        case 6:
          R || v !== M || (p = 2, r(K, G.substring(J, t)));
          R = "\\" === v && !R;
          break;
        case 7:
          I[v] & 4 ? p = 2 : ">" === v && (p = 9), 7 !== p && r(K, G.substring(J, t));
      }
      ++t;
    }
    if (9 === p) {
      p = H.toUpperCase();
      h ||= !!aa[H];
      u ||= 0 < H.indexOf(":");
      if (!h && !u) {
        for (; F;) {
          if (q[F] && !q[F][p]) {
            n(A, y, F, !1), F = A[A.length - 1];
          } else {
            break;
          }
        }
      }
      (B = B || !!ca[p]) || (A[A.length] = h || u ? H : p);
      ia(y, h || u ? H : p, D ? w : null, B);
      return t;
    }
    return 0;
  }
  for (var k = [], h = !!b.ga, u = !1, E = a.length - c, z, C; a;) {
    z = k[k.length - 1];
    if (da[z]) {
      if ("PLAINTEXT" === z || "plaintext" === z) {
        fa(b, f(a)), a = "";
      } else {
        if (C = a.indexOf("</" + (h || u ? z : z.toLowerCase())), -1 === C && (C = a.indexOf("</" + (h || u ? z.toUpperCase() : z))), 0 <= C) {
          if (c = C, e(), z = d(k, b, a)) {
            a = a.substring(z);
          } else {
            throw a;
          }
        } else {
          throw a;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === c) {
      if (e(), C = a.indexOf(">"), -1 !== C) {
        ja(b, a.substring(c, C + 1)), a = a.substring(C + 1);
      } else {
        throw a;
      }
    } else if (a.indexOf("<?") === c) {
      if (e(), C = a.indexOf("?>"), -1 !== C) {
        ka(b, f(a.substring(2, C))), a = a.substring(C + 2);
      } else {
        throw a;
      }
    } else if (a.indexOf("<![CDATA[") === c) {
      if (e(), C = a.indexOf("]]\x3e"), -1 !== C) {
        la(b, f(a.substring(9, C))), a = a.substring(C + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("\x3c!--") === c) {
      if (e(), C = a.indexOf("--\x3e"), -1 !== C) {
        ma(b, f(a.substring(4, C))), a = a.substring(C + 3);
      } else {
        throw a;
      }
    } else if (a.indexOf("</") === c && I[a.charAt(c + 2)] & 3) {
      if (e(), z = d(k, b, a)) {
        a = a.substring(z);
      } else {
        throw a;
      }
    } else if ("<" === a.charAt(c) && I[a.charAt(c + 1)] & 3) {
      if (e(), z = g(k, z, b, a)) {
        a = a.substring(z);
      } else {
        throw a;
      }
    } else {
      C = a.indexOf("<", c), -1 === C ? (fa(b, f(a)), a = "") : c < C ? c = C : ++c;
    }
    z = a.length - c;
    if (z === E) {
      throw a;
    }
    E = z;
  }
  e();
  n(k, b, "", !0);
}
;var na = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, oa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, pa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, qa = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, ra = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, sa = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function L(a) {
  return !(!a || a.pop !== [].pop);
}
function N(a) {
  return !(!a || "object" !== typeof a);
}
function O(a) {
  return "" + a === a;
}
function S(a) {
  return O(a) || a === +a;
}
function ta(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0 ? +a : a;
}
function ua(a) {
  if (S(a)) {
    a = 3;
  } else {
    if (L(a)) {
      if (O(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function va(a) {
  return !L(a) && N(a);
}
function wa(a, b, c, e, f) {
  var d = b[1], n = b.slice(2), g;
  "function" === typeof a ? g = n.length ? a(d, n) : a(d) : g = n.length ? a[d](n) : a[d]();
  void 0 !== g && null !== g && "" !== g && (S(g) ? c ? c.splice(e, 1, g) : (b.length = 0, b.push(3, b)) : L(g) ? 11 === g[0] ? c ? (g.shift(), g.unshift(e, 1), c.splice.apply(c, g)) : (b.length = 0, b.push.apply(b, g)) : L(g[0]) ? c ? (g.unshift(e, 1), c.splice.apply(c, g)) : (b.length = 0, b.push(11), b.push.apply(b, g)) : c ? c.splice(e, 1, g) : (b.length = 0, b.push(11, g)) : f("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(b) + "]"));
  return g;
}
function xa(a, b, c, e, f) {
  var d;
  if (L(e) && O(e[0])) {
    var n = e[0];
    e = e.slice(1);
    "function" === typeof b ? d = e.length ? b(n, e) : b(n) : d = e.length ? b[n](e) : b[n]();
  } else {
    O(e) ? "function" === typeof b ? d = b(e) : d = b[e]() : f("Invalid InstructionAttr value! [" + c + "=" + e + "]");
  }
  return a && L(d) ? xa(!0, b, c, d, f) : d;
}
function ya(a, b, c) {
  a = za(a, !0);
  var e;
  Aa = a;
  b && (b.ca ? b.ca.push(a) : b.ca = [a]);
  if (L(c)) {
    var f = Ba(a);
    b = 0;
    for (e = c.length; b < e; b += 2) {
      var d = c[b];
      var n = c[b + 1];
      if (d === +d) {
        if (d === a.$ && !0 === n(a)) {
          break;
        }
      } else if (f && O(d) && d === a.pa && !0 === n(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function Ca(a) {
  return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
}
function Da(a, b, c) {
  a = Ca("" + a);
  var e = a.match('"'), f = a.match("'"), d = b ? "'" : '"';
  if (e && f) {
    a = b ? d + a.split("'").join("\\'") + d : d + a.split('"').join('\\"') + d;
  } else if (e) {
    a = "'" + a + "'";
  } else if (f) {
    a = b ? d + a.split("'").join("\\'") + d : d + a + d;
  } else if (c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length) {
    a = d + a + d;
  }
  return a;
}
function T(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  return 1 === ua(a) || 17 === b ? va(a[c]) ? c + 1 : c : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function Ea(a) {
  var b = T(a), c = "", e;
  if (b < a.length) {
    for (e = b; e < a.length;) {
      b = a[e];
      var f = ua(b);
      3 === f ? (c = S(b) ? c + b : c + b[1], a.splice(e, 1)) : (c && (a.splice(e, 0, ta(c)), c = ""), ++e, 1 !== f && 17 !== f && 13 !== f && 16 !== f || Ea(b));
    }
    c && (a[e] = ta(c));
  }
}
function Fa(a, b, c, e, f, d) {
  if (!b && e) {
    if (c) {
      a = Ga(Ha(a, "\n"), "\n");
    } else {
      a = a.split("\r\n").join("\n");
      d && (a = a.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
      for (a = a.split("\t").join(" "); 0 <= a.indexOf("\n\n");) {
        a = a.split("\n\n").join("\n");
      }
      if (f) {
        var n = "\n" === a.charAt(0) && /\n[ ]*$/.test(a);
      }
      a = Ga(a, "\n");
      for (a = a.split("\n").join(" "); 0 <= a.indexOf("  ");) {
        a = a.split("  ").join(" ");
      }
      n && (a = Ga(Ha(a, " "), " "));
      a = a.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    }
  }
  return ta(a);
}
function Ha(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Ga(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function Ia(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), e = "", f = "";
  b < c ? (e = a.split(".")[1], a = a.split(".")[0], 0 < b && (f = a.split("#")[1], a = a.split("#")[0])) : c < b && (f = a.split("#")[1], a = a.split("#")[0], 0 < c && (e = a.split(".")[1], a = a.split(".")[0]));
  return [a, f, e];
}
function Ja(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function Ka(a) {
  var b = [], c = -1, e;
  for (e in a) {
    var f = a[e];
    "0px" === f && (f = 0);
    for (var d = ++c, n, g = [], k = e.split(""), h = k.length; h;) {
      n = k[--h], "A" <= n && "Z" >= n && (n = "-" + n.toLowerCase()), g[h] = n;
    }
    n = g.join("");
    b[d] = n + ":" + Ca("" + f);
  }
  return b.join(";").substr(1);
}
function La(a, b) {
  function c(f) {
    var d = f[0], n = f[1], g = d, k = 1;
    switch(d) {
      case 9:
      case 11:
      case 13:
      case 16:
        return e(f);
      case 7:
        return !0;
      case 1:
      case 17:
        g = n, k = 2;
      default:
        if (O(g)) {
          if (d = va(f[k])) {
            a: {
              k = f[k];
              for (var h in k) {
                if (0 === h.indexOf(b)) {
                  d = !0;
                  break a;
                }
              }
              d = !1;
            }
          }
          return d ? !0 : e(f);
        }
    }
    return !1;
  }
  function e(f) {
    for (var d = T(f), n = f.length, g; d < n; ++d) {
      if (g = f[d], L(g) && c(g)) {
        return !0;
      }
    }
    return !1;
  }
  return !c(a);
}
function za(a, b) {
  function c(f, d) {
    function n(z, C, A) {
      return g ? U(g, z, C, A) : new Ma(b, 0, z, C, A);
    }
    var g = d === !!d ? null : d;
    d = f[0];
    var k = f[1], h = 1, u = d;
    switch(d) {
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return n(d, k);
      case 15:
        return n(d);
      case 7:
        var E = [];
        h = 2;
        for (u = f.length; h < u; ++h) {
          E[h - 2] = f[h];
        }
        return n(d, k, u ? E : null);
      case 9:
      case 13:
      case 16:
        E = n(d, k);
        break;
      case 11:
        E = n(d);
        break;
      case 1:
      case 17:
        u = k, h = 2;
      default:
        O(u) && (E = n(1 === h ? 1 : d, u, f[h]));
    }
    b || e(f, E);
    return E;
  }
  function e(f, d) {
    for (var n = T(f), g; n < f.length; ++n) {
      g = f[n], S(g) ? U(d, 3, g) : L(g) && c(g, d);
    }
  }
  return c(a, b);
}
;function Ma(a, b, c, e, f) {
  if (a === !!a) {
    var d = null;
    this.ba = a;
  } else {
    d = a, this.ba = d.ba;
  }
  if (d) {
    switch(d.$) {
      case 3:
      case 8:
      case 4:
      case 7:
      case 15:
      case 18:
        throw "nodeType:" + d.$ + " \u306f\u89aa\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
    if (Na(this)) {
      throw "nodeType:" + d.$ + " \u306f\u5b50\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  this.ka = d;
  this.$ = c;
  if (d) {
    if (d.ca || (d.ca = []), a = d.ca, 0 <= b && b < a.length) {
      if (1 <= b && 17 === a[b - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.splice(b, 0, this);
    } else {
      if (a.length && 17 === a[a.length - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.push(this);
    }
  }
  switch(c) {
    case 1:
    case 17:
      this.Aa = f || null;
    case 18:
      this.pa = e;
      break;
    case 7:
      this.Ma = f || null;
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.oa = e;
  }
}
var Aa = null, V = !1;
Ma.prototype.ja = function() {
  if (this.ba) {
    throw "restricted mode \u3067\u306f getHTMLJSON() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = [this.$], b = this.ca, c;
  switch(this.$) {
    case 1:
      a.length = 0;
    case 17:
      a.push(this.pa);
      var e = this.Aa;
      va(e) && (a.push(e), e.style && N(e.style) && (e.style = Ka(e.style)));
      break;
    case 18:
      a[1] = this.pa;
      break;
    case 7:
      if (e = this.Ma) {
        var f = 0;
        for (c = e.length; f < c; ++f) {
          a[2 + f] = e[f];
        }
      }
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      a[1] = this.oa;
  }
  if (b) {
    for (f = 0, c = b.length; f < c; ++f) {
      a.push(b[f].ja());
    }
  }
  return a;
};
function W(a) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.oa;
    default:
      throw "getNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Oa(a, b) {
  if (a.ba && !Pa(a)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e setNodeValue() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.oa !== b && (V = !0);
      a.oa = b;
      break;
    default:
      throw "setNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Ba(a) {
  return 1 === a.$ || 17 === a.$;
}
function Qa(a) {
  if (!Ba(a) && 18 !== a.$) {
    throw "getTagName() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.pa;
}
function X(a) {
  if (!Ra(a)) {
    throw "getChildNodeCount() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeCount() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca.length;
}
function Y(a, b) {
  if (!Ra(a)) {
    throw "getChildNodeAt() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca[b] || null;
}
Ma.prototype.remove = function() {
  if (Na(this)) {
    throw "remove() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba && !Pa(this)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e discard() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (this.ba) {
    return this.Na = V = !0, null;
  }
  if (Na(this)) {
    throw "getMyIndex() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba) {
    throw "restricted mode \u3067\u306f getMyIndex() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = this.ka ? this.ka.ca.indexOf(this) : -1;
  0 <= a && (this.ka.ca.splice(a, 1), this.ka = null, V = !0);
};
function U(a, b, c, e) {
  if (a.ba && (!Pa(a) || !Ra(a))) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertNodeLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (a.ba) {
    return a.ga = a.ga || [], a.ga.push([b, c, e]), V = !0, null;
  }
  var f = X(a);
  if (a.ba) {
    throw "restricted mode \u3067\u306f insertNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  V = !0;
  return new Ma(a, f, b, c, e);
}
function Ra(a) {
  return 1 === a.$ || 17 === a.$ || 13 === a.$ || 16 === a.$ || Na(a);
}
function Na(a) {
  return 9 === a.$ || 11 === a.$;
}
function Pa(a) {
  return a === Aa && !a.Na;
}
;function Sa(a, b, c) {
  function e(l, t, w, D) {
    switch(l.$) {
      case 1:
      case 17:
        var B = {};
        D = Qa(l);
        var v = !!sa[D];
        var H = l.Aa, J = 0, K;
        if (H) {
          for (K in H) {
            var M = ba[K] ? 1 : H[K];
            if ("id" === K) {
              var R = M;
            } else if ("class" === K) {
              var P = M;
            } else {
              if (K.startsWith(G)) {
                var x = f(M);
                x.na ? (M = [x.qa], u.apply(M, x.na)) : M = x.qa;
              }
              B[K] = ta(M);
              ++J;
            }
          }
        }
        D = Ja(D, R, P);
        if (v && E) {
          for (; x = n(l);) {
            if (k(W(x))) {
              Oa(x, Ha(W(x), "\n"));
              break;
            } else {
              x.remove();
            }
          }
          for (; x = g(l);) {
            if (k(W(x))) {
              Oa(x, Ga(W(x), "\n"));
              break;
            } else {
              x.remove();
            }
          }
        }
        B = J ? [D, B] : [D];
        for (x = 0; x < X(l); ++x) {
          e(Y(l, x), B, v || w, !!ra[D]);
        }
        t.push(B);
        17 !== l.$ || B.unshift(17);
        break;
      case 18:
        t.push([18, Qa(l)]);
        break;
      case 3:
        (v = Fa("" + W(l), w, D, E, z, C)) && t.push(v);
        break;
      case 4:
        A && (v = W(l), t.push([4, ta(v)]));
        break;
      case 7:
        v = W(l);
        x = f(v);
        B = [7, x.qa];
        x.na && u.apply(B, x.na);
        t.push(B);
        break;
      case 8:
        v = W(l);
        if (v.startsWith("[if") && 0 < v.indexOf("<![endif]")) {
          l = Ta(d(v, ">", "<![endif]", !0), !0);
          B = [13, d(v, "[", "]", !1)];
          for (x = 0; x < X(l); ++x) {
            e(Y(l, x), B, w, D);
          }
          (2 < B.length || y) && t.push(B);
        } else if (v.startsWith("{") && 2 < v.indexOf("};")) {
          l = Ta(v.substring(v.indexOf("};") + 2), !0);
          B = [16, d(v, "{", "};", !1)];
          for (x = 0; x < X(l); ++x) {
            e(Y(l, x), B, w, D);
          }
          (2 < B.length || y) && t.push(B);
        } else {
          v.startsWith("[if") && 0 < v.indexOf("><!") ? (t.push([14, d(v, "[", "]", !1)]), p = !0) : "<![endif]" === v && p ? (w = t[t.length - 1], y || !w || 14 !== w[0] ? t.push([15]) : w && t.pop(), p = !1) : F && t.push([8, ta(v)]);
        }
        break;
      case 9:
        v = W(l);
        E && (v = v.split("\n").join(" ").split("  ").join(" "));
        B = [9, v];
        t.push(B);
        for (x = 0; x < X(l); ++x) {
          e(Y(l, x), B, !1, !1);
        }
        break;
      case 11:
        for (B = [11], t.push(B), x = 0; x < X(l); ++x) {
          e(Y(l, x), B, w, D);
        }
    }
  }
  function f(l) {
    var t = l.indexOf(r), w = Ga(Ha(-1 === t ? l : l.substr(0, t), " "), " ");
    l = -1 === t ? [] : JSON.parse("[" + l.substring(t + r.length, l.lastIndexOf(m) - 2) + "]");
    return l.length ? {qa:w, na:l} : {qa:w};
  }
  function d(l, t, w, D) {
    t = l.indexOf(t) + t.length;
    w = D ? l.lastIndexOf(w) : l.indexOf(w, t);
    return l.substring(t, w);
  }
  function n(l) {
    for (var t = 0, w = X(l), D; t < w; ++t) {
      if (D = Y(l, t), Ba(D) && (D = n(D)), D && 3 === D.$) {
        return D;
      }
    }
  }
  function g(l) {
    for (var t = X(l), w; t;) {
      if (w = Y(l, --t), Ba(w) && (w = g(w)), w && 3 === w.$) {
        return w;
      }
    }
  }
  function k(l) {
    return l.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const h = [], u = h.push;
  a = Ta(a, b);
  c = c || {};
  const E = -1 === ["none", !1].indexOf(c.trimWhitespaces), z = "aggressive" === c.trimWhitespaces, C = !!c.removeNewlineBetweenFullWidthChars, A = !0 === c.keepCDATASections, F = !0 === c.keepComments, y = !0 === c.keepEmptyConditionalComment, G = c.instructionAttrPrefix || ":";
  c = c.argumentBrackets || "()";
  const r = c.substr(0, c.length / 2), m = c.substr(c.length);
  let p = !1;
  e(a, h, !1, !1);
  Ea(h[0]);
  return h[0];
}
function Ta(a, b) {
  b = new Ua(b);
  ea(a, b);
  return b.ba;
}
function Ua(a) {
  this.ca = a;
  this.$ = this.ba = new Ma(!1, 0, 11);
}
function ja(a, b) {
  var c = a.ba;
  if (c.ba) {
    throw "restricted mode \u3067\u306f setNodeType() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (11 !== c.$) {
    throw "nodeType \u306e\u5909\u66f4\u306f DOCUMENT_FRAGMENT_NODE -> DOCUMENT_NODE \u3060\u3051\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059!";
  }
  9 !== c.$ && (V = !0);
  c.$ = 9;
  Oa(a.ba, b);
}
function ia(a, b, c, e) {
  if (e) {
    a = a.$;
    if (a.ba && (!Pa(a) || !Ra(a))) {
      throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertElementLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
    }
    if (a.ba) {
      a.ga = a.ga || [], a.ga.push([1, b, c, void 0]);
    } else {
      e = X(a);
      if (a.ba) {
        throw "restricted mode \u3067\u306f insertElementAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      new Ma(a, e, 1, b, c);
    }
    V = !0;
  } else {
    a.$ = U(a.$, 17, b, c);
  }
}
function ha(a, b, c, e) {
  if (e) {
    a.ca && U(a.$, 18, b);
  } else if (!c || !a.ca) {
    if (b === Qa(a.$)) {
      b = a.$;
      if (b.ba) {
        throw "restricted mode \u3067\u306f finalize() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      if (17 !== b.$) {
        throw "finalize() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      1 !== b.$ && (V = !0);
      b.$ = 1;
      b = a.$;
      if (Na(b)) {
        throw "getParent() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      if (b.ba && !Pa(b)) {
        throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e getParent() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      a.$ = b.ka;
    } else {
      throw "End tag error! " + b;
    }
  }
}
function fa(a, b) {
  U(a.$, 3, b);
}
function ma(a, b) {
  U(a.$, 8, b);
}
function la(a, b) {
  U(a.$, 4, b);
}
function ka(a, b) {
  U(a.$, 7, b);
}
;function Va(a) {
  a && (a = Wa(a), this.$ = a + ("/" === a.charAt(a.length - 1) ? "" : "/"));
}
function Xa(a) {
  a = a.split("index.html");
  a[a.length - 1] || a.pop();
  return a.join("index.html");
}
function Ya(a, b) {
  if (!a.$) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  return 0 === b.indexOf(a.$);
}
function Wa(a) {
  return a.split("\\").join("/");
}
function Za(a, b, c) {
  if (Ya(a, c) || "/" === c.charAt(0)) {
    b = c;
  } else {
    if ("/" !== b.charAt(0)) {
      throw b + " is not a root relative path!";
    }
    var e;
    (e = "/" === c.charAt(0)) || (e = a.$ ? Ya(a, c) || $a(c) : $a(c));
    if (e) {
      throw c + " is not a relative path!";
    }
    a = c;
    b = b.split("/");
    b.pop();
    "" === b[0] && b.shift();
    for ("./" === a.substr(0, 2) && (a = a.substr(2)); "../" === a.substr(0, 3);) {
      a = a.substr(3), --b.length;
    }
    b = b.join("/") + "/" + a;
  }
  return b;
}
function $a(a) {
  return "//" === a.substr(0, 2) || "http://" === a.substr(0, 7) || "https://" === a.substr(0, 8);
}
;var ab = !1, bb = !1, cb = !1, db = !1;
function Z(a) {
  a = Z.ua(a);
  ab && (a.html2json = ab);
  bb && (a.generator = bb);
  cb && (a.json2json = cb);
  db && (a.json2html = db);
  return a;
}
Z.Ka = function(a) {
  return JSON.parse(JSON.stringify(a));
};
Z.ua = function(a) {
  a = a || {};
  const b = require("path").resolve(a.srcRootPath || "./") + "/", c = new Va(b), e = a.allPagesPath && Za(c, "/", a.allPagesPath), f = a.allOptionsPath && Za(c, "/", a.allOptionsPath), d = Za(c, "/", a.allMixinsPath || "all-mixins.json"), n = Za(c, "/", a.allTempletesPath || "all-templetes.json");
  return {Ga:Wa(b), wa:e || "", va:f || "", Ha:d, Ia:n, Ea:Z.aa.Ca(n), Da:Z.aa.Ca(d), ea:a.mixins || null, da:a.templetes || null, ia:{}, path:c};
};
Z.ma = function(a, b) {
  return b.bind(a);
};
Z.za = function(a, b, c) {
  if (c) {
    a = new eb(a, b.FILE_PATH);
    var e;
    if ("function" === typeof c) {
      return Z.ma(a, c);
    }
    b = {};
    for (e in c) {
      b[e] = Z.ma(a, c[e]);
    }
    return b;
  }
};
Z.xa = function(a, b, c) {
  if (c) {
    a = new eb(a, b.FILE_PATH);
    var e;
    if ("function" === typeof c) {
      return Z.ma(a, c);
    }
    var f = [];
    b = 0;
    for (e = c.length; b < e; b += 2) {
      f[b] = c[b], f[b + 1] = Z.ma(a, c[b + 1]);
    }
    return f;
  }
};
Z.Ja = function(a, b, c) {
  if (c) {
    return a = new eb(a, b.FILE_PATH), c.bind(a);
  }
};
Z.ya = function(a, b, c) {
  if (c) {
    return a = new eb(a, b.FILE_PATH), c.bind(a);
  }
};
function eb(a, b) {
  this.ia = a.ia;
  Xa(b);
}
;Z.fa = {};
Z.aa = {};
Z.fa.ha = !0;
Z.aa.ja = function(a) {
  a = a[0];
  if (Z.fa.ha && !L(a)) {
    throw "Not html.json! " + JSON.stringify(a);
  }
  return a;
};
Z.aa.sa = function(a) {
  a = Z.aa.ja(a)[0];
  return !L(a) && N(a) ? a : null;
};
Z.aa.la = function(a) {
  var b = a[0];
  return L(a) && !L(b) && N(b);
};
Z.aa.ta = function(a) {
  return !L(a) && N(a) ? !!a.TEMPLETE : Z.aa.la(a) ? a[0].TEMPLETE || !1 : !1;
};
Z.aa.ra = function(a) {
  return !L(a) && N(a) ? !!a.MIXINS : Z.aa.la(a) ? a[0].MIXINS || !1 : !1;
};
Z.aa.Fa = function(a, b, c, e, f) {
  function d(h) {
    if (h) {
      for (let u = 0; u < h.length; ++u) {
        const E = e[h[u]];
        n(E[0], E[2], !1);
      }
    }
  }
  function n(h, u, E) {
    let z = 0;
    for (const C in h) {
      if (Z.fa.ha && !E && "MIXINS" === C) {
        throw "Mixin has MIXINS property!";
      }
      "TEMPLETE" === C ? (g = g || h[C], g === h[C] && ++z) : void 0 === a[C] && (a[C] = h[C], ++z);
    }
    (z || E) && k < u && (k = u);
  }
  if (Z.aa.ta(a) && !c) {
    if (f) {
      f(a.FILE_PATH + " has TEMPLETE property, and no templetes found!");
    } else {
      throw a.FILE_PATH + " has TEMPLETE property, and no templetes found!";
    }
  } else {
    if (Z.aa.ra(a) && !e) {
      if (f) {
        f(a.FILE_PATH + " has MIXINS property, and no mixins found!");
      } else {
        throw a.FILE_PATH + " has MIXINS property, and no mixins found!";
      }
    } else {
      var g = a.TEMPLETE, k = a.MODIFIED_AT;
      d(a.MIXINS);
      for (g && (b[0] = g); g;) {
        const h = c[g], u = Z.aa.sa(h);
        if (u) {
          if (Z.aa.ra(u) && !e) {
            if (f) {
              f(g + " has MIXINS property, and no mixins found!");
            } else {
              throw g + " has MIXINS property, and no mixins found!";
            }
            return;
          }
          g = "";
          n(u, h[2], !0);
          d(u.MIXINS);
          g && b.push(g);
        } else {
          g = "";
        }
      }
      a.UPDATED_AT = k;
    }
  }
};
Z.aa.Oa = function(a, b) {
  const c = b.split("/");
  a.FILE_NAME = c.pop();
  a.FOLDER_PATH = c.join("/");
  a.URL = Xa(b);
};
Z.aa.Ca = function(a) {
  let b = Wa(a).split(".json");
  if (Z.fa.ha && b[b.length - 1]) {
    throw a + " is not .json file path!";
  }
  b.pop();
  b = b.join(".json").split("/");
  return b.pop().split(".").pop();
};
Z.aa.La = function(a) {
  return fb(a, function(b, c) {
    return ("SCRIPT" === b || "script" === b) && c && ("application/ld+json" === c.type || "application/json" === c.type || "nice-page-builder/object" === c.type) || !1;
  });
};
Z.aa.Ba = function(a, b) {
  return fb(a, function(c) {
    return "SLOT" === c || "slot" === c;
  }, b);
};
function fb(a, b, c) {
  function e(n) {
    let g = T(n), k = n.length;
    for (var h; g < k; ++g) {
      var u = n[g], E;
      if (E = L(u)) {
        a: {
          h = u;
          E = n;
          u = g;
          var z = h[0];
          const C = h[1];
          let A = z, F = 1;
          switch(z) {
            case 9:
            case 11:
            case 13:
            case 16:
              h = e(h);
              break a;
            case 1:
            case 17:
              A = C, F = 2;
            default:
              if (O(A)) {
                z = h[F];
                h = b(A, va(z) ? z : null) ? [h, E, u] : e(h);
                break a;
              }
          }
          h = void 0;
        }
        E = h;
      }
      if (E) {
        return h;
      }
    }
  }
  let f = a[0], d;
  return !L(f) && N(f) ? (a.shift(), d = e(a), !c && (a.unshift(f), d && d[1] === a) ? [d[0], a, ++d[2]] : d) : e(a);
}
Z.aa.Pa = function(a) {
  function b(e) {
    let f = T(e);
    for (; f < e.length; ++f) {
      var d = e[f];
      if (L(d)) {
        a: {
          var n = e;
          const g = d[0], k = d[1];
          let h = g;
          switch(g) {
            case 11:
              d.unshift(f);
              d[1] = 1;
              n.splice.apply(n, d);
              d = -1;
              break a;
            case 9:
            case 13:
            case 16:
              b(d);
              break;
            case 1:
            case 17:
              h = k;
            default:
              O(h) && b(d);
          }
          d = void 0;
        }
        -1 === d && --f;
      }
    }
  }
  let c = a[0];
  !L(c) && N(c) ? (a.shift(), b(a), a.unshift(c)) : b(a);
};
Z.html2json = !0;
ab = function(a, b, c) {
  a = Sa(a, b, c);
  if (b = Z.aa.La(a)) {
    c = b[0], b[1].splice(b[2], 1), c && 3 === c.length && (b = JSON.parse(c[2]), !L(b) && N(b) && a.unshift(b));
  }
  return a;
};
function gb(a) {
  const b = this, c = require("plugin-error"), e = require("vinyl"), f = require("through2"), d = {}, n = b.da = b.da || {}, g = b.ea = b.ea || {};
  return f.obj(function(k, h, u) {
    var E = Wa(k.path);
    if (k.isNull()) {
      return u();
    }
    if (k.isStream()) {
      return this.emit("error", new c("NicePageBuilder.gulp.html2json", "Streaming not supported")), u();
    }
    if (0 !== E.indexOf(b.Ga)) {
      return this.emit("error", new c("NicePageBuilder.gulp.html2json", '"' + E + '" is outside of srcRootPath:"' + b.Ga + '"')), u();
    }
    const z = k.contents.toString(h);
    h = parseInt(k.stat.birthtimeMs, 10);
    const C = parseInt(k.stat.ctimeMs, 10);
    var A = b.path;
    if (!A.$) {
      throw "absoluteDirectoryPathOfRoot is empty!";
    }
    if (!Ya(A, E)) {
      throw E + " is not a absolute path!";
    }
    E = Wa(E).substr(A.$.length - 1);
    switch(k.extname) {
      case ".html":
      case ".htm":
      case ".xhtml":
      case ".php":
        k = ab.call(b, z, !1, a);
        d[E] = [k, h, C];
        break;
      case ".json":
        k = JSON.parse(z);
        N(k) && (g[E] = [k, h, C]);
        break;
      default:
        this.push(k);
    }
    u();
  }, function(k) {
    function h(r, m, p) {
      if (m) {
        for (let t = 0, w = m.length; t < w; ++t) {
          const D = Za(b.path, r, m[t]);
          var l = g[D];
          m[t] = D;
          if (l && 3 === l.length) {
            l.push(!0), l = l[0], l.MIXINS && (Z.fa.ha && console.log('Mixin:"' + D + '" cannot have MIXINS property!'), delete l.MIXINS), p || u(D, l.TEMPLETE, l);
          } else if (!l) {
            throw 'Mixin:"' + D + '" required by "' + r + '" does not exist!';
          }
        }
      }
    }
    function u(r, m, p) {
      for (; m;) {
        m = Za(b.path, r, m);
        const l = d[m];
        if (l) {
          if (delete d[m], n[m] = l, p.TEMPLETE = r = m, p = Z.aa.sa(l)) {
            h(r, p.MIXINS, !!p.TEMPLETE), m = p.TEMPLETE;
          } else {
            break;
          }
        } else if (n[m]) {
          break;
        } else {
          throw 'Templete:"' + m + '" required by "' + r + '" does not exist!';
        }
      }
    }
    function E(r, m) {
      r = new e({base:"/", path:r, contents:Buffer.from(JSON.stringify(m))});
      r.extname = ".json";
      G.push(r);
    }
    for (var z in d) {
      var C = d[z], A = Z.aa.sa(C);
      A && (h(z, A.MIXINS, !!A.TEMPLETE), u(z, A.TEMPLETE, A), d[z] && C.push(!0));
    }
    for (var F in g) {
      z = g[F], 3 === z.length ? (Z.fa.ha && console.log("Unused mixin found! " + F), delete g[F]) : z.pop();
    }
    for (var y in d) {
      F = d[y], z = Z.aa.ja(F), 3 === F.length && Z.aa.Ba(z, !1) && (Z.fa.ha && console.log("Unused templete found! " + y), delete d[y]);
    }
    const G = this;
    y = {};
    F = {};
    E(b.Ha, g);
    E(b.Ia, n);
    for (const r in d) {
      z = d[r];
      C = Xa(r);
      delete d[r];
      A = z[0];
      let m = A[0];
      m = !L(m) && N(m) ? m : {};
      m.FILE_PATH = r;
      m.CREATED_AT = z[1];
      m.MODIFIED_AT = z[2];
      m !== A[0] && A.unshift(m);
      E(r + ".json", A);
      delete m.FILE_PATH;
      y[C] = A;
      F[C] = m;
    }
    b.wa && E(b.wa, y);
    b.va && E(b.va, F);
    k();
  });
}
;Z.generator = !0;
bb = function(a, b, c) {
  if (!Z.aa.la(a)) {
    return a;
  }
  const e = a[0], f = [];
  Z.aa.Fa(e, f, b || this.da, c || this.ea);
  for (var d = a; f.length;) {
    c = (b || this.da)[f.shift()];
    a = void 0;
    c = Z.aa.ja(c);
    c = JSON.parse(JSON.stringify(c));
    var n = Z.aa.Ba(c, !0);
    if (n) {
      const g = n[1];
      n = n[2];
      !L(d[0]) && N(d[0]) && (a = d.shift());
      let k = T(d), h = d.length;
      g.splice(n, 1);
      for (n -= k; k < h; ++k) {
        g.splice(n + k, 0, d[k]);
      }
      a && c.unshift(a);
    }
    d = c;
  }
  delete e.TEMPLETE;
  delete e.MIXINS;
  return d;
};
function hb() {
  const a = this, b = require("plugin-error"), c = require("vinyl"), e = require("through2"), f = {};
  let d = a.da, n = a.ea;
  return e.obj(function(g, k, h) {
    if (g.isNull()) {
      return h();
    }
    if (g.isStream()) {
      return this.emit("error", new b("NicePageBuilder.gulp.generator", "Streaming not supported")), h();
    }
    if (".json" !== g.extname) {
      return this.push(g), h();
    }
    k = g.contents.toString(k);
    k = JSON.parse(k);
    switch(g.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return f[k[0].FILE_PATH] = k, h();
      case a.Ea:
        !L(k) && N(k) && (a.da && JSON.stringify(a.da) !== JSON.stringify(k) && console.log("NicePageBuilder.gulp.generator templete list changed!"), d = a.da = k);
        break;
      case a.Da:
        !L(k) && N(k) && (a.ea && JSON.stringify(a.ea) !== JSON.stringify(k) && console.log("NicePageBuilder.gulp.generator templete list changed!"), n = a.ea = k);
    }
    this.push(g);
    h();
  }, function(g) {
    for (const k in f) {
      const h = bb.call(a, f[k], d, n);
      delete f[k];
      this.push(new c({base:"/", path:k + ".json", contents:Buffer.from(JSON.stringify(h))}));
    }
    g();
  });
}
;function ib(a, b, c, e, f) {
  function d(m, p, l, t, w, D) {
    var B = m[0], v = m[1], H = 1, J = B, K;
    switch(B) {
      case 9:
      case 11:
        n(m, t, w, D);
        break;
      case 3:
        v = Fa("" + v, w, D, h, u, E);
        if ("" !== v) {
          p[l] = v;
        } else {
          return p.splice(l, 1), -1;
        }
        break;
      case 4:
        if (!z && p) {
          return p.splice(l, 1), -1;
        }
        break;
      case 8:
        if (!C && p) {
          return p.splice(l, 1), -1;
        }
        break;
      case 13:
        n(m, t, w, D);
        if (!A && p && 2 === m.length) {
          return p.splice(l, 1), -1;
        }
        break;
      case 15:
        m = p[l - 1];
        if (!A && m && 14 === m[0] && m) {
          return p.splice(l - 1, 2), -2;
        }
        break;
      case 16:
        n(m, t, w, D);
        if (!A && p && 2 === m.length) {
          return p.splice(l, 1), -1;
        }
        break;
      case 7:
        if (g) {
          if (m = wa(g, m, p, l, k), void 0 !== m) {
            if (null === m || "" === m) {
              return p ? p.splice(l, 1) : (a.length = 0, a.push(8, "")), -1;
            }
            if (!S(m) && L(m)) {
              return -1;
            }
          } else {
            r = !1;
          }
        } else {
          k("onInstruction is void!");
        }
        break;
      case 1:
      case 17:
        J = v, H = 2;
      default:
        if (O(J)) {
          if (1 + H <= m.length) {
            p = m[H];
            if (va(p)) {
              l = H - 1;
              D = 0;
              var M;
              B = Ia(m[l]);
              v = B[1];
              var R = B[2];
              B = B[0];
              for (Q in p) {
                var P = Q;
                var x = p[Q];
                if (M = 0 === Q.indexOf(F)) {
                  var Q = Q.substr(F.length);
                  "className" === Q && (Q = "class");
                  g ? x = xa(!1, g, Q, x, k) : k("onInstruction is void!");
                  if (void 0 !== x) {
                    if (delete p[P], L(x)) {
                      O(x[0]) ? (p[P] = x, r = !1, ++D) : k("Invalid dynamic attribute callback value! [" + P + "=" + x + "]");
                    } else if ((!ba[Q] || !1 !== x) && null !== x) {
                      if (O(x)) {
                        if ("id" === Q) {
                          v = x;
                          continue;
                        } else if ("class" === Q) {
                          P = x.split(" ");
                          for (x = P.length; x;) {
                            M = P[--x], -1 === (" " + R + " ").indexOf(" " + M + " ") && (R = (R ? " " : "") + M);
                          }
                          continue;
                        }
                      }
                      p[Q] = x;
                      ++D;
                    }
                  } else {
                    r = !1, ++D;
                  }
                } else {
                  ++D;
                }
              }
              m[l] = Ja(B, v, R);
              0 === D && m.splice(H, 1);
            }
            y || (K = y = y || aa[J] ? !0 : 0 < J.indexOf(":"));
            H = !!sa[J];
            n(m, t, H || w, !!ra[J]);
            K && (y = !1);
          }
        } else {
          k("Not html.json! [" + m + "]");
        }
    }
    return 0;
  }
  function n(m, p, l, t) {
    var w = T(m);
    for (p.push(m); w < m.length; ++w) {
      var D = m[w];
      if (!S(D)) {
        if (L(D)) {
          if (D = d(D, m, w, p, l, t)) {
            w += D, G = !0;
          }
        } else {
          k("Invalid html.json! [" + D + "]");
        }
      }
    }
    p.pop();
  }
  var g = b || null;
  b = "function" === typeof c ? c : null;
  var k = "function" === typeof e ? e : function() {
  };
  e = f || {};
  var h = -1 !== ["normal", !0, "aggressive"].indexOf(e.trimWhitespaces), u = "aggressive" === e.trimWhitespaces, E = !!e.removeNewlineBetweenFullWidthChars, z = !1 !== e.keepCDATASections, C = !1 !== e.keepComments, A = !0 === e.keepEmptyConditionalComment, F = e.instructionAttrPrefix || ":", y = !1, G = !1, r = !0;
  if (L(a)) {
    return d(a, null, 0, [], !1, !1), G && Ea(a), b && jb(b, a) && (r = La(a, F)), r;
  }
  k("Invalid html.json document!");
}
function jb(a, b) {
  var c = za(b, !1);
  V = !1;
  a(c);
  if (a = V) {
    V = !1, b.length = 0, b.push.apply(b, c.ja()), Ea(b);
  }
  return a;
}
;Z.json2json = !0;
cb = function(a, b, c, e, f, d) {
  let n, g;
  Z.aa.la(a) && (n = a.shift(), g = Z.Ka(n), g.URL = Xa(g.FILE_PATH), (Z.aa.ta(g) || Z.aa.ra(g)) && Z.aa.Fa(g, [], this.da, this.ea, f), b = Z.za(this, g, b), Z.xa(this, g, c), e = Z.Ja(this, g, e), f = Z.ya(this, g, f));
  b = ib(a, b, e, f, d);
  n && a.unshift(n);
  return b;
};
function kb(a, b, c, e, f) {
  const d = this, n = require("plugin-error"), g = require("vinyl");
  return require("through2").obj(function(k, h, u) {
    if (k.isNull()) {
      return u();
    }
    if (k.isStream()) {
      return this.emit("error", new n("NicePageBuilder.gulp.json2json", "Streaming not supported")), u();
    }
    if (".json" !== k.extname) {
      return this.push(k), u();
    }
    switch(k.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        h = JSON.parse(k.contents.toString(h));
        cb.call(d, h, a, b, c, e, f);
        k.contents = Buffer.from(JSON.stringify(h));
        break;
      case d.Ea:
        h = JSON.parse(k.contents.toString(h));
        !L(h) && N(h) && (d.da && JSON.stringify(d.da) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json templete list changed!"), d.da = h);
        break;
      case d.Da:
        h = JSON.parse(k.contents.toString(h)), !L(h) && N(h) && (d.ea && JSON.stringify(d.ea) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json mixin list changed!"), d.ea = h);
    }
    this.push(k);
    u();
  }, function(k) {
    for (const h in d.ia) {
      this.push(new g({base:"/", path:h, contents:Buffer.from(JSON.stringify(d.ia[h]))}));
    }
    k();
  });
}
;function lb(a, b, c, e, f) {
  function d(y, G, r, m, p, l) {
    function t() {
      var M = "";
      A && (M = "</" + A + ">", A = "");
      return M;
    }
    var w = h ? ya(y, r, h) : null;
    r = "";
    var D = y[0], B = y[1], v = 1, H = D, J;
    switch(D) {
      case 9:
        r = B + n(y, w, !1, l);
        break;
      case 11:
        r = n(y, w, p, l);
        break;
      case 3:
        r = t() + (l ? B : Ca("" + B));
        break;
      case 4:
        O(B) || u("CDATA_SECTION Error! [" + y + "]");
        r = "<![CDATA[" + B + "]]\x3e";
        break;
      case 8:
        O(B) || u("COMMENT_NODE Error! [" + y + "]");
        r = "\x3c!--" + B + "--\x3e";
        break;
      case 13:
        O(B) || u("COND_CMT_HIDE_LOWER Error! [" + y + "]");
        r = t() + "\x3c!--[" + B + "]>" + n(y, w, !0, l) + "<![endif]--\x3e";
        break;
      case 16:
        O(B) || u("NETSCAPE4_COND_CMT_HIDE_LOWER Error! [" + y + "]");
        r = t() + "\x3c!--{" + B + "};" + n(y, w, !0, l) + "--\x3e";
        break;
      case 14:
        O(B) || u("COND_CMT_SHOW_LOWER_START Error! [" + y + "]");
        r = "\x3c!--[" + B + "]>\x3c!--\x3e";
        break;
      case 15:
        r = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (k) {
          if (p = wa(k, y, G, m, u), void 0 !== p && null !== p && "" !== p) {
            if (S(p) || L(p)) {
              return -1;
            }
            u("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(y) + "] result:" + JSON.stringify(p));
          }
        } else {
          u("onInstruction is void!");
        }
        break;
      case 18:
        O(B) || u("ELEMENT_END_TAG Error! [" + y + "]");
        r = "</" + B + ">";
        break;
      case 17:
        var K = !0;
      case 1:
        H = y[1], v = 2;
      default:
        O(H) || u("Not html.json! [" + y + "]"), H = Ia(H), G = H[1], m = H[2], H = H[0], v = y[v], "P" !== A || pa[H] ? A = "" : r = t(), r += "<" + H, G && (r += " id=" + Da(G, z, F || E)), m && (r += " class=" + Da(m, z, F || E)), F || (J = F = F || aa[H] ? !0 : 0 < H.indexOf(":")), va(v) && (r += g(v)), r = (y = n(y, w, oa[H], l || qa[H])) ? r + (">" + y) : K ? r + ">" : r + (F ? " />" : ">"), K ? A = "" : F && !y || na[H] && (!p || "P" !== H) ? A = ca[H] ? "" : H : (r += "</" + H + ">", A = 
        ""), J && (F = !1);
    }
    return r;
  }
  function n(y, G, r, m) {
    for (var p = [], l = T(y), t = -1, w; l < y.length; ++l) {
      w = y[l], S(w) ? p[++t] = d([3, w], y, G, l, !1, m) : L(w) ? (w = d(w, y, G, l, r, m), -1 === w ? --l : p[++t] = w) : u("Invalid html.json! [" + w + "]");
    }
    return p.join("");
  }
  function g(y) {
    var G = "", r, m;
    for (r in y) {
      var p = y[r];
      (m = 0 === r.indexOf(C)) && (r = r.substr(C.length));
      "className" === r && (r = "class");
      m && (k ? p = xa(!0, k, r, p, u) : u("onInstruction is void!"));
      if (!(null == p || ba[r] && !1 === p || (G += " " + r, ba[r]))) {
        if ("style" === r && N(p) && (p = Ka(p), !p)) {
          continue;
        }
        G += "=" + Da(p, z, F || E);
      }
    }
    return G;
  }
  var k = b || null, h = c || null, u = "function" === typeof e ? e : function() {
  };
  b = f || {};
  var E = !0 === b.quotAlways, z = !0 === b.useSingleQuot, C = b.instructionAttrPrefix || ":", A, F = !1;
  if (L(a)) {
    return 7 === ua(a) && (a = [11, a]), d(a, null, null, 0, !1, !1);
  }
  u("Invalid html.json document!");
}
;Z.json2html = !0;
db = function(a, b, c, e, f) {
  if (Z.aa.la(a)) {
    const d = a.shift();
    if (Z.aa.ta(d) || Z.aa.ra(d)) {
      throw d.FILE_PATH + " is not complete document! Use nicePageBuilder.builder() before json2html().";
    }
    d.URL = Xa(d.FILE_PATH);
    b = Z.za(this, d, b);
    c = Z.xa(this, d, c);
    e = Z.ya(this, d, e);
  }
  return lb(a, b, c, e, f) || "";
};
function mb(a, b, c, e) {
  const f = this, d = require("plugin-error"), n = require("vinyl");
  return require("through2").obj(function(g, k, h) {
    if (g.isNull()) {
      return h();
    }
    if (g.isStream()) {
      return this.emit("error", new d("NicePageBuilder.gulp.json2html", "Streaming not supported")), h();
    }
    if (".json" !== g.extname) {
      return this.push(g), h();
    }
    const u = g.stem.split(".").pop();
    switch(u) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        k = JSON.parse(g.contents.toString(k));
        const E = g.path.split(".json");
        E.pop();
        g.path = E.join(".json");
        g.contents = Buffer.from(db.call(f, k, a, b, c, e));
        g.extname = "." + u;
    }
    this.push(g);
    h();
  }, function(g) {
    for (const k in f.ia) {
      this.push(new n({base:"/", path:k, contents:Buffer.from(JSON.stringify(f.ia[k]))}));
    }
    g();
  });
}
;Z.module = {};
module.exports = Z;
Z.DOCUMENT_NODE = 9;
Z.DOCUMENT_FRAGMENT_NODE = 11;
Z.ELEMENT_NODE = 1;
Z.TEXT_NODE = 3;
Z.CDATA_SECTION = 4;
Z.PROCESSING_INSTRUCTION = 7;
Z.COMMENT_NODE = 8;
Z.COND_CMT_HIDE_LOWER = 13;
Z.COND_CMT_SHOW_LOWER_START = 14;
Z.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Z.ELEMENT_START_TAG = 17;
Z.ELEMENT_END_TAG = 18;
Z.gulp = function(a) {
  a = Z.ua(a);
  ab && (a.html2json = gb);
  bb && (a.generator = hb);
  cb && (a.json2json = kb);
  db && (a.json2html = mb);
  return a;
};
Z.all = {};

