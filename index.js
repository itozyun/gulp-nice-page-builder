var aa = {xml:!0, svg:!0, math:!0}, ba = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, J = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, 
OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, 
DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, 
PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, 
CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, 
S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, 
BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
J.LI = J.TD = J.DD;
J.TH = J.DT;
J.RB = J.RP = J.RT = J.P;
J.TFOOT = J.THEAD = J.TBODY;
J.RTC = J.RBC;
var L = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function ea(a, b) {
  var c = 0;
  function d() {
    c && (fa(b, e(a.substring(0, c))), a = a.substring(c), c = 0);
  }
  function e(u) {
    return u.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;");
  }
  function f(u, F, r) {
    for (var v = 0, A = r.length, D = 3, w, z; D < A && 2 !== v;) {
      z = r.charAt(D);
      switch(v) {
        case 0:
          L[z] & 4 ? v = 1 : ">" === z && (v = 2);
          v && (w = r.substring(2, D));
          break;
        case 1:
          ">" === z && (v = 2);
      }
      ++D;
    }
    return 2 === v ? (ca[w] || k(u, F, l || m ? w : w.toUpperCase(), !1), D) : 0;
  }
  function k(u, F, r, v) {
    var A = 0, D = u.length;
    if (r) {
      for (A = D; 0 <= A && u[--A] !== r;) {
      }
    }
    if (0 <= A) {
      for (; A < D;) {
        ha(F, u[--D], v && !J[u[D]], !1), l && aa[u[D]] && (l = !!F.ga);
      }
      u.length = A;
      if (m) {
        for (m = !1, D = A; D;) {
          if (0 < u[--D].indexOf(":")) {
            m = !0;
            break;
          }
        }
      }
    } else {
      ha(F, r, !1, !0);
    }
  }
  function h(u, F, r, v) {
    function A(ra, sa) {
      function E(Tb) {
        return e(Tb).split('\\"').join('"').split("\\'").join("'").split("&quot;").join('"').split("&apos;").join("'");
      }
      B[ra] = !0 === sa ? !0 : ba[ra.toLowerCase()] ? l ? E(sa || ra) : !0 : E(sa || "");
      ++C;
    }
    function D() {
      (G = "/>" === v.substr(t, 2)) && ++t;
      return G;
    }
    for (var w = 1, z = v.length, t = 2, B = {}, C = 0, G = !1, x, y, I, H, K, M; t < z && 9 > w;) {
      x = v.charAt(t);
      switch(w) {
        case 1:
          if (L[x] & 4) {
            w = 2, y = v.substring(1, t);
          } else if (">" === x || D()) {
            w = 9, y = v.substring(1, t);
          }
          break;
        case 2:
          ">" === x || D() ? w = 9 : L[x] & 4 || (w = 3, I = t);
          break;
        case 3:
          if ("=" === x) {
            w = 5, H = v.substring(I, t);
          } else if (L[x] & 4) {
            w = 4, H = v.substring(I, t);
          } else if (">" === x || D()) {
            w = 9, A(v.substring(I, t), !0);
          }
          break;
        case 4:
          "=" === x ? w = 5 : ">" === x || D() ? (w = 9, A(H, !0)) : L[x] & 4 || (w = 3, A(H, !0), I = t);
          break;
        case 5:
          '"' === x || "'" === x ? (w = 6, K = x, I = t + 1) : L[x] & 4 || (w = 7, I = t);
          M = !1;
          break;
        case 6:
          M || x !== K || (w = 2, A(H, v.substring(I, t)));
          M = "\\" === x && !M;
          break;
        case 7:
          L[x] & 4 ? w = 2 : ">" === x && (w = 9), 7 !== w && A(H, v.substring(I, t));
      }
      ++t;
    }
    if (9 === w) {
      w = y.toUpperCase();
      l ||= !!aa[y];
      m ||= 0 < y.indexOf(":");
      if (!l && !m) {
        for (; F;) {
          if (J[F] && !J[F][w]) {
            k(u, r, F, !1), F = u[u.length - 1];
          } else {
            break;
          }
        }
      }
      (G = G || !!ca[w]) || (u[u.length] = l || m ? y : w);
      ia(r, l || m ? y : w, C ? B : null, G);
      return t;
    }
    return 0;
  }
  for (var g = [], l = !!b.ga, m = !1, p = a.length - c, q, n; a;) {
    q = g[g.length - 1];
    if (da[q]) {
      if ("PLAINTEXT" === q || "plaintext" === q) {
        fa(b, e(a)), a = "";
      } else {
        if (n = a.indexOf("</" + (l || m ? q : q.toLowerCase())), -1 === n && (n = a.indexOf("</" + (l || m ? q.toUpperCase() : q))), 0 <= n) {
          if (c = n, d(), q = f(g, b, a)) {
            a = a.substring(q);
          } else {
            N(b, a);
            return;
          }
        } else {
          N(b, a);
          return;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === c) {
      if (d(), n = a.indexOf(">"), -1 !== n) {
        ja(b, a.substring(c, n + 1)), a = a.substring(n + 1);
      } else {
        N(b, a);
        return;
      }
    } else if (a.indexOf("<?") === c) {
      if (d(), n = a.indexOf("?>"), -1 !== n) {
        ka(b, e(a.substring(2, n))), a = a.substring(n + 2);
      } else {
        N(b, a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === c) {
      if (d(), n = a.indexOf("]]\x3e"), -1 !== n) {
        la(b, e(a.substring(9, n))), a = a.substring(n + 3);
      } else {
        N(b, a);
        return;
      }
    } else if (a.indexOf("\x3c!--") === c) {
      if (d(), n = a.indexOf("--\x3e"), -1 !== n) {
        ma(b, e(a.substring(4, n))), a = a.substring(n + 3);
      } else {
        N(b, a);
        return;
      }
    } else if (a.indexOf("</") === c && L[a.charAt(c + 2)] & 3) {
      if (d(), q = f(g, b, a)) {
        a = a.substring(q);
      } else {
        N(b, a);
        return;
      }
    } else if ("<" === a.charAt(c) && L[a.charAt(c + 1)] & 3) {
      if (d(), q = h(g, q, b, a)) {
        a = a.substring(q);
      } else {
        N(b, a);
        return;
      }
    } else {
      n = a.indexOf("<", c), -1 === n ? (fa(b, e(a)), a = "") : c < n ? c = n : ++c;
    }
    q = a.length - c;
    if (q === p) {
      N(b, a);
      return;
    }
    p = q;
  }
  d();
  k(g, b, "", !0);
}
;function na(a, b, c) {
  var d = a, e = O(d), f = 0, k = b(a, null, -1, f / 3), h = [-1, a, e], g = !1;
  if (Infinity === k || -Infinity === k) {
    return !1;
  }
  if (0 < d.length - e) {
    do {
      var l = ++h[f];
      var m = d[l + e];
      if (void 0 === m) {
        if (h.length = f, f -= 3, d = h[f + 1], e = h[f + 2], c && d) {
          l = h[f] + e;
          k = c(d[l], d, l, f / 3 + 1);
          if (Infinity === k) {
            return g;
          }
          -Infinity !== k && (-1 >= k || 1 <= k) && (h[f] += k, g = !0);
        }
      } else {
        k = b(m, d, l + e, f / 3 + 1);
        if (Infinity === k) {
          return g;
        }
        if (-Infinity !== k) {
          if (-1 >= k) {
            h[f] += k, g = !0;
          } else {
            if (1 <= k && (h[f] += k, g = !0), O(m) < m.length) {
              f += 3, h[f] = -1, h[f + 1] = d = m, h[f + 2] = e = O(m);
            } else if (c && d) {
              k = c(m, d, l + e, f / 3 + 1);
              if (Infinity === k) {
                return g;
              }
              -Infinity !== k && (-1 >= k || 1 <= k) && (h[f] += k, g = !0);
            }
          }
        }
      }
    } while (0 <= f);
  }
  c && c(a, null, -1, 0);
  return g;
}
;var oa = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, pa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, qa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, ta = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, ua = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, va = {PRE:!0, LISTING:!0, pre:!0, listing:!0};
function P(a) {
  return !(!a || a.pop !== [].pop);
}
function Q(a) {
  return !(!a || "object" !== typeof a);
}
function R(a) {
  return "" + a === a;
}
function wa(a) {
  return R(a) || a === +a;
}
function xa(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0;
}
function ya(a) {
  if (wa(a)) {
    a = 3;
  } else {
    if (P(a)) {
      if (R(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function za(a) {
  return !P(a) && Q(a);
}
function Aa(a, b, c, d) {
  var e = b[1], f = b.slice(2), k;
  "function" === typeof a ? k = f.length ? a.call(d, e, f) : a.call(d, e) : a[e] && (k = f.length ? a[e].apply(d || a, f) : a[e].call(d || a));
  null == k || wa(k) || P(k) || c && c("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(b) + "]");
  k && P(k[0]) && k.unshift(11);
  return k;
}
function Ba(a, b, c) {
  11 === c[0] ? (c.shift(), c.unshift(b, 1), a.splice.apply(a, c)) : a.splice(b, 1, c);
}
function Ca(a, b, c, d, e, f) {
  var k;
  if (P(d) && R(d[0])) {
    var h = d[0];
    d = d.slice(1);
    "function" === typeof b ? k = d.length ? b.call(f, h, d) : b.call(f, h) : b[h] && (k = d.length ? b[h].apply(f || b, d) : b[h].call(f || b));
  } else {
    R(d) ? "function" === typeof b ? k = b.call(f, d) : b[d] && (k = b[d].call(f || b)) : e && e("Invalid InstructionAttr value! [" + c + "=" + d + "]");
  }
  return a && P(k) ? Ca(!0, b, c, k, e, f) : k;
}
function Da(a, b, c) {
  a = Ea(a, !0);
  var d;
  Fa = a;
  b && (b.$ ? b.$.push(a) : b.$ = [a]);
  if (P(c)) {
    for (b = 0, d = c.length; b < d; b += 2) {
      var e = c[b];
      var f = c[b + 1];
      if (e === +e) {
        if (e === a.ba && !0 === f(a)) {
          break;
        }
      } else if ("*" === e) {
        if (!0 === f(a)) {
          break;
        }
      } else if (R(e)) {
        if (e === a.ia && !0 === f(a)) {
          break;
        }
      } else {
        throw "onEnterNode: invalid selector found! " + e;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function Ga(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function Ha(a, b, c) {
  a = Ga("" + a);
  var d = a.match('"'), e = a.match("'"), f = b ? "'" : '"';
  d && e ? a = b ? f + a.split("'").join("\\'") + f : f + a.split('"').join('\\"') + f : d ? a = "'" + a + "'" : e ? a = b ? f + a.split("'").join("\\'") + f : f + a + f : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = f + a + f : "" === a && (a = f + f);
  return a;
}
function O(a) {
  var b = a[0], c = ya(a);
  return 1 === c || 17 === c ? (b = b === +b ? 2 : 1, za(a[b]) ? b + 1 : b) : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function Ia(a) {
  function b() {
    e.splice(f, 0, xa(c) ? +c : c);
    c = "";
  }
  var c = "", d, e, f;
  na(a, function(k, h, g, l) {
    if (c && d !== l) {
      return b(), 1;
    }
    if (3 === ya(k)) {
      return c = wa(k) ? c + k : c + k[1], h.splice(g, 1), d = l, e = h, f = g, -1;
    }
    if (c) {
      return b(), 1;
    }
  });
  c && b();
}
function Ja(a, b, c, d, e, f) {
  a = a.split("\r\n").join("\n").split("\r").join("\n");
  if (!b && d) {
    if (c) {
      a = Ka(La(a, "\n"), "\n");
    } else {
      f && (a = a.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
      for (a = a.split("\t").join(" "); 0 <= a.indexOf("\n\n");) {
        a = a.split("\n\n").join("\n");
      }
      if (e) {
        var k = "\n" === a.charAt(0) && /\n[ ]*$/.test(a);
      }
      a = Ka(a, "\n");
      for (a = a.split("\n").join(" "); 0 <= a.indexOf("  ");) {
        a = a.split("  ").join(" ");
      }
      k && (a = Ka(La(a, " "), " "));
      a = a.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    }
  }
  return xa(a) ? +a : a;
}
function La(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Ka(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function Ma(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), d = "", e = "";
  b < c ? (d = a.split(".")[1], a = a.split(".")[0], 0 < b && (e = a.split("#")[1], a = a.split("#")[0])) : c < b && (e = a.split("#")[1], a = a.split("#")[0], 0 < c && (d = a.split(".")[1], a = a.split(".")[0]));
  return [a, e, d];
}
function Na(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function Oa(a) {
  var b = [], c = -1, d;
  for (d in a) {
    var e = a[d];
    "0px" === e && (e = 0);
    for (var f = ++c, k, h = [], g = d.split(""), l = g.length; l;) {
      k = g[--l], "A" <= k && "Z" >= k && (k = "-" + k.toLowerCase()), h[l] = k;
    }
    k = h.join("");
    b[f] = k + ":" + Ga("" + e);
  }
  return b.join(";").substr(1);
}
function Pa(a, b) {
  var c = !1;
  na(a, function(d) {
    if (P(d)) {
      var e = d[0], f = d[1], k = e, h = 1;
      switch(e) {
        case 7:
          return c = !0, Infinity;
        case 1:
        case 17:
          k = f, h = 2;
        default:
          if (e = R(k)) {
            if (e = za(d[h])) {
              a: {
                d = d[h];
                for (var g in d) {
                  if (0 === g.indexOf(b)) {
                    e = !0;
                    break a;
                  }
                }
                e = !1;
              }
            }
          }
          if (e) {
            return c = !0, Infinity;
          }
      }
    }
  });
  return !c;
}
function Ea(a, b) {
  var c, d;
  na(a, function(e, f, k, h) {
    function g(q, n, u) {
      c ? (h < d.length && (d.length = h), q = Qa(d[d.length - 1], q, n, u), O(e) < e.length && (d[h] = q)) : (c = new Ra(b, 0, q, n, u), d = [c]);
    }
    if (wa(e)) {
      g(3, e);
    } else {
      f = e[0];
      k = e[1];
      var l = 1, m = f, p;
      switch(f) {
        case 9:
        case 13:
        case 16:
          g(f, k);
          break;
        case 11:
          g(f);
          break;
        case 3:
        case 4:
        case 8:
        case 14:
        case 18:
          g(f, k);
          break;
        case 15:
          g(f);
          break;
        case 7:
          l = [];
          m = 2;
          for (p = e.length; m < p; ++m) {
            l[m - 2] = e[m];
          }
          g(f, k, p - 2 ? l : null);
          break;
        case 1:
        case 17:
          m = k, l = 2;
        default:
          R(m) && g(1 === l ? 1 : f, m, e[l]);
      }
    }
    if (b) {
      return Infinity;
    }
  });
  return c;
}
;function Ra(a, b, c, d, e) {
  if (a === !!a) {
    var f = null;
    this.da = a;
  } else {
    f = a, this.da = f.da;
  }
  if (f) {
    switch(f.ba) {
      case 3:
      case 8:
      case 4:
      case 7:
      case 15:
      case 18:
        throw "nodeType:" + f.ba + " \u306f\u89aa\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
    if (Sa(this)) {
      throw "nodeType:" + f.ba + " \u306f\u5b50\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  this.ca = f;
  this.ba = c;
  if (f) {
    if (f.$ || (f.$ = []), a = f.$, 0 <= b && b < a.length) {
      if (1 <= b && 17 === a[b - 1].ba) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.splice(b, 0, this);
    } else {
      if (a.length && 17 === a[a.length - 1].ba) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.push(this);
    }
  }
  switch(c) {
    case 1:
    case 17:
      this.ua = e || null, b = Ma(d), this.ra = b[1], this.oa = b[2], d = b[0];
    case 18:
      this.ia = d;
      break;
    case 7:
      this.ta = e || null;
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.ga = d;
  }
}
var Fa = null, S = !1;
function T(a) {
  return a.da ? Fa === a ? a.la ? Ta : a.va ? U : Ua : Fa.ca === a ? Va : Wa : Xa;
}
function Ya(a) {
  if (a.da) {
    throw "restricted mode \u3067\u306f getHTMLJSON() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var b = [a.ba], c = a.$, d, e;
  switch(a.ba) {
    case 1:
      b.length = 0;
    case 17:
      b.push(Na(a.ia, a.ra, a.oa));
      a = a.ua;
      za(a) && (b.push(a), a.style && Q(a.style) && (a.style = Oa(a.style)));
      break;
    case 18:
      b[1] = a.ia;
      break;
    case 7:
      if (d = a.ta) {
        var f = 0;
        for (e = d.length; f < e; ++f) {
          b[2 + f] = d[f];
        }
      }
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      b[1] = a.ga;
  }
  if (c) {
    for (f = 0, e = c.length; f < e; ++f) {
      b.push(Ya(c[f]));
    }
  }
  return b;
}
function V(a) {
  switch(a.ba) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.ga;
    default:
      throw "getNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Za(a, b) {
  if (Va <= T(a)) {
    throw "In Restricted Mode. VNode cannot execute setNodeValue()!";
  }
  switch(a.ba) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.ga !== b && (S = !0);
      a.ga = b;
      break;
    default:
      throw "setNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function $a(a) {
  if (1 !== a.ba && 17 !== a.ba && 18 !== a.ba) {
    throw "getTagName() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.ia;
}
function ab(a) {
  if (Sa(a)) {
    throw "getMyIndex() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.ca ? a.ca.$.indexOf(a) : -1;
}
function W(a) {
  if (!bb(a)) {
    throw "getChildNodeCount() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (U <= T(a)) {
    throw "In Restricted Mode. VNode cannot execute getChildNodeCount()!";
  }
  return a.$ && a.$.length;
}
function cb(a, b) {
  if (!bb(a)) {
    throw "getChildNodeAt() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (U <= T(a)) {
    throw "In Restricted Mode. VNode cannot execute getChildNodeAt()!";
  }
  return a.$ && a.$[b] || null;
}
Ra.prototype.remove = function() {
  if (Sa(this)) {
    throw "remove() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (Va <= T(this)) {
    throw "In Restricted Mode. VNode cannot execute remove()!";
  }
  if (U <= T(this)) {
    return this.la = S = !0, null;
  }
  var a = ab(this);
  0 <= a && (this.ca.$.splice(a, 1), this.ca = null, S = !0);
};
Ra.prototype.wrap = function(a, b, c) {
  if (this.da && (this !== Fa || this.la)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e empty() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (Va <= T(this)) {
    throw "In Restricted Mode. VNode cannot execute wrap()!";
  }
  if (Sa(this)) {
    throw "insertNodeBefore() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (Va <= T(this)) {
    throw "In Restricted Mode. VNode cannot execute insertNodeBefore()!";
  }
  this.da ? (this.ka = this.ka || [], this.ka.push([a, b, c]), S = !0, a = null) : a = this.ca ? db(this.ca, ab(this), a, b, c) : null;
  eb(a, 0, [this]);
  return a;
};
function eb(a, b, c) {
  var d = a.$ = a.$ || [], e = d.length, f = c.length;
  for (b = b < e ? b : e; f;) {
    if (k && 17 === c[f - 1].ba) {
      throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
    }
    var k = c[--f];
    if (9 === k.ba) {
      throw "Document Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  for ((f = c.length) && (S = !0); f;) {
    k = c[--f], 11 === k.ba ? W(k) && eb(a, b, k.$) : (k.remove(), d.splice(b, 0, k), k.ca = a);
  }
}
function db(a, b, c, d, e) {
  if (U <= T(a)) {
    throw "In Restricted Mode. VNode cannot execute insertNodeAt()!";
  }
  S = !0;
  return new Ra(a, b, c, d, e);
}
function Qa(a, b, c, d) {
  if (Va <= T(a)) {
    throw "In Restricted Mode. VNode cannot execute insertNodeFirst()!";
  }
  return U <= T(a) ? (a.ha = a.ha || [], a.ha.push([b, c, d]), S = !0, null) : db(a, W(a), b, c, d);
}
var Xa = 0, Wa = 1, Ua = 2, U = 3, Ta = 4, Va = 5;
function bb(a) {
  return 1 === a.ba || 17 === a.ba || 13 === a.ba || 16 === a.ba || Sa(a);
}
function Sa(a) {
  return 9 === a.ba || 11 === a.ba;
}
;function fb(a, b, c, d) {
  function e(t, B, C, G) {
    switch(t.ba) {
      case 1:
      case 17:
        var x = {};
        G = $a(t);
        var y = !!va[G];
        var I = t.ua, H = 0, K;
        if (I) {
          for (K in I) {
            var M = ba[K] ? 1 : I[K];
            if ("id" === K) {
              var ra = M;
            } else if ("class" === K) {
              var sa = M;
            } else {
              if (K.startsWith(A)) {
                var E = f(M);
                E.Aa ? (M = [E.Ba], p.apply(M, E.Aa)) : M = E.Ba;
              }
              x[K] = xa(M) ? +M : M;
              ++H;
            }
          }
        }
        G = Na(G, ra, sa);
        if (y && q) {
          for (; E = h(t);) {
            if (l(V(E))) {
              Za(E, La(V(E), "\n"));
              break;
            } else {
              E.remove();
            }
          }
          for (; E = g(t);) {
            if (l(V(E))) {
              Za(E, Ka(V(E), "\n"));
              break;
            } else {
              E.remove();
            }
          }
        }
        x = H ? [G, x] : [G];
        for (E = 0; E < W(t); ++E) {
          e(cb(t, E), x, y || C, !!ua[G]);
        }
        B.push(x);
        17 !== t.ba || x.unshift(17);
        break;
      case 18:
        B.push([18, $a(t)]);
        break;
      case 3:
        y = Ja("" + V(t), C, G, q, n, u);
        "" !== y && B.push(y);
        break;
      case 4:
        F && (y = V(t), B.push([4, xa(y) ? +y : y]));
        break;
      case 7:
        y = V(t);
        E = f(y);
        x = [7, E.Ba];
        E.Aa && p.apply(x, E.Aa);
        B.push(x);
        break;
      case 8:
        y = V(t);
        if (y.startsWith("[if") && 0 < y.indexOf("<![endif]")) {
          t = gb(k(y, ">", "<![endif]", !0), !0, c);
          x = [13, k(y, "[", "]", !1)];
          for (E = 0; E < W(t); ++E) {
            e(cb(t, E), x, C, G);
          }
          (2 < x.length || v) && B.push(x);
        } else if (y.startsWith("{") && 2 < y.indexOf("};")) {
          t = gb(y.substring(y.indexOf("};") + 2), !0, c);
          x = [16, k(y, "{", "};", !1)];
          for (E = 0; E < W(t); ++E) {
            e(cb(t, E), x, C, G);
          }
          (2 < x.length || v) && B.push(x);
        } else {
          y.startsWith("[if") && 0 < y.indexOf("><!") ? (B.push([14, k(y, "[", "]", !1)]), z = !0) : "<![endif]" === y && z ? (C = B[B.length - 1], v || !C || 14 !== C[0] ? B.push([15]) : C && B.pop(), z = !1) : r && B.push([8, xa(y) ? +y : y]);
        }
        break;
      case 9:
        y = V(t);
        q && (y = y.split("\n").join(" ").split("  ").join(" "));
        x = [9, y];
        B.push(x);
        for (E = 0; E < W(t); ++E) {
          e(cb(t, E), x, !1, !1);
        }
        break;
      case 11:
        for (x = [11], B.push(x), E = 0; E < W(t); ++E) {
          e(cb(t, E), x, C, G);
        }
    }
  }
  function f(t) {
    var B = t.indexOf(D), C = t.lastIndexOf(w), G = Ka(La(-1 === B ? t : t.substr(0, B), " "), " ");
    t = -1 === B ? [] : JSON.parse("[" + t.substring(B + D.length, C) + "]");
    return t.length ? {Ba:G, Aa:t} : {Ba:G};
  }
  function k(t, B, C, G) {
    B = t.indexOf(B) + B.length;
    C = G ? t.lastIndexOf(C) : t.indexOf(C, B);
    return t.substring(B, C);
  }
  function h(t) {
    for (var B = 0, C = W(t), G; B < C; ++B) {
      if (G = cb(t, B), 1 !== G.ba && 17 !== G.ba || (G = h(G)), G && 3 === G.ba) {
        return G;
      }
    }
  }
  function g(t) {
    for (var B = W(t), C; B;) {
      if (C = cb(t, --B), 1 !== C.ba && 17 !== C.ba || (C = g(C)), C && 3 === C.ba) {
        return C;
      }
    }
  }
  function l(t) {
    return t.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const m = [], p = m.push;
  a = gb(a, b, c);
  d = d || {};
  const q = -1 === ["none", !1].indexOf(d.trimWhitespaces), n = "aggressive" === d.trimWhitespaces, u = !!d.removeNewlineBetweenFullWidthChars, F = !0 === d.keepCDATASections, r = !0 === d.keepComments, v = !0 === d.keepEmptyConditionalComment, A = d.instructionAttrPrefix || ":";
  d = d.argumentBrackets || "()";
  const D = d.substr(0, d.length / 2), w = d.substr(d.length / 2);
  let z = !1;
  e(a, m, !1, !1);
  Ia(m[0]);
  return m[0];
}
function gb(a, b, c) {
  b = new hb(b, c);
  ea(a, b);
  return b.$;
}
function hb(a, b) {
  this.ca = a;
  this.ba = this.$ = new Ra(!1, 0, 11);
  this.da = b;
}
function N(a, b) {
  if (a.da) {
    a.da(b);
  } else {
    throw "Handler.prototype.onParseError: error!" + b;
  }
}
function ja(a, b) {
  var c = a.$;
  if (Va <= T(c)) {
    throw "In Restricted Mode. VNode cannot execute setNodeType()!";
  }
  if (11 !== c.ba) {
    throw "nodeType \u306e\u5909\u66f4\u306f DOCUMENT_FRAGMENT_NODE -> DOCUMENT_NODE \u3060\u3051\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059!";
  }
  9 !== c.ba && (S = !0);
  c.ba = 9;
  Za(a.$, b);
}
function ia(a, b, c, d) {
  if (d) {
    a = a.ba;
    if (Va <= T(a)) {
      throw "In Restricted Mode. VNode cannot execute insertElementLast()!";
    }
    if (U <= T(a)) {
      a.ha = a.ha || [], a.ha.push([1, b, c, void 0]);
    } else {
      d = W(a);
      if (U <= T(a)) {
        throw "In Restricted Mode. VNode cannot execute insertElementAt()!";
      }
      new Ra(a, d, 1, b, c);
    }
    S = !0;
  } else {
    a.ba = Qa(a.ba, 17, b, c);
  }
}
function ha(a, b, c, d) {
  if (d) {
    a.ca && Qa(a.ba, 18, b);
  } else if (!c || !a.ca) {
    if (b === $a(a.ba)) {
      b = a.ba;
      if (b.da) {
        throw "In Restricted Mode. VNode cannot execute finalize()!";
      }
      if (17 !== b.ba) {
        throw "finalize() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      1 !== b.ba && (S = !0);
      b.ba = 1;
      b = a.ba;
      if (Sa(b)) {
        throw "getParent() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      a.ba = b.ca;
    } else {
      if (a.da) {
        a.da("End tag error! " + b);
      } else {
        throw "Handler.prototype.onParseEndTag: End tag error! " + b;
      }
    }
  }
}
function fa(a, b) {
  Qa(a.ba, 3, b);
}
function ma(a, b) {
  Qa(a.ba, 8, b);
}
function la(a, b) {
  Qa(a.ba, 4, b);
}
function ka(a, b) {
  Qa(a.ba, 7, b);
}
;var ib = !1, jb = !1, kb = !1, lb = !1, mb = !1, nb = !1;
function ob(a) {
  a = a[0];
  if (!P(a)) {
    throw "Not html.json! " + JSON.stringify(a);
  }
  return a;
}
function pb(a) {
  a = ob(a)[0];
  return !P(a) && Q(a) ? a : null;
}
function qb(a) {
  var b = a[0];
  return P(a) && !P(b) && Q(b);
}
function rb(a, b, c, d, e, f) {
  function k(l, m) {
    if (m = m.MIXINS) {
      for (let p = 0; p < m.length; ++p) {
        const q = a.path.wa(l, m[p]), n = a.ca[q];
        if (!n) {
          if (e) {
            e("Mixin not found!");
          } else {
            throw "[merge] Mixin: " + q + " required by " + X(l) + " not found!";
          }
        }
        const u = n[0];
        c(q, u, n[2]);
        !h && u.TEMPLATE && (h = a.path.wa(q, u.TEMPLATE), g = q);
        k(q, u);
      }
    }
  }
  let h, g;
  b.TEMPLATE && (h = a.path.wa(b.URL, b.TEMPLATE), g = b.URL);
  for (k(b.URL, b); h;) {
    b = h;
    const l = f && f[h] || a.$[h];
    if (!l) {
      if (e) {
        e("Template not found!");
      } else {
        throw "[merge] Template: " + X(b) + " required by " + X(g) + " not found!";
      }
    }
    h = g = "";
    const m = pb(l);
    d(b, m, l[2]);
    m && (m.TEMPLATE && (h = a.path.wa(b, m.TEMPLATE), g = b), k(b, m));
  }
}
function sb(a, b) {
  const c = JSON.parse(JSON.stringify(tb(a, b[0])));
  rb(a, c, function() {
  }, function(d) {
    d = ob(a.$[d]);
    var e = b;
    d = JSON.parse(JSON.stringify(d));
    var f = ub(d, !0);
    if (f) {
      const k = f[1];
      f = f[2];
      let h;
      qb(e) && (h = e.shift());
      let g = O(e), l = e.length;
      k.splice(f, 1);
      for (f -= g; g < l; ++g) {
        k.splice(f + g, 0, e[g]);
      }
      h && d.unshift(h);
    }
    b = d;
  });
  delete c.TEMPLATE;
  delete c.MIXINS;
  b[0] = c;
  return b;
}
function vb(a) {
  return wb(a, function(b, c) {
    return ("SCRIPT" === b || "script" === b) && c && ("application/ld+json" === c.type || "application/json" === c.type || "nice-page-builder/object" === c.type) || !1;
  });
}
function ub(a, b) {
  return wb(a, function(c) {
    return "SLOT" === c || "slot" === c;
  }, b);
}
function wb(a, b, c) {
  function d(k) {
    let h = O(k), g = k.length;
    for (var l; h < g; ++h) {
      var m = k[h], p;
      if (p = P(m)) {
        a: {
          l = m;
          p = k;
          m = h;
          var q = l[0];
          const n = l[1];
          let u = q, F = 1;
          switch(q) {
            case 9:
            case 11:
            case 13:
            case 16:
              l = d(l);
              break a;
            case 1:
            case 17:
              u = n, F = 2;
            default:
              if (R(u)) {
                q = l[F];
                l = b(u, za(q) ? q : null) ? [l, p, m] : d(l);
                break a;
              }
          }
          l = void 0;
        }
        p = l;
      }
      if (p) {
        return l;
      }
    }
  }
  let e = a[0], f;
  return !P(e) && Q(e) ? (a.shift(), f = d(a), !c && (a.unshift(e), f && f[1] === a) ? [f[0], a, ++f[2]] : f) : d(a);
}
;function xb(a, b) {
  this.$ = a + ("/" === a.charAt(a.length - 1) ? "" : "/");
  b && (b = b.split("\\").join("/"), this.ba = b + ("/" === b.charAt(b.length - 1) ? "" : "/"));
}
function yb(a) {
  a = a.split("index.html");
  a[a.length - 1] || a.pop();
  return a.join("index.html");
}
function X(a) {
  if (zb(a)) {
    throw a + " is not a root relative path or relative URL!";
  }
  a = a.split("#")[0].split("/");
  a[a.length - 1] || (a[a.length - 1] = "index.html");
  return a.join("/");
}
function Ab(a, b) {
  if (!a.ba) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  return 0 === b.indexOf(a.ba);
}
function Bb(a, b) {
  if (!a.ba) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  if (!Ab(a, b)) {
    throw b + " is not a absolute path!";
  }
  return b.split("\\").join("/").substr(a.ba.length - 1);
}
function zb(a) {
  return "//" === a.substr(0, 2) || "http://" === a.substr(0, 7) || "https://" === a.substr(0, 8);
}
function Cb(a) {
  return "/" === a.charAt(0) && "//" !== a.substr(0, 2);
}
function Db(a, b) {
  if (!zb(b)) {
    throw b + " is not a absolute URL!";
  }
  if (Cb(b)) {
    throw b + " is a root relative URL!";
  }
  var c = a.$.length - 1;
  0 === b.indexOf(a.$) ? b = b.substr(c) : "//" === a.$.substr(0, 2) && (0 === b.indexOf("https:" + a.$) && (b = b.substring(6, c)), 0 === b.indexOf("http:" + a.$) && (b = b.substring(5, c)));
  return b;
}
function Eb(a, b) {
  if (!Cb(a)) {
    throw a + " is not a root relative URL!";
  }
  if (!Cb(b)) {
    throw b + " is not a root relative URL!";
  }
  var c = b.indexOf("#"), d;
  -1 !== c && (d = b.substr(c));
  var e = X(a), f = X(b);
  b = [];
  a = 0;
  c = !1;
  var k;
  var h = e.split("/");
  var g = h.pop();
  if (e === f) {
    b = g;
  } else {
    e = f.split("/");
    f = e.pop();
    var l = h.length;
    for (k = Math.max(e.length, l); a < k; ++a) {
      if (c || e[a] !== h[a]) {
        a < l && b.unshift(".."), e[a] && b.push(e[a]), c = !0;
      }
    }
    (c || g !== f) && b.push(f);
    b = b.join("/");
  }
  b = yb(b);
  d && (b += d);
  return b ? b : "./";
}
xb.prototype.wa = function(a, b) {
  if (zb(b) || Cb(b)) {
    var c = zb(b) ? Db(this, b) : b;
  } else {
    if (!Cb(a)) {
      throw a + " is not a root relative URL!";
    }
    if (Cb(b) || zb(b)) {
      throw b + " is not a relative URL!";
    }
    var d = b.indexOf("#");
    -1 !== d && (c = b.substr(d));
    a = X(a);
    d = b = X(b);
    var e = a.split("/");
    e.pop();
    "" === e[0] && e.shift();
    for ("./" === b.substr(0, 2) && (b = b.substr(2)); "../" === b.substr(0, 3);) {
      if (!e.length) {
        throw "Failed _relativePathToRootRelativePath! base:" + a + " target:" + d;
      }
      b = b.substr(3);
      --e.length;
    }
    a = (e.length ? "/" + e.join("/") : "") + "/" + b;
    a = yb(a);
    c && (a += c);
    c = a;
  }
  return c;
};
function Fb(a) {
  a = a || {};
  var b = require("path").resolve(a.srcRootPath || "./") + "/";
  b = new xb(a.urlOrigin || "", b);
  this.ta = b.ba;
  this.la = a.allPagesPath || "";
  this.ka = a.allPageMetadataPath || "all-page-metadata.json";
  this.ia = a.allMixinsPath || "all-mixins.json";
  this.oa = a.allTemplatesPath || "all-templates.json";
  this.ra = Gb(this.ka);
  this.ua = Gb(this.ia);
  this.va = Gb(this.oa);
  this.ca = a.mixins || {};
  this.$ = a.templates || {};
  this.ba = {};
  this.da = {};
  this.ga = {};
  this.ha = a.additionalJsons || {};
  this.path = b;
  Hb(this, a.allPageMetadata || {});
}
function Hb(a, b) {
  for (const c in b) {
    if (!a.ba[c]) {
      const d = b[c];
      a.ba[c] = d;
      d.URL = c;
    }
  }
}
function Ib(a, b) {
  for (let c = 0, d = b.length; c < d; c += 2) {
    const e = b[c + 1];
    qb(e) && Jb(a, e[0]);
  }
}
function Jb(a, b) {
  const c = b.URL;
  a.ba[c] || (a.ba[c] = JSON.parse(JSON.stringify(b)));
}
function tb(a, b, c) {
  const d = b.URL;
  Jb(a, b);
  b = a.ba[d];
  Kb(a, b, c);
  return b;
}
function Lb(a, b) {
  a = a.da[b.URL];
  b = JSON.parse(JSON.stringify(b));
  a && Mb(a, b);
  return b;
}
function Kb(a, b, c) {
  if (b.MIXINS || b.TEMPLATE) {
    const d = b.URL;
    let e = a.da[d];
    e && Mb(e, b);
    a.da[d] = Nb(a, b, c);
  }
}
function Mb(a, b) {
  for (const c in b) {
    -1 !== a.indexOf(c) && delete b[c];
  }
}
function Nb(a, b, c) {
  function d(k, h, g) {
    let l = !1;
    for (const m in k) {
      "MIXINS" !== m && "TEMPLATE" !== m && void 0 === b[m] && (b[m] = k[m], l = !0, e.push(m));
    }
    (l || g) && f < h && (f = h);
  }
  const e = [];
  let f;
  rb(a, b, function(k, h, g) {
    d(h, g, !1);
  }, function(k, h, g) {
    h && d(h, g, !0);
  }, c);
  e.push("UPDATED_AT");
  b.UPDATED_AT = f;
  return e;
}
function Gb(a) {
  let b = a.split("\\").join("/").split(".json");
  if (b[b.length - 1]) {
    throw a + " is not .json file path!";
  }
  b.pop();
  b = b.join(".json").split("/");
  return b.pop().split(".").pop();
}
;function Ob(a, b, c, d, e, f) {
  const k = require("plugin-error");
  return function(h, g, l) {
    function m(r) {
      return -1 !== [".html", ".htm", ".xhtml", ".php"].indexOf(r);
    }
    if (h.isNull()) {
      return l();
    }
    if (h.isStream()) {
      return this.emit("error", new k(b, "Streaming not supported")), l();
    }
    const p = h.path.split("\\").join("/"), q = yb(Ab(a.path, p) ? Bb(a.path, p) : p);
    var n = h.contents.toString(g);
    g = h.stat ? parseInt(h.stat.birthtimeMs, 10) : 0;
    const u = h.stat ? parseInt(h.stat.ctimeMs, 10) : 0;
    if (c && m(h.extname)) {
      return 0 !== p.indexOf(a.ta) ? this.emit("error", new k(b, '"' + p + '" is outside of srcRootPath:"' + a.ta + '"')) : e(q, n, g, u), l();
    }
    if (".json" !== h.extname) {
      return l(null, h);
    }
    const F = "." + h.stem.split(".").pop();
    n = JSON.parse(n);
    if (!c && m(F)) {
      return d(n) ? f(q, n) : this.push(h), l();
    }
    switch(h.stem) {
      case a.va:
        if (!P(n) && Q(n)) {
          for (const r in n) {
            a.$[r] || (a.$[r] = n[r]);
          }
        } else {
          return this.emit("error", new k(b, "Invalid templates!" + p)), l();
        }
        break;
      case a.ua:
        if (!P(n) && Q(n)) {
          for (const r in n) {
            a.ca[r] || (a.ca[r] = n[r]);
          }
        } else {
          return this.emit("error", new k(b, "Invalid mixins!" + p)), l();
        }
        break;
      case a.ra:
        if (!P(n) && Q(n)) {
          Hb(a, n);
        } else {
          return this.emit("error", new k(b, "Invalid allPageMetadata!" + p)), l();
        }
        break;
      default:
        if (c) {
          return !P(n) && Q(n) ? a.ca[q] = [n, g, u] : this.emit("error", new k(b, "Invalid mixin!" + p)), l();
        }
    }
    l(null, h);
  };
}
;ib = function(a, b, c, d) {
  a = fb(a, b, c, d);
  if (b = vb(a)) {
    c = b[0], b[1].splice(b[2], 1), c && 3 === c.length && (b = JSON.parse(c[2]), !P(b) && Q(b) && a.unshift(b));
  }
  return a;
};
function Pb(a, b) {
  const c = this, d = require("vinyl"), e = require("through2"), f = {}, k = c.$, h = c.ca;
  return e.obj(Ob(c, "NicePageBuilder.gulp.html2json", !0, P, function(g, l, m, p) {
    l = ib.call(c, l, !1, a, b);
    f[g] = [l, m, p];
  }), function(g) {
    function l(r, v) {
      function A(z, t) {
        var B = c.path;
        var C = yb(t);
        zb(C) ? (B = Db(B, C), C = B === C ? C : Eb(z, B)) : C = Cb(C) ? Eb(z, C) : C;
        z = c.path.wa(z, yb(t));
        return C.length < z.length ? C : z;
      }
      const D = v.MIXINS, w = v.TEMPLATE;
      if (D) {
        for (let z = 0, t = D.length; z < t; ++z) {
          D[z] = A(r, D[z]);
        }
      }
      w && (v.TEMPLATE = A(r, w));
    }
    function m(r, v) {
      r = new d({path:r, contents:Buffer.from(JSON.stringify(v))});
      r.extname = ".json";
      F.push(r);
    }
    for (var p in f) {
      var q = f[p];
      const r = pb(q);
      r && (r.MIXINS || r.TEMPLATE) && (r.URL = p, l(p, r), rb(c, r, function(v, A) {
        l(v, A);
        v = h[v];
        3 === v.length && v.push(!0);
      }, function(v, A) {
        A && l(v, A);
        if (A = f[v]) {
          k[v] = A, delete f[v];
        }
      }, a, f));
      f[p] && q.push(!0);
    }
    for (var n in h) {
      p = h[n], 3 === p.length ? (console.log("Unused mixin found! " + n), delete h[n]) : p.pop();
    }
    for (var u in f) {
      n = f[u], p = ob(n), 3 === n.length && ub(p, !1) && (console.log("Unused template found! " + u), delete f[u]);
    }
    const F = this;
    for (const r in f) {
      u = f[r], n = X(r), delete f[r], p = u[0], q = p[0], q = !P(q) && Q(q) ? q : {}, q.CREATED_AT = u[1], q.MODIFIED_AT = u[2], q !== p[0] && p.unshift(q), m(n + ".json", p), c.la && (c.ga[r] = p), c.ba[r] = q;
    }
    g();
  });
}
;jb = function(a) {
  return qb(a) ? sb(this, a) : a;
};
function Qb() {
  const a = this, b = require("vinyl"), c = [];
  return require("through2").obj(Ob(a, "NicePageBuilder.gulp.builder", !1, qb, null, function(d, e) {
    c.push(d, e);
  }), function(d) {
    for (Ib(a, c); c.length;) {
      const e = c.shift(), f = jb.call(a, c.shift());
      this.push(new b({base:"/", path:e, contents:Buffer.from(JSON.stringify(f))}));
    }
    d();
  });
}
;const Rb = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), Sb = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
var Ub = {fb:1, ob:2, gb:3, pb:4, Xa:5, Ya:6, zb:7, Za:8, hb:9, sb:10, lb:11, qb:17, rb:18, Ab:33, Bb:34, Cb:35, $a:49, ab:50, bb:51, cb:52, ib:65, jb:66, kb:67, mb:81, nb:83, tb:97, ub:98, vb:99, wb:100, xb:101, yb:102, Db:113, eb:114, OBJECT:129, Wa:130};
function Vb() {
  this.fa = void 0;
  this.oa = [];
  this.$ = 17;
  this.ca = void 0;
  this.za = Sb(65536);
  this.ia = 0;
  this.na = this.sa = this.ra = this.ya = void 0;
  this.ka = 113;
  this.ha = this.va = 0;
  this.Ja = {2:Sb(2), 3:Sb(3), 4:Sb(4)};
}
function Wb(a) {
  for (var b = Object.keys(Ub), c = 0, d = b.length; c < d; c++) {
    var e = b[c];
    if (Ub[e] === a) {
      return e;
    }
  }
  return a && "0x" + a.toString(16);
}
function Y(a, b, c) {
  a.$ = 18;
  a.Ia(Error("Unexpected " + JSON.stringify(String.fromCharCode(b[c])) + " at position " + c + " in state " + Wb(a.$)));
}
function Z(a, b) {
  65536 <= a.ia && (a.ca += a.za.toString("utf8"), a.ia = 0);
  a.za[a.ia++] = b;
}
function Xb(a, b, c, d) {
  var e = b.length;
  "number" === typeof c && (e = "number" === typeof d ? 0 > d ? b.length - c + d : d - c : b.length - c);
  0 > e && (e = 0);
  65536 < a.ia + e && (a.ca += a.za.toString("utf8", 0, a.ia), a.ia = 0);
  b.copy(a.za, a.ia, c, d);
  a.ia += e;
}
Vb.prototype.write = function(a) {
  "string" === typeof a && (a = Rb(a));
  for (var b, c = 0, d = a.length; c < d; c++) {
    switch(this.$) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.ea(1, "{");
            break;
          case 125:
            this.ea(2, "}");
            break;
          case 91:
            this.ea(3, "[");
            break;
          case 93:
            this.ea(4, "]");
            break;
          case 58:
            this.ea(5, ":");
            break;
          case 44:
            this.ea(6, ",");
            break;
          case 116:
            this.$ = 33;
            break;
          case 102:
            this.$ = 49;
            break;
          case 110:
            this.$ = 65;
            break;
          case 34:
            this.ca = "";
            this.ia = 0;
            this.$ = 97;
            break;
          case 45:
            this.ca = "-";
            this.$ = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.ca = String.fromCharCode(b), this.$ = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              return Y(this, a, c);
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.va) {
          for (b = 0; b < this.va; b++) {
            this.Ja[this.ha][this.ha - this.va + b] = a[b];
          }
          Xb(this, this.Ja[this.ha]);
          this.ha = this.va = 0;
          c = c + b - 1;
        } else if (0 === this.va && 128 <= b) {
          if (193 >= b || 244 < b) {
            return this.Ia(Error("Invalid UTF-8 character at position " + c + " in state " + Wb(this.$)));
          }
          194 <= b && 223 >= b && (this.ha = 2);
          224 <= b && 239 >= b && (this.ha = 3);
          240 <= b && 244 >= b && (this.ha = 4);
          if (this.ha + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.Ja[this.ha][b] = a[c + b];
            }
            this.va = c + this.ha - a.length;
            c = a.length - 1;
          } else {
            Xb(this, a, c, c + this.ha), c = c + this.ha - 1;
          }
        } else if (34 === b) {
          this.$ = 17, this.ca += this.za.toString("utf8", 0, this.ia), this.ia = 0, this.ea(10, this.ca), Buffer.byteLength(this.ca, "utf8"), this.ca = void 0;
        } else if (92 === b) {
          this.$ = 98;
        } else if (32 <= b) {
          Z(this, b);
        } else {
          return Y(this, a, c);
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            Z(this, b);
            this.$ = 97;
            break;
          case 92:
            Z(this, 92);
            this.$ = 97;
            break;
          case 47:
            Z(this, 47);
            this.$ = 97;
            break;
          case 98:
            Z(this, 8);
            this.$ = 97;
            break;
          case 102:
            Z(this, 12);
            this.$ = 97;
            break;
          case 110:
            Z(this, 10);
            this.$ = 97;
            break;
          case 114:
            Z(this, 13);
            this.$ = 97;
            break;
          case 116:
            Z(this, 9);
            this.$ = 97;
            break;
          case 117:
            this.ya = "";
            this.$ = 99;
            break;
          default:
            return Y(this, a, c);
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.ya += String.fromCharCode(b), 102 === this.$++ && (b = parseInt(this.ya, 16), this.ya = void 0, void 0 !== this.ra && 56320 <= b && 57344 > b ? (Xb(this, Rb(String.fromCharCode(this.ra, b))), this.ra = void 0) : void 0 === this.ra && 55296 <= b && 56320 > b ? this.ra = b : (void 0 !== this.ra && (Xb(this, Rb(String.fromCharCode(this.ra))), this.ra = void 0), Xb(this, Rb(String.fromCharCode(b)))), this.$ = 97);
        } else {
          return Y(this, a, c);
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.ca += String.fromCharCode(b);
            this.$ = 83;
            break;
          default:
            this.$ = 17;
            b = Number(this.ca);
            if (isNaN(b)) {
              return Y(this, a, c);
            }
            this.ca.match(/[0-9]+/) == this.ca && b.toString() != this.ca ? this.ea(10, this.ca) : this.ea(11, b);
            this.ca = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.$ = 34;
        } else {
          return Y(this, a, c);
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.$ = 35;
        } else {
          return Y(this, a, c);
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.$ = 17, this.ea(7, !0);
        } else {
          return Y(this, a, c);
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.$ = 50;
        } else {
          return Y(this, a, c);
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.$ = 51;
        } else {
          return Y(this, a, c);
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.$ = 52;
        } else {
          return Y(this, a, c);
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.$ = 17, this.ea(8, !1);
        } else {
          return Y(this, a, c);
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.$ = 66;
        } else {
          return Y(this, a, c);
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.$ = 67;
        } else {
          return Y(this, a, c);
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.$ = 17, this.ea(9, null);
        } else {
          return Y(this, a, c);
        }
    }
  }
};
function Yb(a, b, c) {
  a.$ = 18;
  a.Ia(Error("Unexpected " + Wb(b) + (c ? "(" + JSON.stringify(c) + ")" : "") + " in state " + Wb(a.ka)));
}
function Zb(a) {
  a.oa.push({fa:a.fa, sa:a.sa, na:a.na});
}
function $b(a) {
  var b = a.fa, c = a.oa.pop();
  a.fa = c.fa;
  a.sa = c.sa;
  a.na = c.na;
  a.emit(b);
  a.na || (a.ka = 113);
}
Vb.prototype.emit = function() {
  this.na && (this.ka = 6);
};
Vb.prototype.ea = function(a, b) {
  switch(this.ka) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.fa && (this.fa[this.sa] = b);
          this.emit(b);
          break;
        case 1:
          Zb(this);
          this.fa = this.fa ? this.fa[this.sa] = {} : {};
          this.sa = void 0;
          this.ka = 114;
          this.na = 129;
          break;
        case 3:
          Zb(this);
          this.fa = this.fa ? this.fa[this.sa] = [] : [];
          this.sa = 0;
          this.na = 130;
          this.ka = 113;
          break;
        case 2:
          if (129 === this.na) {
            $b(this);
          } else {
            return Yb(this, a, b);
          }
          break;
        case 4:
          if (130 === this.na) {
            $b(this);
          } else {
            return Yb(this, a, b);
          }
          break;
        default:
          return Yb(this, a, b);
      }break;
    case 114:
      if (10 === a) {
        this.sa = b, this.ka = 5;
      } else if (2 === a) {
        $b(this);
      } else {
        return Yb(this, a, b);
      }
      break;
    case 5:
      if (5 === a) {
        this.ka = 113;
      } else {
        return Yb(this, a, b);
      }
      break;
    case 6:
      if (6 === a) {
        130 === this.na ? (this.sa++, this.ka = 113) : 129 === this.na && (this.ka = 114);
      } else if (4 === a && 130 === this.na || 2 === a && 129 === this.na) {
        $b(this);
      } else {
        return Yb(this, a, b);
      }
      break;
    default:
      return Yb(this, a, b);
  }
};
var ac = !1, bc = !1, cc = !1;
function dc(a, b, c, d, e) {
  P(a) || d && d("Invalid html.json document!");
  9 !== a[0] && 11 !== a[0] && (a = [11, a]);
  var f = [], k = -1;
  ec(!1, {qa:function(h) {
    f[++k] = h;
  }}, function(h, g) {
    na(a, h, g);
  }, b, c, d, e);
  return f.join("");
}
function ec(a, b, c, d, e, f, k) {
  function h() {
    var n = "";
    q && (n = "</" + q.toLowerCase() + ">", q = "");
    return n;
  }
  k = k || {};
  var g = !0 === k.quotAlways, l = !0 === k.useSingleQuot, m = k.instructionAttrPrefix || ":", p = [cc, null, ac || !1, bc || !1, !1];
  cc = ac = bc = !1;
  var q;
  c(function(n, u, F, r, v, A) {
    function D(M) {
      w[++z] = h() + (G ? M : Ga("" + M));
    }
    var w = [], z = -1, t = !1;
    P(n) && (a ? t = v : t = O(n) < n.length);
    v = p[5 * r];
    var B = p[5 * r + 1], C = p[5 * r + 2], G = p[5 * r + 3];
    B = e ? Da(n, B, e) : null;
    var x = n[0], y = n[1], I = 1, H;
    switch(ya(n)) {
      case 9:
        w[++z] = y;
        break;
      case 3:
        P(n) || (y = n);
        D(y);
        break;
      case 4:
        w[++z] = "<![CDATA[" + Ga("" + y) + "]]\x3e";
        break;
      case 8:
        w[++z] = "\x3c!--" + Ga("" + y) + "--\x3e";
        break;
      case 13:
        w[++z] = h() + "\x3c!--[" + y + "]>";
        break;
      case 16:
        w[++z] = h() + "\x3c!--{" + y + "};";
        break;
      case 14:
        w[++z] = "\x3c!--[" + y + "]>\x3c!--\x3e";
        break;
      case 15:
        w[++z] = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (d) {
          var K = Aa(d, n, f, A);
          A = P(K);
          if (null != K && "" !== K) {
            if (wa(K)) {
              D(K);
            } else if (A) {
              if (a) {
                return K;
              }
              Ba(u, F, K);
              return -1;
            }
          }
        }
        break;
      case 18:
        w[++z] = "</" + y + ">";
        break;
      case 17:
        K = !0;
      case 1:
        x === +x && (x = y, I = 2);
        x = Ma(x);
        u = x[1];
        F = x[2];
        x = x[0];
        n = n[I];
        "P" !== q || qa[x] ? q = "" : w[++z] = h();
        v = v || (v || aa[x] ? !0 : 0 < x.indexOf(":"));
        C = !!pa[x];
        G = G || !!ta[x];
        w[++z] = "<" + (v ? x : x.toLowerCase());
        u && (w[++z] = " id=" + Ha(u, l, v || g));
        F && (w[++z] = " class=" + Ha(F, l, v || g));
        if (za(n)) {
          for (H in n) {
            u = n[H];
            (F = 0 === H.indexOf(m)) && (H = H.substr(m.length));
            "className" === H && (H = "class");
            if (F && d && (u = Ca(!0, d, H, u, f, A), a && A && A.paused)) {
              return;
            }
            if (!(null == u || ba[H] && !1 === u || (w[++z] = " " + H, ba[H] || !0 === u))) {
              if ("style" === H && Q(u) && (u = Oa(u), !u)) {
                continue;
              }
              w[++z] = "=" + Ha(u, l, v || g);
            }
          }
        }
        !v || t || K ? w[++z] = ">" : w[++z] = " />";
    }
    p[5 * r + 5] = v;
    p[5 * r + 6] = B;
    p[5 * r + 7] = C;
    p[5 * r + 8] = G;
    p[5 * r + 9] = t;
    -1 !== z && b.qa(w.join(""));
  }, function(n, u, F, r) {
    u = [];
    F = -1;
    var v = p[5 * r + 5], A = p[5 * r + 7], D = p[5 * r + 9], w = n[0];
    5 * r + 5 < p.length && (p.length = 5 * r + 5);
    switch(ya(n)) {
      case 13:
        u[++F] = h() + "<![endif]--\x3e";
        break;
      case 16:
        u[++F] = h() + "--\x3e";
        break;
      case 17:
        q = "";
        break;
      case 1:
        w === +w && (w = n[1]), w = Ma(w), w = w[0], !D && ca[w] ? q = "" : v && !D || oa[w] && (!A || "P" !== w) ? q = w : (u[++F] = "</" + (v ? w : w.toLowerCase()) + ">", q = "");
    }
    -1 !== F && b.qa(u.join(""));
    0 === r && (b = null);
  });
  c = null;
}
;var fc = require("stream");
function gc(a) {
  for (var b = a.Da; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function hc(a) {
  if (a.paused) {
    a.on("resume", () => hc(a));
  } else {
    a.writable && (a.writable = !1, a.Qa.call(a), !a.readable && a.Ma && a.destroy());
  }
}
var jc = class extends fc.Stream {
  constructor(a) {
    var b = ic;
    super();
    this.Sa = b;
    this.Qa = a;
    this.Na = this.paused = this.Ka = this.ended = !1;
    this.Ma = this.readable = this.writable = !0;
    this.Da = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && this.Ma && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.Sa.call(this, a);
    return !this.paused;
  }
  qa(a) {
    this.Ka || (null === a && (this.Ka = !0), this.Da.push(a), gc(this));
  }
  end(a) {
    this.ended || (this.ended = !0, arguments.length && this.write(a), hc(this));
  }
  destroy() {
    this.Na || (this.ended = this.Na = !0, this.Da.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    gc(this);
    this.paused || this.emit("drain");
  }
};
function kc(a) {
  const b = new Vb(), c = new jc(lc);
  c.pa = b;
  b.ja = c;
  b.Ea = 0;
  b.ta = [];
  b.la = b.ea;
  b.ea = mc;
  b.Ia = nc;
  b.Ha = [];
  b.Ga = [];
  b.da = a;
  c.on("resume", oc);
  return c;
}
function ic(a) {
  if (a === +a || a === !!a) {
    a = "" + a;
  }
  R(a) && (a = Rb(a));
  this.pa.write(a);
}
function lc(a) {
  null != a && this.write(a);
  37 !== this.pa.Ea && this.emit("error", "Invalid html.json");
  this.qa(null);
  this.pa = this.pa.ja = null;
}
function oc() {
  var a = this.pa, b = a.Ga;
  if (b) {
    for (; b.length && !this.paused;) {
      a.ea(b.shift(), b.shift());
    }
  }
}
function nc(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.da && this.da(a.message);
  this.ja.emit("error", a);
}
function mc(a, b) {
  function c(l) {
    h.ba = l;
  }
  function d(l) {
    const m = h.ba, p = h.ga;
    switch(m) {
      case 11:
        return e([m], l);
      case 17:
      case 1:
        if (h.ua) {
          return e([m, p, h.ua], l);
        }
      case 9:
      case 13:
      case 16:
        return e([m, p], l);
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return e([m, p], !1);
      case 15:
        return e([m], !1);
      case 7:
        return e([m].concat(h.ta), !1);
    }
    return !1;
  }
  function e(l, m) {
    const p = h.Ha;
    var q = h.ja, n = p.length - 1;
    -1 === n && 9 !== l[0] && 11 !== l[0] && (p.push([[11], -1]), n = 0, h.Ua = !0);
    const u = p[n] || [null, -1];
    n = h.Ta(l, u[0], u[1] + 1, n, m, q);
    (q = q.paused) ? -1 !== n && h.Ga.push(a, b) : (h.ta.length = 0, h.ua = null, ++u[1], m ? p.push([l, -1]) : f(l));
    return q;
  }
  function f(l) {
    const m = h.Ha;
    let p = m.length - 1, q = m[p];
    l || (l = q[0], m.pop(), --p, q = m[p] || [null, 0]);
    h.Oa && h.Oa(l, q[0], q[1], p);
  }
  function k() {
    return h.Ha.length - (h.Ua ? 1 : 0) ? 36 : 37;
  }
  const h = this;
  var g = this.Ea;
  if (this.ja.paused) {
    this.Ga.push(a, b);
  } else {
    if (5 === a || 6 === a) {
      this.oa.length && this.la(a, b);
    } else {
      switch(g) {
        case 26:
          switch(a) {
            case 4:
              if (0 === this.oa.length) {
                if (0 === this.ta.length) {
                  g = -1;
                  break;
                }
                if (d(!1)) {
                  return;
                }
                g = k();
                break;
              }
            case 2:
              1 === this.oa.length && (this.ta.push(this.fa), this.fa = null);
            case 3:
            case 1:
              this.la(a, b);
              break;
            default:
              this.oa.length ? this.la(a, b) : (0 !== this.ta.length || R(b) || (g = -1), this.ta.push(b));
          }break;
        case 34:
          switch(a) {
            case 2:
              1 === this.oa.length && (this.ua = this.fa, this.fa = null, g = 35);
            default:
              this.la(a, b);
          }break;
        default:
          switch(a) {
            case 3:
              switch(g) {
                case 30:
                case 35:
                  g = 32;
                  break;
                case 0:
                case 36:
                  g = 0;
                  break;
                default:
                  g = -1;
              }break;
            case 4:
              g = 30 === g || 35 === g ? 34 : 36 === g ? 35 : 31 === g ? 31 : -1;
              break;
            case 1:
              g = 30 === g ? 30 : -1;
              break;
            case 10:
              switch(g) {
                case 32:
                case 27:
                  g = 27;
                  break;
                case 28:
                  g = 28;
                  break;
                case 29:
                  g = 29;
                  break;
                case 19:
                  g = 19;
                  break;
                case 20:
                  g = 20;
                  break;
                case 21:
                  g = 21;
                  break;
                case 22:
                  g = 22;
                  break;
                case 23:
                  g = 23;
                  break;
                case 25:
                  g = 25;
                  break;
                case 24:
                  g = 24;
                  break;
                case 30:
                case 35:
                  g = 33;
                  break;
                case 36:
                  g = 38;
                  break;
                default:
                  g = -1;
              }break;
            case 11:
              switch(g) {
                case 32:
                  g = b;
                  break;
                case 20:
                  g = 20;
                  break;
                case 30:
                case 35:
                  g = 33;
                  break;
                case 36:
                  g = 38;
                  break;
                case 21:
                  g = 21;
                  break;
                case 22:
                  g = 22;
                  break;
                default:
                  g = -1;
              }break;
            default:
              g = -1;
          }switch(g) {
            case 32:
              if (d(!0)) {
                return;
              }
            case 0:
              g = 32;
              break;
            case 9:
              g = 19;
              c(9);
              break;
            case 19:
              g = 35;
              h.ga = b;
              break;
            case 11:
              g = 35;
              c(11);
              break;
            case 1:
              g = 27;
              break;
            case 17:
              g = 28;
              c(17);
              break;
            case 27:
              c(1);
            case 28:
              g = 30;
              h.ga = b;
              break;
            case 30:
              g = 34;
              this.ua = {};
              this.la(a, b);
              break;
            case 35:
              f();
              g = k();
              break;
            case 31:
              if (d(!1)) {
                return;
              }
              g = k();
              break;
            case 34:
              if (d(!1)) {
                return;
              }
              g = k();
              break;
            case 18:
              g = 29;
              c(18);
              break;
            case 29:
              g = 31;
              h.ga = b;
              break;
            case 3:
              g = 20;
              c(3);
              break;
            case 20:
              g = 31;
              h.ga = b;
              break;
            case 33:
              if (d(!0)) {
                return;
              }
            case 38:
              g = 36;
              e([3, b], !1);
              break;
            case 4:
              g = 21;
              c(4);
              break;
            case 21:
              g = 31;
              h.ga = b;
              break;
            case 8:
              g = 22;
              c(8);
              break;
            case 22:
              g = 31;
              h.ga = b;
              break;
            case 13:
              g = 23;
              c(13);
              break;
            case 23:
              g = 35;
              h.ga = b;
              break;
            case 16:
              g = 25;
              c(16);
              break;
            case 25:
              g = 35;
              h.ga = b;
              break;
            case 14:
              g = 24;
              c(14);
              break;
            case 24:
              g = 31;
              h.ga = b;
              break;
            case 15:
              g = 31;
              c(15);
              break;
            case 7:
              g = 26;
              c(7);
              break;
            default:
              g = -1;
          }
      }
      -1 === g ? (this.da && this.da("Not html.json format!"), this.ja.emit("error", "Not html.json format!")) : this.Ea = g;
    }
  }
}
;kb = function() {
  const a = new Vb(), b = new jc(pc);
  b.pa = a;
  a.ja = b;
  a.la = a.ea;
  a.ea = qc;
  a.xa = this;
  a.ma = 0;
  return b;
};
function pc(a) {
  null != a && this.write(a);
  if (a = this.pa.La) {
    this.qa(a), delete this.pa.La;
  }
  this.qa(null);
  this.pa = this.pa.ja = null;
}
function rc(a, b) {
  10 === a ? b = '"' + b.split('"').join('\\"').split("\b").join("\\b").split("\f").join("\\f").split("\n").join("\\n").split("\r").join("\\r").split("\t").join("\\t") + '"' : 9 === a && (b += ";");
  this.ja.qa(b);
}
function qc(a, b) {
  function c(e) {
    let f = [d.Pa, 11, e];
    const k = sb(d.xa, f);
    if (f !== k) {
      e = JSON.stringify(k).split('"' + e + '"');
      if (2 !== e.length) {
        return c("--" + Math.random() + "--");
      }
      d.ja.qa(e[0].substr(1));
      d.La = e[1].substr(0, e[1].length - 1);
    } else {
      d.ja.qa(JSON.stringify(k[0]) + ","), d.Va = !0;
    }
    delete d.xa;
    delete d.Pa;
  }
  const d = this;
  switch(this.ma) {
    case 0:
      3 === a ? (this.ma = 1, this.ja.qa(b)) : this.ja.emit("error", "Not html.json format!");
      break;
    case 1:
      1 === a ? (this.ma = 2, this.la(a, b)) : (this.ma = 5, this.ja.qa(b));
      break;
    case 2:
      if (2 === a && 1 === this.oa.length) {
        const e = this.fa;
        this.ma = 3;
        this.Pa = e;
        this.fa = null;
      }
      this.la(a, b);
      break;
    case 3:
      6 === a ? (this.ma = 4, c("--- page insert position ---")) : (this.da("Not HTMLJsonWithMetadata!"), this.ja.emit("error", "Not HTMLJsonWithMetadata!"));
      break;
    case 4:
      9 === b || 11 === b ? d.Va ? (this.ma = 8, this.ja.qa(b)) : this.ma = 11 === b ? 9 : 5 : (this.da("Not HTMLJsonWithMetadata!"), this.ja.emit("error", "Not HTMLJsonWithMetadata!"));
      break;
    case 5:
    case 6:
    case 7:
      ++this.ma;
      break;
    case 8:
      this.ja.qa(b);
    case 9:
      this.ea = rc;
  }
}
;function sc(a, b, c, d, e) {
  var f = b || null;
  b = "function" === typeof c ? c : null;
  var k = "function" === typeof d ? d : function() {
  };
  d = e || {};
  var h = -1 !== ["normal", !0, "aggressive"].indexOf(d.trimWhitespaces), g = "aggressive" === d.trimWhitespaces, l = !!d.removeNewlineBetweenFullWidthChars, m = !1 !== d.keepCDATASections, p = !1 !== d.keepComments, q = !0 === d.keepEmptyConditionalComment, n = d.instructionAttrPrefix || ":", u = !0, F = [!1, !1];
  if (P(a)) {
    return 9 !== a[0] && 11 !== a[0] && (a = [11, a]), (d = na(a, function(r, v, A, D) {
      var w = F[2 * D], z = F[2 * D + 1];
      D = r[0];
      var t = r[1], B = 1;
      switch(ya(r)) {
        case 9:
          break;
        case 11:
          break;
        case 3:
          P(r) || (t = r);
          t = Ja("" + t, w, z, h, g, l);
          if ("" !== t) {
            v[A] = t;
          } else {
            return v.splice(A, 1), -1;
          }
          return;
        case 4:
          if (!m) {
            return v.splice(A, 1), -1;
          }
          break;
        case 8:
          if (!p) {
            return v.splice(A, 1), -1;
          }
          break;
        case 13:
          break;
        case 14:
          break;
        case 15:
          r = v[A - 1];
          if (!q && r && 14 === r[0]) {
            return v.splice(A - 1, 2), -2;
          }
          break;
        case 16:
          break;
        case 7:
          if (f) {
            if (r = Aa(f, r, k), void 0 !== r) {
              if (null === r || "" === r) {
                return v.splice(A, 1), -1;
              }
              if (r === +r) {
                v.splice(A, 1, r);
              } else if (P(r) || R(r)) {
                return Ba(v, A, r), -1;
              }
            } else {
              u = !1;
            }
          }
          break;
        case 1:
        case 17:
          D === +D && (D = t, B = 2);
          v = r[B];
          if (za(v)) {
            A = B - 1;
            z = 0;
            var C;
            t = Ma(r[A]);
            var G = t[1], x = t[2];
            t = t[0];
            for (H in v) {
              var y = H;
              var I = v[H];
              if (C = 0 === H.indexOf(n)) {
                var H = H.substr(n.length);
                "className" === H && (H = "class");
                if (f) {
                  if (I = Ca(!1, f, H, I, k), void 0 !== I) {
                    if (delete v[y], P(I)) {
                      R(I[0]) ? (v[y] = I, u = !1, ++z) : k("Invalid dynamic attribute callback value! [" + y + "=" + I + "]");
                    } else if ((!ba[H] || !1 !== I) && null !== I) {
                      if (R(I)) {
                        if ("id" === H) {
                          G = I;
                          continue;
                        } else if ("class" === H) {
                          y = I.split(" ");
                          for (I = y.length; I;) {
                            C = y[--I], -1 === (" " + x + " ").indexOf(" " + C + " ") && (x = (x ? " " : "") + C);
                          }
                          continue;
                        }
                      }
                      v[H] = I;
                      ++z;
                    }
                  } else {
                    u = !1, ++z;
                  }
                } else {
                  u = !1, ++z;
                }
              } else {
                ++z;
              }
            }
            r[A] = Na(t, G, x);
            0 === z && r.splice(B, 1);
          }
          r = !!va[D];
          w = w || r;
          z = !!ua[D];
          break;
        default:
          k("Not html.json! [" + r + "]");
      }
      F.push(w, z);
    }, function(r, v, A, D) {
      2 * D + 2 < F.length && (F.length = 2 * D + 2);
      switch(ya(r)) {
        case 13:
        case 16:
          if (!q && 2 === r.length) {
            return v.splice(A, 1), -1;
          }
      }
    })) && Ia(a), b && tc(b, a) && (u = Pa(a, n)), u;
  }
  k("Invalid html.json document!");
}
function tc(a, b) {
  var c = Ea(b, !1);
  S = !1;
  a(c);
  if (a = S) {
    S = !1, b.length = 0, b.push.apply(b, Ya(c)), Ia(b);
  }
  return a;
}
;function uc(a, b, c) {
  this.path = a.path;
  this.Ca = b;
  this.$ = function(d) {
    d = this.wa(d);
    d = d.split("#")[0];
    (d = a.ba[d] || null) && Kb(a, d);
    return d;
  };
  c && (this.ba = function() {
    return c;
  });
}
uc.prototype.ba = function() {
  return this.$(this.Ca);
};
uc.prototype.wa = function(a) {
  return this.path.wa(this.Ca, a);
};
function vc(a, b, c) {
  if (b) {
    if ("function" === typeof b) {
      return wc(c, a, b);
    }
    var d = {}, e;
    for (e in b) {
      d[e] = wc(c, a, b[e]);
    }
    return d;
  }
}
function xc(a, b, c) {
  if (b) {
    if ("function" === typeof b) {
      return wc(c, a, b);
    }
    for (var d = 0, e = b.length, f = []; d < e; d += 2) {
      f[d] = b[d], f[d + 1] = wc(c, a, b[d + 1]);
    }
    return f;
  }
}
function yc(a, b) {
  if (b) {
    return b.bind(a);
  }
}
function wc(a, b, c) {
  return a ? function() {
    var d = this || {};
    d.pause && d.resume && (b.pause = function() {
      d.pause();
      b.paused = d.paused;
    }, b.resume = function() {
      d.resume();
      b.paused = d.paused;
    });
    var e = c.apply(b, arguments);
    d.pause && d.resume && (b.pause = null);
    return e;
  } : c.bind(b);
}
;lb = function(a, b, c, d, e, f) {
  const k = !!ub(a, !1);
  let h;
  if (qb(a)) {
    let g;
    h = a.shift();
    k ? g = new uc(this, h.URL, h) : (h = tb(this, h, e), g = new uc(this, h.URL));
    b = vc(g, b, !1);
    xc(g, c, !1);
    d = d ? d.bind(g) : void 0;
    e = yc(g, e);
  }
  b = sc(a, b, d, e, f);
  h && (k ? (delete h.URL, a.unshift(h)) : a.unshift(Lb(this, h)));
  return b;
};
function zc(a, b, c, d, e) {
  const f = this, k = require("vinyl"), h = require("through2"), g = e && e.processTemplates, l = [];
  return h.obj(Ob(f, "NicePageBuilder.gulp.json2json", !1, P, null, function(m, p) {
    l.push(m, p);
  }), function(m) {
    Ib(f, l);
    if (g) {
      for (var p in f.$) {
        var q = ob(f.$[p]);
        qb(q) && (q[0].URL = p);
        lb.call(f, q, a, b, c, d, e);
      }
    }
    for (; l.length;) {
      p = l.shift(), q = l.shift(), lb.call(f, q, a, b, c, d, e), this.push(new k({base:"/", path:p, contents:Buffer.from(JSON.stringify(q))}));
    }
    m();
  });
}
;mb = function(a, b, c, d, e) {
  if (qb(a)) {
    var f = a.shift();
    if (f.MIXINS || f.TEMPLATE) {
      throw X(f.URL) + " is not complete document! Use nicePageBuilder.builder() before json2html().";
    }
    f = new uc(this, f.URL);
    b = vc(f, b, !1);
    c = xc(f, c, !1);
    d = yc(f, d);
  }
  return dc(a, b, c, d, e) || "";
};
function Ac(a, b, c, d) {
  const e = this, f = require("vinyl"), k = [];
  return require("through2").obj(Ob(e, "NicePageBuilder.gulp.json2html", !1, P, null, function(h, g) {
    k.push(h, g);
  }), function(h) {
    for (Ib(e, k); k.length;) {
      var g = k.shift();
      const l = k.shift();
      g = g.split(".json");
      g.pop();
      this.push(new f({base:"/", path:g.join(".json"), contents:Buffer.from(mb.call(e, l, a, b, c, d))}));
    }
    h();
  });
}
;function Bc(a, b, c, d) {
  const e = kc(c);
  ec(!0, e, function(f, k) {
    var h;
    e.pa.Ta = function(g, l, m, p, q, n) {
      if (h) {
        if (Cc(h, n, f, k)) {
          return;
        }
        h = null;
      }
      g = f(g, l, m, p, q, n);
      m = n.paused;
      p = P(g);
      if ((!m || null != g) && p) {
        if (m) {
          throw "ProcessingInstruction \u306e\u30cf\u30f3\u30c9\u30e9\u3067 htmlJson \u306e\u8fd4\u5374\u3068 pause \u306e\u4e21\u65b9\u3092\u884c\u3046\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
        }
        if (11 === g[0]) {
          for (m = 1, p = g.length; m < p; ++m) {
            l.push(g[m]);
          }
        } else {
          l.push(g);
        }
        Cc(l, n, f, k) && (h = l);
        return -1;
      }
    };
    e.pa.Oa = k;
  }, a, b, c, d);
  return e;
}
function Cc(a, b, c, d) {
  var e;
  na(a, function(f, k, h, g) {
    if (f !== a && !f.ba) {
      g = c(f, k, h, g, O(f) < f.length, b);
      var l = b.paused, m = P(g);
      if (m) {
        if (l) {
          throw "ProcessingInstruction \u306e\u30cf\u30f3\u30c9\u30e9\u3067 htmlJson \u306e\u8fd4\u5374\u3068 pause \u306e\u4e21\u65b9\u3092\u884c\u3046\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
        }
        Ba(k, h, g);
      }
      if (l) {
        return e = !0, Infinity;
      }
      if (m) {
        return -1;
      }
      if (wa(f)) {
        return k.splice(h, 1), -1;
      }
      f.ba = !0;
    }
  }, function(f, k, h, g) {
    f === a || f.left || -1 === [9, 11, 1, 17, 13, 16].indexOf(ya(f)) || (d(f, k, h, g), f.left = !0);
  });
  return e;
}
;nb = function(a, b, c, d) {
  const e = new uc(this, "");
  a = Bc(vc(e, a, !0), xc(e, b, !0), yc(e, c), d);
  b = a.pa;
  b.Fa = b.ea;
  b.ea = Dc;
  b.xa = this;
  b.Ra = e;
  b.ma = 0;
  return a;
};
function Dc(a, b) {
  function c() {
    d.ea = d.Fa;
    delete d.Fa;
    delete d.xa;
  }
  const d = this;
  switch(this.ma) {
    case 0:
      3 === a ? (this.ma = 1, this.Fa(a, b)) : (this.da("Not html.json format!"), this.ja.emit("error", "Not html.json format!"));
      break;
    case 1:
      1 === a ? (this.ma = 2, this.la(a, b)) : (c(), this.ea(a, b));
      break;
    case 2:
      if (2 === a && 1 === this.oa.length) {
        this.ma = 3;
        const e = this.fa;
        this.fa = null;
        if (e.MIXINS || e.TEMPLATE) {
          throw X(e.URL) + " is not complete document! Use nicePageBuilder.builder() before json2html().";
        }
        Jb(this.xa, e);
        this.Ra.Ca = e.URL;
      }
      this.la(a, b);
      break;
    case 3:
      6 === a ? c() : (this.da("Not html.json format!"), this.ja.emit("error", "Not html.json format!"));
  }
}
;function Ec(a, b) {
  const c = this, d = require("vinyl");
  return require("through2").obj(Ob(c, "NicePageBuilder.gulp.dest", !1, function() {
    return !1;
  }, null), function(e) {
    function f(l) {
      const m = {}, p = Object.keys(l).sort();
      for (; p.length;) {
        const q = p.shift();
        m[q] = l[q];
      }
      return m;
    }
    function k(l, m) {
      l = new d({path:l, contents:Buffer.from(JSON.stringify(m, null, b ? "    " : ""))});
      l.extname = ".json";
      h.push(l);
    }
    const h = this;
    a & 1 && k(c.ia, f(c.ca));
    a & 2 && k(c.oa, f(c.$));
    if (a & 4) {
      var g = {};
      for (const l in c.ba) {
        delete (g[l] = Lb(c, c.ba[l])).URL;
      }
      k(c.ka, f(g));
    }
    if (a & 8) {
      for (const l in c.ha) {
        this.push(new d({path:l, contents:Buffer.from(JSON.stringify(c.ha[l]))}));
      }
    }
    if (a & 16) {
      for (const l in c.ga) {
        g = c.ga[l], qb(g) && (g[0] = Lb(c, g[0]), delete g[0].URL);
      }
      k(c.la, f(c.ga));
    }
    e();
  });
}
;module.exports = function(a) {
  a = new Fb(a);
  ib && (a.html2json = ib);
  jb && (a.builder = jb);
  kb && (a.builder || (a.builder = {}), a.builder.stream = kb.bind(a));
  lb && (a.json2json = lb);
  mb && (a.json2html = mb);
  nb && (a.json2html || (a.json2html = {}), a.json2html.stream = nb.bind(a));
  return a;
};
module.exports.DOCUMENT_NODE = 9;
module.exports.DOCUMENT_FRAGMENT_NODE = 11;
module.exports.ELEMENT_NODE = 1;
module.exports.TEXT_NODE = 3;
module.exports.CDATA_SECTION = 4;
module.exports.PROCESSING_INSTRUCTION = 7;
module.exports.COMMENT_NODE = 8;
module.exports.COND_CMT_HIDE_LOWER = 13;
module.exports.COND_CMT_SHOW_LOWER_START = 14;
module.exports.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
module.exports.ELEMENT_START_TAG = 17;
module.exports.ELEMENT_END_TAG = 18;
module.exports.gulp = function(a) {
  a = new Fb(a);
  ib && (a.html2json = Pb);
  jb && (a.builder = Qb);
  kb && (a.builder || (a.builder = {}), a.builder.stream = kb.bind(a));
  lb && (a.json2json = zc);
  mb && (a.json2html = Ac);
  nb && (a.json2html || (a.json2html = {}), a.json2html.stream = nb.bind(a));
  Ec && (a.dest = Ec);
  return a;
};
module.exports.onInstruction = module.exports.onInstruction || {};
var Fc = new Date();
module.exports.onInstruction[1] = {title:function() {
  var a = this.ba();
  return a ? a.title : "";
}, date:function(a, b, c) {
  return Fc.toLocaleString() + a + b.aa + c;
}};
module.exports.onInstruction = module.exports.onInstruction || {};
var Gc = new Date(), Hc = !0;
module.exports.onInstruction[2] = {title:function() {
  var a = this.ba();
  return a ? a.title : "";
}, date:function(a, b, c) {
  if (Hc && this.pause) {
    this.pause(), setTimeout(() => {
      Hc = !1;
      this.resume();
    }, 1000);
  } else {
    return Gc.toLocaleString() + a + b.aa + c;
  }
}};

