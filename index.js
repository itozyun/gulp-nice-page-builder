var aa = {xml:!0, svg:!0, math:!0}, ba = {async:!0, autofocus:!0, checked:!0, compact:!0, declare:!0, defer:!0, disabled:!0, draggable:!0, hidden:!0, ismap:!0, loop:!0, multiple:!0, nohref:!0, noresize:!0, noshade:!0, novalidate:!0, nowrap:!0, readonly:!0, required:!0, reversed:!0, scoped:!0, selected:!0}, ca = {AREA:!0, BASE:!0, BASEFONT:!0, BR:!0, BGSOUND:!0, COL:!0, COMMAND:!0, FRAME:!0, HR:!0, IMG:!0, INPUT:!0, ISINDEX:!0, KEYGEN:!0, LINK:!0, META:!0, PARAM:!0, SOURCE:!0, TRACK:!0, EMBED:!0, 
WBR:!0, area:!0, base:!0, basefont:!0, br:!0, bgsound:!0, col:!0, command:!0, frame:!0, hr:!0, img:!0, input:!0, isindex:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, embed:!0, wbr:!0}, da = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, H = {CAPTION:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, 
OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, 
DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DD:{ARTICLE:!0, SECTION:!0, NAV:!0, ASIDE:!0, H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, HEADER:!0, FOOTER:!0, ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, 
PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, DT:{ADDRESS:!0, P:!0, HR:!0, PRE:!0, BLOCKQUOTE:!0, OL:!0, UL:!0, DL:!0, FIGURE:!0, DIV:!0, A:!0, EM:!0, STRONG:!0, SMALL:!0, S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, 
CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, TABLE:!0, FORM:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, FIELDSET:!0, DETAILS:!0, DIALOG:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, P:{A:!0, EM:!0, STRONG:!0, SMALL:!0, 
S:!0, CITE:!0, Q:!0, DFN:!0, ABBR:!0, DATA:!0, TIME:!0, CODE:!0, VAR:!0, SAMP:!0, KBD:!0, SUB:!0, SUP:!0, I:!0, B:!0, U:!0, MARK:!0, RUBY:!0, BDI:!0, BDO:!0, SPAN:!0, BR:!0, WBR:!0, INS:!0, DEL:!0, PICTURE:!0, IMG:!0, IFRAME:!0, EMBED:!0, OBJECT:!0, VIDEO:!0, AUDIO:!0, MAP:!0, AREA:!0, math:!0, svg:!0, LABEL:!0, INPUT:!0, BUTTON:!0, SELECT:!0, DATALIST:!0, TEXTAREA:!0, KEYGEN:!0, OUTPUT:!0, PROGRESS:!0, METER:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLATE:!0, CANVAS:!0}, HTML:{HEAD:!0, BODY:!0}, HEAD:{TITLE:!0, 
BASE:!0, BGSOUND:!0, LINK:!0, META:!0, STYLE:!0, SCRIPT:!0, NOSCRIPT:!0, TEMPLETE:!0}, COLGROUP:{COL:!0}, OPTGROUP:{OPTION:!0}, OPTION:{}, TBODY:{TR:!0}, TR:{TH:!0, TD:!0}, RBC:{RB:!0, RP:!0, RT:!0}};
H.LI = H.TD = H.DD;
H.TH = H.DT;
H.RB = H.RP = H.RT = H.P;
H.TFOOT = H.THEAD = H.TBODY;
H.RTC = H.RBC;
var J = {a:2, b:2, c:2, d:2, e:2, f:2, g:2, h:2, i:2, j:2, k:2, l:2, m:2, n:2, o:2, p:2, q:2, r:2, s:2, t:2, u:2, v:2, w:2, x:2, y:2, z:2, A:1, B:1, C:1, D:1, E:1, F:1, G:1, H:1, I:1, J:1, K:1, L:1, M:1, N:1, O:1, P:1, Q:1, R:1, S:1, T:1, U:1, V:1, W:1, X:1, Y:1, Z:1, "\t":4, "\n":4, "\f":4, "\r":4, " ":4};
function ea(a, b) {
  var c = 0;
  function d() {
    c && (fa(b, e(a.substring(0, c))), a = a.substring(c), c = 0);
  }
  function e(q) {
    return q.split("&lt;").join("<").split("&gt;").join(">").split("&amp;lt;").join("&lt;").split("&amp;gt;").join("&gt;");
  }
  function f(q, v, r) {
    for (var C = 0, x = r.length, w = 3, k, G; w < x && 2 !== C;) {
      G = r.charAt(w);
      switch(C) {
        case 0:
          J[G] & 4 ? C = 1 : ">" === G && (C = 2);
          C && (k = r.substring(2, w));
          break;
        case 1:
          ">" === G && (C = 2);
      }
      ++w;
    }
    return 2 === C ? (ca[k] || n(q, v, t || h ? k : k.toUpperCase(), !1), w) : 0;
  }
  function n(q, v, r, C) {
    var x = 0, w = q.length;
    if (r) {
      for (x = w; 0 <= x && q[--x] !== r;) {
      }
    }
    if (0 <= x) {
      for (; x < w;) {
        ha(v, q[--w], C && !H[q[w]], !1), t && aa[q[w]] && (t = !!v.da);
      }
      q.length = x;
      if (h) {
        for (h = !1, w = x; w;) {
          if (0 < q[--w].indexOf(":")) {
            h = !0;
            break;
          }
        }
      }
    } else {
      ha(v, r, !1, !0);
    }
  }
  function m(q, v, r, C) {
    function x(S, K) {
      function F(Pb) {
        return e(Pb).split('\\"').join('"').split("\\'").join("'").split("&quot;").join('"').split("&apos;").join("'");
      }
      z[S] = !0 === K ? !0 : ba[S.toLowerCase()] ? t ? F(K || S) : !0 : F(K || "");
      ++E;
    }
    function w() {
      (D = "/>" === C.substr(u, 2)) && ++u;
      return D;
    }
    for (var k = 1, G = C.length, u = 2, z = {}, E = 0, D = !1, B, A, I, P, L, N; u < G && 9 > k;) {
      B = C.charAt(u);
      switch(k) {
        case 1:
          if (J[B] & 4) {
            k = 2, A = C.substring(1, u);
          } else if (">" === B || w()) {
            k = 9, A = C.substring(1, u);
          }
          break;
        case 2:
          ">" === B || w() ? k = 9 : J[B] & 4 || (k = 3, I = u);
          break;
        case 3:
          if ("=" === B) {
            k = 5, P = C.substring(I, u);
          } else if (J[B] & 4) {
            k = 4, P = C.substring(I, u);
          } else if (">" === B || w()) {
            k = 9, x(C.substring(I, u), !0);
          }
          break;
        case 4:
          "=" === B ? k = 5 : ">" === B || w() ? (k = 9, x(P, !0)) : J[B] & 4 || (k = 3, x(P, !0), I = u);
          break;
        case 5:
          '"' === B || "'" === B ? (k = 6, L = B, I = u + 1) : J[B] & 4 || (k = 7, I = u);
          N = !1;
          break;
        case 6:
          N || B !== L || (k = 2, x(P, C.substring(I, u)));
          N = "\\" === B && !N;
          break;
        case 7:
          J[B] & 4 ? k = 2 : ">" === B && (k = 9), 7 !== k && x(P, C.substring(I, u));
      }
      ++u;
    }
    if (9 === k) {
      k = A.toUpperCase();
      t ||= !!aa[A];
      h ||= 0 < A.indexOf(":");
      if (!t && !h) {
        for (; v;) {
          if (H[v] && !H[v][k]) {
            n(q, r, v, !1), v = q[q.length - 1];
          } else {
            break;
          }
        }
      }
      (D = D || !!ca[k]) || (q[q.length] = t || h ? A : k);
      ia(r, t || h ? A : k, E ? z : null, D);
      return u;
    }
    return 0;
  }
  for (var p = [], t = !!b.da, h = !1, l = a.length - c, y, g; a;) {
    y = p[p.length - 1];
    if (da[y]) {
      if ("PLAINTEXT" === y || "plaintext" === y) {
        fa(b, e(a)), a = "";
      } else {
        if (g = a.indexOf("</" + (t || h ? y : y.toLowerCase())), -1 === g && (g = a.indexOf("</" + (t || h ? y.toUpperCase() : y))), 0 <= g) {
          if (c = g, d(), y = f(p, b, a)) {
            a = a.substring(y);
          } else {
            M(b, a);
            return;
          }
        } else {
          M(b, a);
          return;
        }
      }
    } else if (a.indexOf("<!DOCTYPE ") === c) {
      if (d(), g = a.indexOf(">"), -1 !== g) {
        ja(b, a.substring(c, g + 1)), a = a.substring(g + 1);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("<?") === c) {
      if (d(), g = a.indexOf("?>"), -1 !== g) {
        ka(b, e(a.substring(2, g))), a = a.substring(g + 2);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("<![CDATA[") === c) {
      if (d(), g = a.indexOf("]]\x3e"), -1 !== g) {
        la(b, e(a.substring(9, g))), a = a.substring(g + 3);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("\x3c!--") === c) {
      if (d(), g = a.indexOf("--\x3e"), -1 !== g) {
        ma(b, e(a.substring(4, g))), a = a.substring(g + 3);
      } else {
        M(b, a);
        return;
      }
    } else if (a.indexOf("</") === c && J[a.charAt(c + 2)] & 3) {
      if (d(), y = f(p, b, a)) {
        a = a.substring(y);
      } else {
        M(b, a);
        return;
      }
    } else if ("<" === a.charAt(c) && J[a.charAt(c + 1)] & 3) {
      if (d(), y = m(p, y, b, a)) {
        a = a.substring(y);
      } else {
        M(b, a);
        return;
      }
    } else {
      g = a.indexOf("<", c), -1 === g ? (fa(b, e(a)), a = "") : c < g ? c = g : ++c;
    }
    y = a.length - c;
    if (y === l) {
      M(b, a);
      return;
    }
    l = y;
  }
  d();
  n(p, b, "", !0);
}
;var na = {HTML:!0, HEAD:!0, BODY:!0, P:!0, DT:!0, DD:!0, LI:!0, OPTION:!0, TBODY:!0, THEAD:!0, TFOOT:!0, TD:!0, TH:!0, TR:!0, RB:!0, RBC:!0, RP:!0, RT:!0, RTC:!0, OPTGROUP:!0, CAPTION:!0, COLGROUP:!0}, oa = {A:!0, AUDIO:!0, DEL:!0, INS:!0, MAP:!0, NOSCRIPT:!0, VIDEO:!0}, pa = {H1:!0, H2:!0, H3:!0, H4:!0, H5:!0, H6:!0, ADDRESS:!0, BLOCKQUOTE:!0, DIV:!0, DL:!0, FIELDSET:!0, FORM:!0, HR:!0, LEGEND:!0, MENU:!0, NOSCRIPT:!0, OL:!0, P:!0, PRE:!0, UL:!0, CENTER:!0, DIR:!0, NOFRAMES:!0, MARQUEE:!0}, qa = 
{SCRIPT:!0, STYLE:!0, TEXTAREA:!0, TITLE:!0, PLAINTEXT:!0, XMP:!0, script:!0, style:!0, textarea:!0, title:!0, plaintext:!0, xmp:!0}, ra = {SCRIPT:!0, STYLE:!0, TEXTAREA:!0, script:!0, style:!0, textarea:!0}, sa = {PRE:!0, LISTING:!0, pre:!0, listing:!0}, ta = !1, ua = !1, va = !1;
function O(a) {
  return !(!a || a.pop !== [].pop);
}
function Q(a) {
  return !(!a || "object" !== typeof a);
}
function R(a) {
  return "" + a === a;
}
function T(a) {
  return R(a) || a === +a;
}
function wa(a) {
  return a === "" + +a && a === a && a !== "" + 1 / 0 && a !== "" + -1 / 0 ? +a : a;
}
function xa(a) {
  if (T(a)) {
    a = 3;
  } else {
    if (O(a)) {
      if (R(a[0])) {
        a = 1;
      } else {
        var b = a[0];
        a = b === +b ? a[0] : -1;
      }
    } else {
      a = -1;
    }
  }
  return a;
}
function ya(a) {
  return !O(a) && Q(a);
}
function za(a, b, c, d, e) {
  var f = b[1], n = b.slice(2), m;
  "function" === typeof a ? m = n.length ? a(f, n) : a(f) : m = n.length ? a[f].apply(null, n) : a[f]();
  void 0 !== m && null !== m && "" !== m && (T(m) ? c ? c.splice(d, 1, m) : (b.length = 0, b.push(3, b)) : O(m) ? 11 === m[0] ? c ? (m.shift(), m.unshift(d, 1), c.splice.apply(c, m)) : (b.length = 0, b.push.apply(b, m)) : O(m[0]) ? c ? (m.unshift(d, 1), c.splice.apply(c, m)) : (b.length = 0, b.push(11), b.push.apply(b, m)) : c ? c.splice(d, 1, m) : (b.length = 0, b.push(11, m)) : e("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(b) + "]"));
  return m;
}
function Aa(a, b, c, d, e, f) {
  var n;
  if (O(d) && R(d[0])) {
    var m = d[0];
    d = d.slice(1);
    "function" === typeof b ? n = d.length ? b.call(f, m, d) : b.call(f, m) : n = d.length ? b[m].apply(f || b, d) : b[m].call(f || b);
  } else {
    R(d) ? "function" === typeof b ? n = b(d) : n = b[d]() : e("Invalid InstructionAttr value! [" + c + "=" + d + "]");
  }
  return a && O(n) ? Aa(!0, b, c, n, e, f) : n;
}
function Ba(a, b, c) {
  a = Ca(a, !0);
  var d;
  Da = a;
  b && (b.ca ? b.ca.push(a) : b.ca = [a]);
  if (O(c)) {
    var e = Ea(a);
    b = 0;
    for (d = c.length; b < d; b += 2) {
      var f = c[b];
      var n = c[b + 1];
      if (f === +f) {
        if (f === a.$ && !0 === n(a)) {
          break;
        }
      } else if (e && R(f) && f === a.ka && !0 === n(a)) {
        break;
      }
    }
  } else {
    c(a);
  }
  return a;
}
function U(a) {
  return a.split("&lt;").join("&amp;lt;").split("&gt;").join("&amp;gt;").split("<").join("&lt;").split(">").join("&gt;");
}
function Fa(a, b, c) {
  a = U("" + a);
  var d = a.match('"'), e = a.match("'"), f = b ? "'" : '"';
  d && e ? a = b ? f + a.split("'").join("\\'") + f : f + a.split('"').join('\\"') + f : d ? a = "'" + a + "'" : e ? a = b ? f + a.split("'").join("\\'") + f : f + a + f : c || a.match(/[^0-9a-z\.\-]/g) || 72 < a.length ? a = f + a + f : "" === a && (a = f + f);
  return a;
}
function Ga(a) {
  var b = [];
  a = a.split("");
  for (var c = a.length, d; c;) {
    d = a[--c], "A" <= d && "Z" >= d && (d = "-" + d.toLowerCase()), b[c] = d;
  }
  return b.join("");
}
function Ha(a) {
  var b = a[0], c = b === +b ? 2 : 1;
  return 1 === xa(a) || 17 === b ? ya(a[c]) ? c + 1 : c : 11 === b ? 1 : 9 === b || 13 === b || 16 === b ? 2 : Infinity;
}
function Ia(a) {
  var b = Ha(a), c = "", d;
  if (b < a.length) {
    for (d = b; d < a.length;) {
      b = a[d];
      var e = xa(b);
      3 === e ? (c = T(b) ? c + b : c + b[1], a.splice(d, 1)) : (c && (a.splice(d, 0, wa(c)), c = ""), ++d, 1 !== e && 17 !== e && 13 !== e && 16 !== e || Ia(b));
    }
    c && (a[d] = wa(c));
  }
}
function Ja(a, b, c, d, e, f) {
  if (!b && d) {
    if (c) {
      a = Ka(La(a, "\n"), "\n");
    } else {
      a = a.split("\r\n").join("\n");
      f && (a = a.replace(/([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])\s([\uFF01-\uFF60\u3040-\u309F\u30A0-\u30FF\u4E00-\u9FFF])/g, "$1$2"));
      for (a = a.split("\t").join(" "); 0 <= a.indexOf("\n\n");) {
        a = a.split("\n\n").join("\n");
      }
      if (e) {
        var n = "\n" === a.charAt(0) && /\n[ ]*$/.test(a);
      }
      a = Ka(a, "\n");
      for (a = a.split("\n").join(" "); 0 <= a.indexOf("  ");) {
        a = a.split("  ").join(" ");
      }
      n && (a = Ka(La(a, " "), " "));
      a = a.split("\\u0020").join(" ").split("&#x20;").join(" ").split("&#32;").join(" ");
    }
  }
  return wa(a);
}
function La(a, b) {
  for (; a.charAt(0) === b;) {
    a = a.substr(1);
  }
  return a;
}
function Ka(a, b) {
  for (; a.charAt(a.length - 1) === b;) {
    a = a.substr(0, a.length - 1);
  }
  return a;
}
function Ma(a) {
  var b = a.indexOf("#"), c = a.indexOf("."), d = "", e = "";
  b < c ? (d = a.split(".")[1], a = a.split(".")[0], 0 < b && (e = a.split("#")[1], a = a.split("#")[0])) : c < b && (e = a.split("#")[1], a = a.split("#")[0], 0 < c && (d = a.split(".")[1], a = a.split(".")[0]));
  return [a, e, d];
}
function Na(a, b, c) {
  b && (a += "#" + b);
  c && (a += "." + c);
  return a;
}
function Oa(a) {
  var b = [], c = -1, d;
  for (d in a) {
    var e = a[d];
    "0px" === e && (e = 0);
    b[++c] = Ga(d) + ":" + U("" + e);
  }
  return b.join(";").substr(1);
}
function Pa(a, b) {
  function c(e) {
    var f = e[0], n = e[1], m = f, p = 1;
    switch(f) {
      case 9:
      case 11:
      case 13:
      case 16:
        return d(e);
      case 7:
        return !0;
      case 1:
      case 17:
        m = n, p = 2;
      default:
        if (R(m)) {
          if (f = ya(e[p])) {
            a: {
              p = e[p];
              for (var t in p) {
                if (0 === t.indexOf(b)) {
                  f = !0;
                  break a;
                }
              }
              f = !1;
            }
          }
          return f ? !0 : d(e);
        }
    }
    return !1;
  }
  function d(e) {
    for (var f = Ha(e), n = e.length, m; f < n; ++f) {
      if (m = e[f], O(m) && c(m)) {
        return !0;
      }
    }
    return !1;
  }
  return !c(a);
}
function Ca(a, b) {
  function c(e, f) {
    function n(y, g, q) {
      return m ? Qa(m, y, g, q) : new Ra(b, 0, y, g, q);
    }
    var m = f === !!f ? null : f;
    f = e[0];
    var p = e[1], t = 1, h = f;
    switch(f) {
      case 3:
      case 4:
      case 8:
      case 14:
      case 18:
        return n(f, p);
      case 15:
        return n(f);
      case 7:
        var l = [];
        t = 2;
        for (h = e.length; t < h; ++t) {
          l[t - 2] = e[t];
        }
        return n(f, p, h ? l : null);
      case 9:
      case 13:
      case 16:
        l = n(f, p);
        break;
      case 11:
        l = n(f);
        break;
      case 1:
      case 17:
        h = p, t = 2;
      default:
        R(h) && (l = n(1 === t ? 1 : f, h, e[t]));
    }
    b || d(e, l);
    return l;
  }
  function d(e, f) {
    for (var n = Ha(e), m; n < e.length; ++n) {
      m = e[n], T(m) ? Qa(f, 3, m) : O(m) && c(m, f);
    }
  }
  return c(a, b);
}
;function Ra(a, b, c, d, e) {
  if (a === !!a) {
    var f = null;
    this.ba = a;
  } else {
    f = a, this.ba = f.ba;
  }
  if (f) {
    switch(f.$) {
      case 3:
      case 8:
      case 4:
      case 7:
      case 15:
      case 18:
        throw "nodeType:" + f.$ + " \u306f\u89aa\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
    if (Sa(this)) {
      throw "nodeType:" + f.$ + " \u306f\u5b50\u306b\u306a\u308b\u3053\u3068\u304c\u51fa\u6765\u307e\u305b\u3093!";
    }
  }
  this.ia = f;
  this.$ = c;
  if (f) {
    if (f.ca || (f.ca = []), a = f.ca, 0 <= b && b < a.length) {
      if (1 <= b && 17 === a[b - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.splice(b, 0, this);
    } else {
      if (a.length && 17 === a[a.length - 1].$) {
        throw "\u9589\u3058\u30bf\u30b0\u306e\u7121\u3044 Element \u306e\u6b21\u306b Node \u3092\u633f\u5165\u3059\u308b\u3053\u3068\u306f\u51fa\u6765\u307e\u305b\u3093!";
      }
      a.push(this);
    }
  }
  switch(c) {
    case 1:
    case 17:
      this.ma = e || null, d = Ma(d), this.ra = d[1], this.oa = d[2], d = d[0];
    case 18:
      this.ka = d;
      break;
    case 7:
      this.ga = e || null;
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      this.ja = d;
  }
}
var Da = null, V = !1;
function Ta(a) {
  if (a.ba) {
    throw "restricted mode \u3067\u306f getHTMLJSON() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var b = [a.$], c = a.ca, d, e;
  switch(a.$) {
    case 1:
      b.length = 0;
    case 17:
      b.push(Na(a.ka, a.ra, a.oa));
      a = a.ma;
      ya(a) && (b.push(a), a.style && Q(a.style) && (a.style = Oa(a.style)));
      break;
    case 18:
      b[1] = a.ka;
      break;
    case 7:
      if (d = a.ga) {
        var f = 0;
        for (e = d.length; f < e; ++f) {
          b[2 + f] = d[f];
        }
      }
    case 3:
    case 4:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      b[1] = a.ja;
  }
  if (c) {
    for (f = 0, e = c.length; f < e; ++f) {
      b.push(Ta(c[f]));
    }
  }
  return b;
}
function W(a) {
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
    case 13:
    case 14:
    case 16:
      return a.ja;
    default:
      throw "getNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Ua(a, b) {
  if (a.ba && !Va(a)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e setNodeValue() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  switch(a.$) {
    case 3:
    case 4:
    case 7:
    case 8:
    case 9:
      a.ja !== b && (V = !0);
      a.ja = b;
      break;
    default:
      throw "setNodeValue() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
}
function Ea(a) {
  return 1 === a.$ || 17 === a.$;
}
function Wa(a) {
  if (!Ea(a) && 18 !== a.$) {
    throw "getTagName() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  return a.ka;
}
function X(a) {
  if (!Xa(a)) {
    throw "getChildNodeCount() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeCount() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca.length;
}
function Ya(a, b) {
  if (!Xa(a)) {
    throw "getChildNodeAt() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (a.ba) {
    throw "restricted mode \u3067\u306f getChildNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  return a.ca && a.ca[b] || null;
}
Ra.prototype.remove = function() {
  if (Sa(this)) {
    throw "remove() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba && !Va(this)) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e discard() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (this.ba) {
    return this.sa = V = !0, null;
  }
  if (Sa(this)) {
    throw "getMyIndex() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
  }
  if (this.ba) {
    throw "restricted mode \u3067\u306f getMyIndex() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  var a = this.ia ? this.ia.ca.indexOf(this) : -1;
  0 <= a && (this.ia.ca.splice(a, 1), this.ia = null, V = !0);
};
function Qa(a, b, c, d) {
  if (a.ba && (!Va(a) || !Xa(a))) {
    throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertNodeLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (a.ba) {
    return a.da = a.da || [], a.da.push([b, c, d]), V = !0, null;
  }
  var e = X(a);
  if (a.ba) {
    throw "restricted mode \u3067\u306f insertNodeAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  V = !0;
  return new Ra(a, e, b, c, d);
}
function Xa(a) {
  return 1 === a.$ || 17 === a.$ || 13 === a.$ || 16 === a.$ || Sa(a);
}
function Sa(a) {
  return 9 === a.$ || 11 === a.$;
}
function Va(a) {
  return a === Da && !a.sa;
}
;function Za(a, b, c, d) {
  function e(u, z, E, D) {
    switch(u.$) {
      case 1:
      case 17:
        var B = {};
        D = Wa(u);
        var A = !!sa[D];
        var I = u.ma, P = 0, L;
        if (I) {
          for (L in I) {
            var N = ba[L] ? 1 : I[L];
            if ("id" === L) {
              var S = N;
            } else if ("class" === L) {
              var K = N;
            } else {
              if (L.startsWith(x)) {
                var F = f(N);
                F.Ia ? (N = [F.Ja], l.apply(N, F.Ia)) : N = F.Ja;
              }
              B[L] = wa(N);
              ++P;
            }
          }
        }
        D = Na(D, S, K);
        if (A && y) {
          for (; F = m(u);) {
            if (t(W(F))) {
              Ua(F, La(W(F), "\n"));
              break;
            } else {
              F.remove();
            }
          }
          for (; F = p(u);) {
            if (t(W(F))) {
              Ua(F, Ka(W(F), "\n"));
              break;
            } else {
              F.remove();
            }
          }
        }
        B = P ? [D, B] : [D];
        for (F = 0; F < X(u); ++F) {
          e(Ya(u, F), B, A || E, !!ra[D]);
        }
        z.push(B);
        17 !== u.$ || B.unshift(17);
        break;
      case 18:
        z.push([18, Wa(u)]);
        break;
      case 3:
        A = Ja("" + W(u), E, D, y, g, q);
        "" !== A && z.push(A);
        break;
      case 4:
        v && (A = W(u), z.push([4, wa(A)]));
        break;
      case 7:
        A = W(u);
        F = f(A);
        B = [7, F.Ja];
        F.Ia && l.apply(B, F.Ia);
        z.push(B);
        break;
      case 8:
        A = W(u);
        if (A.startsWith("[if") && 0 < A.indexOf("<![endif]")) {
          u = $a(n(A, ">", "<![endif]", !0), !0, c);
          B = [13, n(A, "[", "]", !1)];
          for (F = 0; F < X(u); ++F) {
            e(Ya(u, F), B, E, D);
          }
          (2 < B.length || C) && z.push(B);
        } else if (A.startsWith("{") && 2 < A.indexOf("};")) {
          u = $a(A.substring(A.indexOf("};") + 2), !0, c);
          B = [16, n(A, "{", "};", !1)];
          for (F = 0; F < X(u); ++F) {
            e(Ya(u, F), B, E, D);
          }
          (2 < B.length || C) && z.push(B);
        } else {
          A.startsWith("[if") && 0 < A.indexOf("><!") ? (z.push([14, n(A, "[", "]", !1)]), G = !0) : "<![endif]" === A && G ? (E = z[z.length - 1], C || !E || 14 !== E[0] ? z.push([15]) : E && z.pop(), G = !1) : r && z.push([8, wa(A)]);
        }
        break;
      case 9:
        A = W(u);
        y && (A = A.split("\n").join(" ").split("  ").join(" "));
        B = [9, A];
        z.push(B);
        for (F = 0; F < X(u); ++F) {
          e(Ya(u, F), B, !1, !1);
        }
        break;
      case 11:
        for (B = [11], z.push(B), F = 0; F < X(u); ++F) {
          e(Ya(u, F), B, E, D);
        }
    }
  }
  function f(u) {
    var z = u.indexOf(w), E = u.lastIndexOf(k), D = Ka(La(-1 === z ? u : u.substr(0, z), " "), " ");
    u = -1 === z ? [] : JSON.parse("[" + u.substring(z + w.length, E) + "]");
    return u.length ? {Ja:D, Ia:u} : {Ja:D};
  }
  function n(u, z, E, D) {
    z = u.indexOf(z) + z.length;
    E = D ? u.lastIndexOf(E) : u.indexOf(E, z);
    return u.substring(z, E);
  }
  function m(u) {
    for (var z = 0, E = X(u), D; z < E; ++z) {
      if (D = Ya(u, z), Ea(D) && (D = m(D)), D && 3 === D.$) {
        return D;
      }
    }
  }
  function p(u) {
    for (var z = X(u), E; z;) {
      if (E = Ya(u, --z), Ea(E) && (E = p(E)), E && 3 === E.$) {
        return E;
      }
    }
  }
  function t(u) {
    return u.split("\n").join("").split(" ").join("").split("\t").join("");
  }
  const h = [], l = h.push;
  a = $a(a, b, c);
  d = d || {};
  const y = -1 === ["none", !1].indexOf(d.trimWhitespaces), g = "aggressive" === d.trimWhitespaces, q = !!d.removeNewlineBetweenFullWidthChars, v = !0 === d.keepCDATASections, r = !0 === d.keepComments, C = !0 === d.keepEmptyConditionalComment, x = d.instructionAttrPrefix || ":";
  d = d.argumentBrackets || "()";
  const w = d.substr(0, d.length / 2), k = d.substr(d.length / 2);
  let G = !1;
  e(a, h, !1, !1);
  Ia(h[0]);
  return h[0];
}
function $a(a, b, c) {
  b = new ab(b, c);
  ea(a, b);
  return b.ga;
}
function ab(a, b) {
  this.ca = a;
  this.$ = this.ga = new Ra(!1, 0, 11);
  this.ba = b;
}
function M(a, b) {
  if (a.ba) {
    a.ba(b);
  } else {
    throw "Handler.prototype.onParseError: error!" + b;
  }
}
function ja(a, b) {
  var c = a.ga;
  if (c.ba) {
    throw "restricted mode \u3067\u306f setNodeType() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
  }
  if (11 !== c.$) {
    throw "nodeType \u306e\u5909\u66f4\u306f DOCUMENT_FRAGMENT_NODE -> DOCUMENT_NODE \u3060\u3051\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059!";
  }
  9 !== c.$ && (V = !0);
  c.$ = 9;
  Ua(a.ga, b);
}
function ia(a, b, c, d) {
  if (d) {
    a = a.$;
    if (a.ba && (!Va(a) || !Xa(a))) {
      throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e insertElementLast() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
    }
    if (a.ba) {
      a.da = a.da || [], a.da.push([1, b, c, void 0]);
    } else {
      d = X(a);
      if (a.ba) {
        throw "restricted mode \u3067\u306f insertElementAt() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      new Ra(a, d, 1, b, c);
    }
    V = !0;
  } else {
    a.$ = Qa(a.$, 17, b, c);
  }
}
function ha(a, b, c, d) {
  if (d) {
    a.ca && Qa(a.$, 18, b);
  } else if (!c || !a.ca) {
    if (b === Wa(a.$)) {
      b = a.$;
      if (b.ba) {
        throw "restricted mode \u3067\u306f finalize() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      if (17 !== b.$) {
        throw "finalize() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      1 !== b.$ && (V = !0);
      b.$ = 1;
      b = a.$;
      if (Sa(b)) {
        throw "getParent() \u3092\u30b5\u30dd\u30fc\u30c8\u3057\u306a\u3044 nodeType \u3067\u3059!";
      }
      if (b.ba && !Va(b)) {
        throw "restricted mode \u3067\u306f\u73fe\u5728\u306e\u30ce\u30fc\u30c9\u4ee5\u5916\u3078\u306e getParent() \u306f\u975e\u5bfe\u5fdc\u3067\u3059!";
      }
      a.$ = b.ia;
    } else {
      if (a.ba) {
        a.ba("End tag error! " + b);
      } else {
        throw "Handler.prototype.onParseEndTag: End tag error! " + b;
      }
    }
  }
}
function fa(a, b) {
  Qa(a.$, 3, b);
}
function ma(a, b) {
  Qa(a.$, 8, b);
}
function la(a, b) {
  Qa(a.$, 4, b);
}
function ka(a, b) {
  Qa(a.$, 7, b);
}
;function bb(a, b) {
  this.ba = a + ("/" === a.charAt(a.length - 1) ? "" : "/");
  b && (b = cb(b), this.$ = b + ("/" === b.charAt(b.length - 1) ? "" : "/"));
}
function db(a, b) {
  var c = b, d = a.split("/");
  d.pop();
  "" === d[0] && d.shift();
  for ("./" === b.substr(0, 2) && (b = b.substr(2)); "../" === b.substr(0, 3);) {
    if (!d.length) {
      throw "Failed _relativePathToRootRelativePath! base:" + a + " target:" + c;
    }
    b = b.substr(3);
    --d.length;
  }
  return (d.length ? "/" + d.join("/") : "") + "/" + b;
}
function eb(a) {
  a = a.split("index.html");
  a[a.length - 1] || a.pop();
  return a.join("index.html");
}
function fb(a) {
  if (gb(a)) {
    throw a + " is not a root relative path or relative URL!";
  }
  a = a.split("#")[0].split("/");
  a[a.length - 1] || (a[a.length - 1] = "index.html");
  return a.join("/");
}
function hb(a, b) {
  if (!a.$) {
    throw "absoluteDirectoryPathOfRoot is empty!";
  }
  return 0 === b.indexOf(a.$);
}
function cb(a) {
  return a.split("\\").join("/");
}
function ib(a, b) {
  if (hb(a, b) || "/" === b.charAt(0)) {
    a = b;
  } else {
    var c;
    (c = "/" === b.charAt(0)) || (c = a.$ ? hb(a, b) || gb(b) : gb(b));
    if (c) {
      throw b + " is not a relative path!";
    }
    a = db("/", b);
  }
  return a;
}
function gb(a) {
  return "//" === a.substr(0, 2) || "http://" === a.substr(0, 7) || "https://" === a.substr(0, 8);
}
function jb(a) {
  return "/" === a.charAt(0) && "//" !== a.substr(0, 2);
}
function kb(a, b, c) {
  if (gb(c) || jb(c)) {
    if (gb(c)) {
      var d = c;
      if (!gb(d)) {
        throw d + " is not a absolute URL!";
      }
      if (jb(d)) {
        throw d + " is a root relative URL!";
      }
      b = a.ba.length - 1;
      0 === d.indexOf(a.ba) ? d = d.substr(b) : "//" === a.ba.substr(0, 2) && (0 === d.indexOf("https:" + a.ba) && (d = d.substring(6, b)), 0 === d.indexOf("http:" + a.ba) && (d = d.substring(5, b)));
      a = d;
    } else {
      a = c;
    }
  } else {
    if (!jb(b)) {
      throw b + " is not a root relative URL!";
    }
    if (jb(c) || gb(c)) {
      throw c + " is not a relative URL!";
    }
    a = c.indexOf("#");
    -1 !== a && (d = c.substr(a));
    a = eb(db(fb(b), fb(c)));
    d && (a += d);
  }
  return a;
}
;function lb(a) {
  a = a[mb];
  if (!O(a)) {
    throw "Not html.json! " + JSON.stringify(a);
  }
  return a;
}
function nb(a) {
  a = lb(a)[0];
  return !O(a) && Q(a) ? a : null;
}
function ob(a) {
  var b = a[0];
  return O(a) && !O(b) && Q(b);
}
function pb(a) {
  return !O(a) && Q(a) ? !!a.TEMPLETE : ob(a) ? a[0].TEMPLETE || !1 : !1;
}
function qb(a) {
  return !O(a) && Q(a) ? !!a.MIXINS : ob(a) ? a[0].MIXINS || !1 : !1;
}
function rb(a, b, c, d, e) {
  function f(h) {
    if (h) {
      for (let l = 0; l < h.length; ++l) {
        const y = d[h[l]];
        n(y[sb], y[tb], !1);
      }
    }
  }
  function n(h, l, y) {
    let g = 0;
    for (const q in h) {
      if (!y && "MIXINS" === q) {
        throw "Mixin has MIXINS property!";
      }
      "TEMPLETE" === q ? (p = p || h[q], p === h[q] && ++g) : void 0 === a[q] && (a[q] = h[q], ++g);
    }
    (g || y) && t < l && (t = l);
  }
  var m = fb(a.URL);
  if (pb(a) && !c) {
    if (e) {
      e(m + " has TEMPLETE property, and no templetes found!");
      return;
    }
    throw m + " has TEMPLETE property, and no templetes found!";
  }
  if (qb(a) && !d) {
    if (e) {
      e(m + " has MIXINS property, and no mixins found!");
      return;
    }
    throw m + " has MIXINS property, and no mixins found!";
  }
  let p = a.TEMPLETE, t = a.MODIFIED_AT;
  f(a.MIXINS);
  for (p && (b[0] = p); p;) {
    m = c[p];
    if (!m) {
      throw "Templete: " + p + " required by " + fb(a.URL) + " not found!";
    }
    const h = nb(m);
    if (h) {
      if (qb(h) && !d) {
        if (e) {
          e(p + " has MIXINS property, and no mixins found!");
          return;
        }
        throw p + " has MIXINS property, and no mixins found!";
      }
      p = "";
      n(h, m[tb], !0);
      f(h.MIXINS);
      p && b.push(p);
    } else {
      p = "";
    }
  }
  a.UPDATED_AT = t;
}
function ub(a) {
  let b = cb(a).split(".json");
  if (b[b.length - 1]) {
    throw a + " is not .json file path!";
  }
  b.pop();
  b = b.join(".json").split("/");
  return b.pop().split(".").pop();
}
function vb(a) {
  return wb(a, function(b, c) {
    return ("SCRIPT" === b || "script" === b) && c && ("application/ld+json" === c.type || "application/json" === c.type || "nice-page-builder/object" === c.type) || !1;
  });
}
function xb(a, b) {
  return wb(a, function(c) {
    return "SLOT" === c || "slot" === c;
  }, b);
}
function wb(a, b, c) {
  function d(n) {
    let m = Ha(n), p = n.length;
    for (var t; m < p; ++m) {
      var h = n[m], l;
      if (l = O(h)) {
        a: {
          t = h;
          l = n;
          h = m;
          var y = t[0];
          const g = t[1];
          let q = y, v = 1;
          switch(y) {
            case 9:
            case 11:
            case 13:
            case 16:
              t = d(t);
              break a;
            case 1:
            case 17:
              q = g, v = 2;
            default:
              if (R(q)) {
                y = t[v];
                t = b(q, ya(y) ? y : null) ? [t, l, h] : d(t);
                break a;
              }
          }
          t = void 0;
        }
        l = t;
      }
      if (l) {
        return t;
      }
    }
  }
  let e = a[0], f;
  return !O(e) && Q(e) ? (a.shift(), f = d(a), !c && (a.unshift(e), f && f[1] === a) ? [f[0], a, ++f[2]] : f) : d(a);
}
;var yb = !1, zb = !1, Ab = !1, Bb = !1, Cb = !1, mb = 0, sb = 0, tb = 2;
function Y(a) {
  a = Db(a);
  yb && (a.html2json = yb);
  zb && (a.builder = zb);
  Ab && (a.json2json = Ab);
  Bb && (a.json2html = Bb);
  Cb && (a.json2html || (a.json2html = {}), a.json2html.stream = Cb.bind(a));
  return a;
}
function Db(a) {
  a = a || {};
  const b = require("path").resolve(a.srcRootPath || "./") + "/", c = new bb(a.urlOrigin || "", b), d = a.allPagesPath && ib(c, a.allPagesPath), e = a.allPageOptionsPath && ib(c, a.allPageOptionsPath), f = ib(c, a.allMixinsPath || "all-mixins.json"), n = ib(c, a.allTempletesPath || "all-templetes.json");
  return {eb:cb(b), Ya:d || "", Xa:e || "", jb:f, kb:n, cb:ub(n), bb:ub(f), pa:a.mixins || null, na:a.templetes || null, Ra:a.allPageOptions || null, Va:{}, wa:{}, path:c};
}
function Eb(a, b, c) {
  return a ? function() {
    var d = this || {};
    d.pause && d.resume && (b.pause = function() {
      d.pause();
      b.paused = d.paused;
    }, b.resume = function() {
      d.resume();
      b.paused = d.paused;
    });
    var e = c.apply(b, arguments);
    d.pause && d.resume && (b.pause = null);
    return e;
  } : c.bind(b);
}
function Fb(a, b, c, d) {
  if (c) {
    a = new Gb(a, b.URL);
    var e;
    if ("function" === typeof c) {
      return Eb(d, a, c);
    }
    b = {};
    for (e in c) {
      b[e] = Eb(d, a, c[e]);
    }
    return b;
  }
}
function Hb(a, b, c, d) {
  if (c) {
    a = new Gb(a, b.URL);
    var e;
    if ("function" === typeof c) {
      return Eb(d, a, c);
    }
    var f = [];
    b = 0;
    for (e = c.length; b < e; b += 2) {
      f[b] = c[b], f[b + 1] = Eb(d, a, c[b + 1]);
    }
    return f;
  }
}
function Ib(a, b, c) {
  if (c) {
    return c.bind(new Gb(a, b.URL));
  }
}
function Jb(a, b) {
  var c = a.Va[b];
  !c && a.Ra && (c = a.Ra[b]) && (c = JSON.parse(JSON.stringify(c)), c.URL = b, rb(c, [], a.na, a.pa), c = JSON.parse(JSON.stringify(c)), a.Va[b] = c);
  return c || null;
}
function Gb(a, b) {
  this.path = a.path;
  this.wa = a.wa;
  this.Na = b;
  this.ab = function(c) {
    c = kb(this.path, this.Na, c.split("#")[0]);
    return Jb(a, c);
  };
}
;yb = function(a, b, c, d) {
  a = Za(a, b, c, d);
  if (b = vb(a)) {
    c = b[0], b[1].splice(b[2], 1), c && 3 === c.length && (b = JSON.parse(c[2]), !O(b) && Q(b) && a.unshift(b));
  }
  return a;
};
function Kb(a, b) {
  const c = this, d = require("plugin-error"), e = require("vinyl"), f = require("through2"), n = {}, m = c.na = c.na || {}, p = c.pa = c.pa || {};
  return f.obj(function(t, h, l) {
    var y = cb(t.path);
    if (t.isNull()) {
      return l();
    }
    if (t.isStream()) {
      return this.emit("error", new d("NicePageBuilder.gulp.html2json", "Streaming not supported")), l();
    }
    if (0 !== y.indexOf(c.eb)) {
      return this.emit("error", new d("NicePageBuilder.gulp.html2json", '"' + y + '" is outside of srcRootPath:"' + c.eb + '"')), l();
    }
    const g = t.contents.toString(h);
    h = parseInt(t.stat.birthtimeMs, 10);
    const q = parseInt(t.stat.ctimeMs, 10);
    var v = c.path;
    if (!v.$) {
      throw "absoluteDirectoryPathOfRoot is empty!";
    }
    if (!hb(v, y)) {
      throw y + " is not a absolute path!";
    }
    y = cb(y).substr(v.$.length - 1);
    y = eb(y);
    switch(t.extname) {
      case ".html":
      case ".htm":
      case ".xhtml":
      case ".php":
        t = yb.call(c, g, !1, a, b);
        n[y] = [t, h, q];
        break;
      case ".json":
        t = JSON.parse(g);
        Q(t) && (p[y] = [t, h, q]);
        break;
      default:
        this.push(t);
    }
    l();
  }, function(t) {
    function h(w, k, G) {
      if (k) {
        for (let u = 0, z = k.length; u < z; ++u) {
          const E = kb(c.path, w, k[u]), D = p[E];
          k[u] = E;
          if (D) {
            const B = D[sb];
            G || l(E, B.TEMPLETE, B);
            D.length === tb + 1 && (D.push(!0), B.MIXINS && (console.log('Mixin:"' + E + '" cannot have MIXINS property!'), delete B.MIXINS));
          } else {
            throw 'Mixin:"' + E + '" required by "' + w + '" does not exist!';
          }
        }
      }
    }
    function l(w, k, G) {
      for (; k;) {
        k = kb(c.path, w, k);
        const u = n[k];
        if (u) {
          if (delete n[k], m[k] = u, G.TEMPLETE = w = k, G = nb(u)) {
            h(w, G.MIXINS, !!G.TEMPLETE), k = G.TEMPLETE;
          } else {
            break;
          }
        } else if (m[k]) {
          G.TEMPLETE = k;
          break;
        } else {
          throw 'Templete:"' + k + '" required by "' + w + '" does not exist!';
        }
      }
    }
    function y(w, k) {
      w = new e({base:"/", path:w, contents:Buffer.from(JSON.stringify(k))});
      w.extname = ".json";
      x.push(w);
    }
    for (var g in n) {
      var q = n[g], v = nb(q);
      v && (h(g, v.MIXINS, !!v.TEMPLETE), l(g, v.TEMPLETE, v), n[g] && q.push(!0));
    }
    for (var r in p) {
      g = p[r], g.length === tb + 1 ? (console.log("Unused mixin found! " + r), delete p[r]) : g.pop();
    }
    for (var C in n) {
      r = n[C], g = lb(r), r.length === tb + 1 && xb(g, !1) && (console.log("Unused templete found! " + C), delete n[C]);
    }
    const x = this;
    C = {};
    r = {};
    y(c.jb, p);
    y(c.kb, m);
    for (const w in n) {
      g = n[w];
      q = fb(w);
      delete n[w];
      v = g[mb];
      let k = v[0];
      k = !O(k) && Q(k) ? k : {};
      k.URL = w;
      k.CREATED_AT = g[1];
      k.MODIFIED_AT = g[tb];
      k !== v[0] && v.unshift(k);
      y(q + ".json", v);
      delete k.URL;
      C[w] = v;
      r[w] = k;
    }
    c.Ya && y(c.Ya, C);
    c.Ra = r;
    c.Xa && y(c.Xa, r);
    t();
  });
}
;zb = function(a, b, c) {
  if (!ob(a)) {
    return a;
  }
  const d = a[0], e = [];
  rb(d, e, b || this.na, c || this.pa);
  for (var f = a; e.length;) {
    a = e.shift();
    c = (b || this.na)[a];
    if (!c) {
      throw "Templete: " + a + " required by " + fb(d.URL) + " not found!";
    }
    a = void 0;
    c = lb(c);
    c = JSON.parse(JSON.stringify(c));
    var n = xb(c, !0);
    if (n) {
      const m = n[1];
      n = n[2];
      !O(f[0]) && Q(f[0]) && (a = f.shift());
      let p = Ha(f), t = f.length;
      m.splice(n, 1);
      for (n -= p; p < t; ++p) {
        m.splice(n + p, 0, f[p]);
      }
      a && c.unshift(a);
    }
    f = c;
  }
  delete d.TEMPLETE;
  delete d.MIXINS;
  return f;
};
function Lb() {
  const a = this, b = require("plugin-error"), c = require("vinyl"), d = require("through2"), e = {};
  let f = a.na, n = a.pa;
  return d.obj(function(m, p, t) {
    if (m.isNull()) {
      return t();
    }
    if (m.isStream()) {
      return this.emit("error", new b("NicePageBuilder.gulp.builder", "Streaming not supported")), t();
    }
    if (".json" !== m.extname) {
      return t(null, m);
    }
    p = m.contents.toString(p);
    p = JSON.parse(p);
    switch(m.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return e[p[0].URL] = p, t();
      case a.cb:
        !O(p) && Q(p) && (a.na && JSON.stringify(a.na) !== JSON.stringify(p) && console.log("NicePageBuilder.gulp.builder templete list changed!"), f = a.na = p);
        break;
      case a.bb:
        !O(p) && Q(p) && (a.pa && JSON.stringify(a.pa) !== JSON.stringify(p) && console.log("NicePageBuilder.gulp.builder templete list changed!"), n = a.pa = p);
    }
    t(null, m);
  }, function(m) {
    for (const p in e) {
      const t = zb.call(a, e[p], f, n);
      delete e[p];
      this.push(new c({base:"/", path:fb(p) + ".json", contents:Buffer.from(JSON.stringify(t))}));
    }
    m();
  });
}
;function Mb(a, b, c, d, e) {
  function f(w, k, G, u, z, E) {
    var D = w[0], B = w[1], A = 1, I = D, P;
    switch(D) {
      case 9:
      case 11:
        n(w, u, z, E);
        break;
      case 3:
        B = Ja("" + B, z, E, t, h, l);
        if ("" !== B) {
          k[G] = B;
        } else {
          return k.splice(G, 1), -1;
        }
        break;
      case 4:
        if (!y && k) {
          return k.splice(G, 1), -1;
        }
        break;
      case 8:
        if (!g && k) {
          return k.splice(G, 1), -1;
        }
        break;
      case 13:
        n(w, u, z, E);
        if (!q && k && 2 === w.length) {
          return k.splice(G, 1), -1;
        }
        break;
      case 15:
        w = k[G - 1];
        if (!q && w && 14 === w[0] && w) {
          return k.splice(G - 1, 2), -2;
        }
        break;
      case 16:
        n(w, u, z, E);
        if (!q && k && 2 === w.length) {
          return k.splice(G, 1), -1;
        }
        break;
      case 7:
        if (m) {
          if (w = za(m, w, k, G, p), void 0 !== w) {
            if (null === w || "" === w) {
              return k ? k.splice(G, 1) : (a.length = 0, a.push(8, "")), -1;
            }
            if (!T(w) && O(w)) {
              return -1;
            }
          } else {
            x = !1;
          }
        } else {
          p("onInstruction is void!");
        }
        break;
      case 1:
      case 17:
        I = B, A = 2;
      default:
        if (R(I)) {
          if (1 + A <= w.length) {
            k = w[A];
            if (ya(k)) {
              G = A - 1;
              E = 0;
              var L;
              D = Ma(w[G]);
              B = D[1];
              var N = D[2];
              D = D[0];
              for (F in k) {
                var S = F;
                var K = k[F];
                if (L = 0 === F.indexOf(v)) {
                  var F = F.substr(v.length);
                  "className" === F && (F = "class");
                  m ? K = Aa(!1, m, F, K, p) : p("onInstruction is void!");
                  if (void 0 !== K) {
                    if (delete k[S], O(K)) {
                      R(K[0]) ? (k[S] = K, x = !1, ++E) : p("Invalid dynamic attribute callback value! [" + S + "=" + K + "]");
                    } else if ((!ba[F] || !1 !== K) && null !== K) {
                      if (R(K)) {
                        if ("id" === F) {
                          B = K;
                          continue;
                        } else if ("class" === F) {
                          S = K.split(" ");
                          for (K = S.length; K;) {
                            L = S[--K], -1 === (" " + N + " ").indexOf(" " + L + " ") && (N = (N ? " " : "") + L);
                          }
                          continue;
                        }
                      }
                      k[F] = K;
                      ++E;
                    }
                  } else {
                    x = !1, ++E;
                  }
                } else {
                  ++E;
                }
              }
              w[G] = Na(D, B, N);
              0 === E && w.splice(A, 1);
            }
            r || (P = r = r || aa[I] ? !0 : 0 < I.indexOf(":"));
            A = !!sa[I];
            n(w, u, A || z, !!ra[I]);
            P && (r = !1);
          }
        } else {
          p("Not html.json! [" + w + "]");
        }
    }
    return 0;
  }
  function n(w, k, G, u) {
    var z = Ha(w);
    for (k.push(w); z < w.length; ++z) {
      var E = w[z];
      if (!T(E)) {
        if (O(E)) {
          if (E = f(E, w, z, k, G, u)) {
            z += E, C = !0;
          }
        } else {
          p("Invalid html.json! [" + E + "]");
        }
      }
    }
    k.pop();
  }
  var m = b || null;
  b = "function" === typeof c ? c : null;
  var p = "function" === typeof d ? d : function() {
  };
  d = e || {};
  var t = -1 !== ["normal", !0, "aggressive"].indexOf(d.trimWhitespaces), h = "aggressive" === d.trimWhitespaces, l = !!d.removeNewlineBetweenFullWidthChars, y = !1 !== d.keepCDATASections, g = !1 !== d.keepComments, q = !0 === d.keepEmptyConditionalComment, v = d.instructionAttrPrefix || ":", r = !1, C = !1, x = !0;
  if (O(a)) {
    return f(a, null, 0, [], !1, !1), C && Ia(a), b && Nb(b, a) && (x = Pa(a, v)), x;
  }
  p("Invalid html.json document!");
}
function Nb(a, b) {
  var c = Ca(b, !1);
  V = !1;
  a(c);
  if (a = V) {
    V = !1, b.length = 0, b.push.apply(b, Ta(c)), Ia(b);
  }
  return a;
}
;Ab = function(a, b, c, d, e, f) {
  let n, m;
  ob(a) && (n = a.shift(), m = Jb(this, n.URL), m || (m = JSON.parse(JSON.stringify(n)), (pb(m) || qb(m)) && rb(m, [], this.na, this.pa, e)), b = Fb(this, m, b, !1), Hb(this, m, c, !1), d = d ? d.bind(new Gb(this, m.URL)) : void 0, e = Ib(this, m, e));
  b = Mb(a, b, d, e, f);
  n && a.unshift(n);
  return b;
};
function Ob(a, b, c, d, e) {
  const f = this, n = require("plugin-error"), m = require("vinyl"), p = [];
  return require("through2").obj(function(t, h, l) {
    if (t.isNull()) {
      return l();
    }
    if (t.isStream()) {
      return this.emit("error", new n("NicePageBuilder.gulp.json2json", "Streaming not supported")), l();
    }
    if (".json" !== t.extname) {
      return this.push(t), l();
    }
    switch(t.stem.split(".").pop()) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return p.push(t, h), l();
      case f.cb:
        h = JSON.parse(t.contents.toString(h));
        !O(h) && Q(h) && (f.na && JSON.stringify(f.na) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json templete list changed!"), f.na = h);
        break;
      case f.bb:
        h = JSON.parse(t.contents.toString(h)), !O(h) && Q(h) && (f.pa && JSON.stringify(f.pa) !== JSON.stringify(h) && console.log("NicePageBuilder.gulp.json2json mixin list changed!"), f.pa = h);
    }
    l(null, t);
  }, function(t) {
    for (; p.length;) {
      const l = p.shift();
      var h = p.shift();
      h = JSON.parse(l.contents.toString(h));
      Ab.call(f, h, a, b, c, d, e);
      l.contents = Buffer.from(JSON.stringify(h));
      this.push(l);
    }
    for (const l in f.wa) {
      this.push(new m({base:"/", path:l, contents:Buffer.from(JSON.stringify(f.wa[l]))}));
    }
    t();
  });
}
;function Qb(a, b, c, d, e) {
  function f(r, C, x, w, k, G) {
    function u() {
      var L = "";
      q && (L = "</" + (v ? q : q.toLowerCase()) + ">", q = "");
      return L;
    }
    var z = t ? Ba(r, x, t) : null;
    x = "";
    var E = r[0], D = r[1], B = 1, A = E, I;
    switch(E) {
      case 9:
        x = D + n(r, z, !1, G);
        break;
      case 11:
        x = n(r, z, k, G);
        break;
      case 3:
        x = u() + (G ? D : U("" + D));
        break;
      case 4:
        R(D) || h("CDATA_SECTION Error! [" + r + "]");
        x = "<![CDATA[" + U("" + D) + "]]\x3e";
        break;
      case 8:
        R(D) || h("COMMENT_NODE Error! [" + r + "]");
        x = "\x3c!--" + U("" + D) + "--\x3e";
        break;
      case 13:
        R(D) || h("COND_CMT_HIDE_LOWER Error! [" + r + "]");
        x = u() + "\x3c!--[" + D + "]>" + n(r, z, !0, G) + "<![endif]--\x3e";
        break;
      case 16:
        R(D) || h("NETSCAPE4_COND_CMT_HIDE_LOWER Error! [" + r + "]");
        x = u() + "\x3c!--{" + D + "};" + n(r, z, !0, G) + "--\x3e";
        break;
      case 14:
        R(D) || h("COND_CMT_SHOW_LOWER_START Error! [" + r + "]");
        x = "\x3c!--[" + D + "]>\x3c!--\x3e";
        break;
      case 15:
        x = "\x3c!--<![endif]--\x3e";
        break;
      case 7:
        if (p) {
          if (k = za(p, r, C, w, h), void 0 !== k && null !== k && "" !== k) {
            if (T(k) || O(k)) {
              return -1;
            }
            h("PROCESSING_INSTRUCTION Error! [" + JSON.stringify(r) + "] result:" + JSON.stringify(k));
          }
        } else {
          h("onInstruction is void!");
        }
        break;
      case 18:
        R(D) || h("ELEMENT_END_TAG Error! [" + r + "]");
        x = "</" + D + ">";
        break;
      case 17:
        var P = !0;
      case 1:
        A = r[1], B = 2;
      default:
        R(A) || h("Not html.json! [" + r + "]"), A = Ma(A), C = A[1], w = A[2], A = A[0], B = r[B], "P" !== q || pa[A] ? q = "" : x = u(), v || (I = v = v || aa[A] ? !0 : 0 < A.indexOf(":")), x += "<" + (v ? A : A.toLowerCase()), C && (x += " id=" + Fa(C, y, v || l)), w && (x += " class=" + Fa(w, y, v || l)), ya(B) && (x += m(B)), x = (r = n(r, z, oa[A], G || qa[A])) ? x + (">" + r) : P ? x + ">" : x + (v ? " />" : ">"), P && (q = ""), !r && ca[A] ? q = "" : v && !r || na[A] && (!k || "P" !== A) ? 
        q = A : (x += "</" + (v ? A : A.toLowerCase()) + ">", q = ""), I && (v = !1);
    }
    return x;
  }
  function n(r, C, x, w) {
    for (var k = [], G = Ha(r), u = -1, z; G < r.length; ++G) {
      z = r[G], T(z) ? k[++u] = f([3, z], r, C, G, !1, w) : O(z) ? (z = f(z, r, C, G, x, w), -1 === z ? --G : k[++u] = z) : h("Invalid html.json! [" + z + "]");
    }
    return k.join("");
  }
  function m(r) {
    var C = "", x, w;
    for (x in r) {
      var k = r[x];
      (w = 0 === x.indexOf(g)) && (x = x.substr(g.length));
      "className" === x && (x = "class");
      w && (p ? k = Aa(!0, p, x, k, h) : h("onInstruction is void!"));
      if (!(null == k || ba[x] && !1 === k || (C += " " + x, ba[x] || !0 === k))) {
        if ("style" === x && Q(k) && (k = Oa(k), !k)) {
          continue;
        }
        C += "=" + Fa(k, y, v || l);
      }
    }
    return C;
  }
  var p = b || null, t = c || null, h = "function" === typeof d ? d : function() {
  };
  b = e || {};
  var l = !0 === b.quotAlways, y = !0 === b.useSingleQuot, g = b.instructionAttrPrefix || ":", q, v = va;
  if (O(a)) {
    return 7 === xa(a) && (a = [11, a]), f(a, null, null, 0, ta || !1, ua || !1);
  }
  h("Invalid html.json document!");
}
;Bb = function(a, b, c, d, e) {
  if (ob(a)) {
    const f = a.shift();
    if (pb(f) || qb(f)) {
      throw fb(f.URL) + " is not complete document! Use nicePageBuilder.builder() before json2html().";
    }
    b = Fb(this, f, b, !1);
    c = Hb(this, f, c, !1);
    d = Ib(this, f, d);
  }
  return Qb(a, b, c, d, e) || "";
};
function Rb(a, b, c, d) {
  const e = this, f = require("plugin-error"), n = require("vinyl"), m = [];
  return require("through2").obj(function(p, t, h) {
    if (p.isNull()) {
      return h();
    }
    if (p.isStream()) {
      return this.emit("error", new f("NicePageBuilder.gulp.json2html", "Streaming not supported")), h();
    }
    if (".json" !== p.extname) {
      return h(null, p);
    }
    const l = p.stem.split(".").pop();
    switch(l) {
      case "html":
      case "htm":
      case "xhtml":
      case "php":
        return m.push(p, t, l), h();
    }
    h(null, p);
  }, function(p) {
    for (; m.length;) {
      const h = m.shift();
      var t = m.shift();
      const l = m.shift();
      t = JSON.parse(h.contents.toString(t));
      const y = h.path.split(".json");
      y.pop();
      h.path = y.join(".json");
      h.contents = Buffer.from(Bb.call(e, t, a, b, c, d));
      h.extname = "." + l;
      this.push(h);
    }
    for (const h in e.wa) {
      this.push(new n({base:"/", path:h, contents:Buffer.from(JSON.stringify(e.wa[h]))}));
    }
    p();
  });
}
;const Sb = Buffer.from ? Buffer.from : (...a) => new Buffer(...a), Tb = Buffer.alloc ? Buffer.alloc : (...a) => new Buffer(...a);
var Ub = {ub:1, Db:2, vb:3, Eb:4, mb:5, nb:6, Ob:7, ob:8, wb:9, Hb:10, Ab:11, Fb:17, Gb:18, Pb:33, Qb:34, Rb:35, pb:49, qb:50, rb:51, sb:52, xb:65, yb:66, zb:67, Bb:81, Cb:83, Ib:97, Jb:98, Kb:99, Lb:100, Mb:101, Nb:102, Sb:113, tb:114, OBJECT:129, lb:130};
function Vb() {
  this.ea = void 0;
  this.ka = [];
  this.$ = 17;
  this.ba = void 0;
  this.Fa = Tb(65536);
  this.da = 0;
  this.la = this.qa = this.ua = this.Ca = void 0;
  this.ma = 113;
  this.ca = this.Aa = 0;
  this.Ma = {2:Tb(2), 3:Tb(3), 4:Tb(4)};
}
function Wb(a) {
  for (var b = Object.keys(Ub), c = 0, d = b.length; c < d; c++) {
    var e = b[c];
    if (Ub[e] === a) {
      return e;
    }
  }
  return a && "0x" + a.toString(16);
}
function Z(a, b, c) {
  a.$ = 18;
  a.Ea(Error("Unexpected " + JSON.stringify(String.fromCharCode(b[c])) + " at position " + c + " in state " + Wb(a.$)));
}
function Xb(a, b) {
  65536 <= a.da && (a.ba += a.Fa.toString("utf8"), a.da = 0);
  a.Fa[a.da++] = b;
}
function Yb(a, b, c, d) {
  var e = b.length;
  "number" === typeof c && (e = "number" === typeof d ? 0 > d ? b.length - c + d : d - c : b.length - c);
  0 > e && (e = 0);
  65536 < a.da + e && (a.ba += a.Fa.toString("utf8", 0, a.da), a.da = 0);
  b.copy(a.Fa, a.da, c, d);
  a.da += e;
}
Vb.prototype.write = function(a) {
  "string" === typeof a && (a = Sb(a));
  for (var b, c = 0, d = a.length; c < d; c++) {
    switch(this.$) {
      case 17:
        b = a[c];
        switch(b) {
          case 123:
            this.fa(1, "{");
            break;
          case 125:
            this.fa(2, "}");
            break;
          case 91:
            this.fa(3, "[");
            break;
          case 93:
            this.fa(4, "]");
            break;
          case 58:
            this.fa(5, ":");
            break;
          case 44:
            this.fa(6, ",");
            break;
          case 116:
            this.$ = 33;
            break;
          case 102:
            this.$ = 49;
            break;
          case 110:
            this.$ = 65;
            break;
          case 34:
            this.ba = "";
            this.da = 0;
            this.$ = 97;
            break;
          case 45:
            this.ba = "-";
            this.$ = 81;
            break;
          default:
            if (48 <= b && 64 > b) {
              this.ba = String.fromCharCode(b), this.$ = 83;
            } else if (32 !== b && 9 !== b && 10 !== b && 13 !== b) {
              return Z(this, a, c);
            }
        }break;
      case 97:
        b = a[c];
        if (0 < this.Aa) {
          for (b = 0; b < this.Aa; b++) {
            this.Ma[this.ca][this.ca - this.Aa + b] = a[b];
          }
          Yb(this, this.Ma[this.ca]);
          this.ca = this.Aa = 0;
          c = c + b - 1;
        } else if (0 === this.Aa && 128 <= b) {
          if (193 >= b || 244 < b) {
            return this.Ea(Error("Invalid UTF-8 character at position " + c + " in state " + Wb(this.$)));
          }
          194 <= b && 223 >= b && (this.ca = 2);
          224 <= b && 239 >= b && (this.ca = 3);
          240 <= b && 244 >= b && (this.ca = 4);
          if (this.ca + c > a.length) {
            for (b = 0; b <= a.length - 1 - c; b++) {
              this.Ma[this.ca][b] = a[c + b];
            }
            this.Aa = c + this.ca - a.length;
            c = a.length - 1;
          } else {
            Yb(this, a, c, c + this.ca), c = c + this.ca - 1;
          }
        } else if (34 === b) {
          this.$ = 17, this.ba += this.Fa.toString("utf8", 0, this.da), this.da = 0, this.fa(10, this.ba), Buffer.byteLength(this.ba, "utf8"), this.ba = void 0;
        } else if (92 === b) {
          this.$ = 98;
        } else if (32 <= b) {
          Xb(this, b);
        } else {
          return Z(this, a, c);
        }
        break;
      case 98:
        b = a[c];
        switch(b) {
          case 34:
            Xb(this, b);
            this.$ = 97;
            break;
          case 92:
            Xb(this, 92);
            this.$ = 97;
            break;
          case 47:
            Xb(this, 47);
            this.$ = 97;
            break;
          case 98:
            Xb(this, 8);
            this.$ = 97;
            break;
          case 102:
            Xb(this, 12);
            this.$ = 97;
            break;
          case 110:
            Xb(this, 10);
            this.$ = 97;
            break;
          case 114:
            Xb(this, 13);
            this.$ = 97;
            break;
          case 116:
            Xb(this, 9);
            this.$ = 97;
            break;
          case 117:
            this.Ca = "";
            this.$ = 99;
            break;
          default:
            return Z(this, a, c);
        }break;
      case 99:
      case 100:
      case 101:
      case 102:
        b = a[c];
        if (48 <= b && 64 > b || 64 < b && 70 >= b || 96 < b && 102 >= b) {
          this.Ca += String.fromCharCode(b), 102 === this.$++ && (b = parseInt(this.Ca, 16), this.Ca = void 0, void 0 !== this.ua && 56320 <= b && 57344 > b ? (Yb(this, Sb(String.fromCharCode(this.ua, b))), this.ua = void 0) : void 0 === this.ua && 55296 <= b && 56320 > b ? this.ua = b : (void 0 !== this.ua && (Yb(this, Sb(String.fromCharCode(this.ua))), this.ua = void 0), Yb(this, Sb(String.fromCharCode(b)))), this.$ = 97);
        } else {
          return Z(this, a, c);
        }
        break;
      case 81:
      case 83:
        b = a[c];
        switch(b) {
          case 48:
          case 49:
          case 50:
          case 51:
          case 52:
          case 53:
          case 54:
          case 55:
          case 56:
          case 57:
          case 46:
          case 101:
          case 69:
          case 43:
          case 45:
            this.ba += String.fromCharCode(b);
            this.$ = 83;
            break;
          default:
            this.$ = 17;
            b = Number(this.ba);
            if (isNaN(b)) {
              return Z(this, a, c);
            }
            this.ba.match(/[0-9]+/) == this.ba && b.toString() != this.ba ? this.fa(10, this.ba) : this.fa(11, b);
            this.ba = void 0;
            c--;
        }break;
      case 33:
        if (114 === a[c]) {
          this.$ = 34;
        } else {
          return Z(this, a, c);
        }
        break;
      case 34:
        if (117 === a[c]) {
          this.$ = 35;
        } else {
          return Z(this, a, c);
        }
        break;
      case 35:
        if (101 === a[c]) {
          this.$ = 17, this.fa(7, !0);
        } else {
          return Z(this, a, c);
        }
        break;
      case 49:
        if (97 === a[c]) {
          this.$ = 50;
        } else {
          return Z(this, a, c);
        }
        break;
      case 50:
        if (108 === a[c]) {
          this.$ = 51;
        } else {
          return Z(this, a, c);
        }
        break;
      case 51:
        if (115 === a[c]) {
          this.$ = 52;
        } else {
          return Z(this, a, c);
        }
        break;
      case 52:
        if (101 === a[c]) {
          this.$ = 17, this.fa(8, !1);
        } else {
          return Z(this, a, c);
        }
        break;
      case 65:
        if (117 === a[c]) {
          this.$ = 66;
        } else {
          return Z(this, a, c);
        }
        break;
      case 66:
        if (108 === a[c]) {
          this.$ = 67;
        } else {
          return Z(this, a, c);
        }
        break;
      case 67:
        if (108 === a[c]) {
          this.$ = 17, this.fa(9, null);
        } else {
          return Z(this, a, c);
        }
    }
  }
};
function Zb(a, b, c) {
  a.$ = 18;
  a.Ea(Error("Unexpected " + Wb(b) + (c ? "(" + JSON.stringify(c) + ")" : "") + " in state " + Wb(a.ma)));
}
function $b(a) {
  a.ka.push({ea:a.ea, qa:a.qa, la:a.la});
}
function ac(a) {
  var b = a.ea, c = a.ka.pop();
  a.ea = c.ea;
  a.qa = c.qa;
  a.la = c.la;
  a.emit(b);
  a.la || (a.ma = 113);
}
Vb.prototype.emit = function() {
  this.la && (this.ma = 6);
};
Vb.prototype.fa = function(a, b) {
  switch(this.ma) {
    case 113:
      switch(a) {
        case 10:
        case 11:
        case 7:
        case 8:
        case 9:
          this.ea && (this.ea[this.qa] = b);
          this.emit(b);
          break;
        case 1:
          $b(this);
          this.ea = this.ea ? this.ea[this.qa] = {} : {};
          this.qa = void 0;
          this.ma = 114;
          this.la = 129;
          break;
        case 3:
          $b(this);
          this.ea = this.ea ? this.ea[this.qa] = [] : [];
          this.qa = 0;
          this.la = 130;
          this.ma = 113;
          break;
        case 2:
          if (129 === this.la) {
            ac(this);
          } else {
            return Zb(this, a, b);
          }
          break;
        case 4:
          if (130 === this.la) {
            ac(this);
          } else {
            return Zb(this, a, b);
          }
          break;
        default:
          return Zb(this, a, b);
      }break;
    case 114:
      if (10 === a) {
        this.qa = b, this.ma = 5;
      } else if (2 === a) {
        ac(this);
      } else {
        return Zb(this, a, b);
      }
      break;
    case 5:
      if (5 === a) {
        this.ma = 113;
      } else {
        return Zb(this, a, b);
      }
      break;
    case 6:
      if (6 === a) {
        130 === this.la ? (this.qa++, this.ma = 113) : 129 === this.la && (this.ma = 114);
      } else if (4 === a && 130 === this.la || 2 === a && 129 === this.la) {
        ac(this);
      } else {
        return Zb(this, a, b);
      }
      break;
    default:
      return Zb(this, a, b);
  }
};
var bc = require("node:stream");
function cc(a) {
  for (var b = a.Oa; b.length && !a.paused;) {
    var c = b.shift();
    null === c ? a.emit("end") : a.emit("data", c);
  }
}
function dc(a) {
  if (a.paused) {
    a.on("resume", () => dc(a));
  } else {
    a.writable && (a.writable = !1, a.hb.call(a), !a.readable && a.Za && a.destroy());
  }
}
function ec(a, b) {
  a.Wa || (null === b && (a.Wa = !0), a.Oa.push(b), cc(a));
}
var hc = class extends bc {
  constructor() {
    var a = fc, b = gc;
    super();
    this.ib = a;
    this.hb = b;
    this.$a = this.paused = this.Wa = this.ended = !1;
    this.Za = this.readable = this.writable = !0;
    this.Oa = [];
    this.on("end", () => {
      this.readable = !1;
      !this.writable && this.Za && process.nextTick(() => this.destroy());
    });
  }
  write(a) {
    this.ib.call(this, a);
    return !this.paused;
  }
  end(a) {
    this.ended || (this.ended = !0, arguments.length && this.write(a), dc(this));
  }
  destroy() {
    this.$a || (this.ended = this.$a = !0, this.Oa.length = 0, this.writable = this.readable = !1, this.emit("close"));
  }
  pause() {
    this.paused || (this.paused = !0);
  }
  resume() {
    this.paused && (this.paused = !1, this.emit("resume"));
    cc(this);
    this.paused || this.emit("drain");
  }
};
function ic(a, b, c, d) {
  const e = new Vb(), f = new hc();
  d = d || {};
  f.xa = e;
  e.ha = f;
  e.ra = e.fa;
  e.fa = jc;
  e.Ea = kc;
  e.Pa = 0;
  e.gb = [];
  e.ga = [];
  e.ta = "function" === typeof c ? c : function() {
  };
  e.Ka = !!d.quotAlways;
  e.La = !!d.useSingleQuot;
  e.Sa = d.instructionAttrPrefix || ":";
  e.ja = a;
  e.Ta = b;
  f.on("resume", lc);
  e.Da = "";
  return f;
}
function fc(a) {
  "string" === typeof a && (a = Sb(a));
  this.xa.write(a);
}
function gc(a) {
  a && this.write(a);
  43 !== this.xa.Pa && this.emit("error", "Invalid html.json");
  ec(this, null);
  this.xa = this.xa.ha = null;
}
function lc() {
  for (var a = this.xa, b = a.Ba; b.length && (jc.call(a, b.shift(), b.shift()), !this.paused);) {
  }
  b.length || (a.Ba = null);
}
function kc(a) {
  -1 < a.message.indexOf("at position") && (a.message = "Invalid JSON (" + a.message + ")");
  this.ta(a.message);
  this.ha.emit("error", a);
}
function jc(a, b) {
  function c() {
    g.Ba ? g.Ba.unshift(a, b) : g.Ba = [a, b];
  }
  function d() {
    if (g.ja) {
      let r;
      "function" === typeof g.ja ? r = g.ga.length ? g.ja.call(g.ha, g.oa, g.ga) : g.ja.call(g.ha, g.oa) : r = g.ga.length ? g.ja[g.oa].apply(g.ha, g.ga) : g.ja[g.oa].call(g.ha);
      if (g.ha.paused) {
        c();
        return;
      }
      g.oa = null;
      g.ga.length = 0;
      return r;
    }
    g.Ea("onInstruction is void!");
    return "";
  }
  function e() {
    if (g.ja) {
      const r = Aa(!0, g.ja, g.ya, [g.oa].concat(g.ga), g.ta, g.ha);
      if (g.ha.paused) {
        c();
        return;
      }
      g.oa = null;
      g.ga.length = 0;
      return r;
    }
    g.Ea("onInstruction is void!");
    return "";
  }
  function f(r) {
    if (null != r) {
      if (ba[g.ya]) {
        if (!1 !== r) {
          return " " + g.ya;
        }
      } else {
        return !0 === r ? " " + g.ya : " " + g.ya + "=" + Fa(r, g.La, g.ia || g.Ka);
      }
    }
    return "";
  }
  function n(r) {
    const C = h.pop();
    l = h.length ? 42 : 43;
    switch(C) {
      case 13:
        v = "<![endif]--\x3e";
        break;
      case 4:
        v = "]]\x3e";
        break;
      case 16:
      case 8:
        v = "--\x3e";
        break;
      default:
        "" === C ? (v = r ? "" : ">", g.sa = "", m()) : R(C) && (v = r ? "" : g.Ua || g.ia ? " />" : ">", !r && ca[C] ? g.sa = "" : (g.Ua || g.ia) && !r || na[C] && (!g.va || "P" !== C) ? g.sa = C : (v += "</" + (g.ia ? C : C.toLowerCase()) + ">", g.sa = ""), m());
    }
  }
  function m() {
    g.va = g.za = g.ia = !1;
    for (let r = 0, C = h.length; r < C; ++r) {
      const x = h[r];
      13 === x || 16 === x ? g.va = !0 : R(x) && (r === C - 1 && (g.va = g.va || oa[x]), qa[x] && (g.za = !0), aa[x] || 0 < x.indexOf(":")) && (g.ia = !0);
    }
  }
  function p() {
    return y ? (y = !1, ">") : "";
  }
  function t() {
    let r = "";
    g.sa && (r = "</" + (g.ia ? g.sa : g.sa.toLowerCase()) + ">", g.sa = "");
    return r;
  }
  if (this.ha.paused) {
    this.Ba.push(a, b);
  } else {
    if (5 === a || 6 === a) {
      this.ka.length && this.ra(a, b);
    } else {
      var h = this.gb, l = this.Pa, y = !1, g = this;
      switch(l) {
        case 39:
          switch(a) {
            case 3:
            case 1:
              this.ra(a, b);
              return;
            case 4:
              if (0 === this.ka.length) {
                var q = d();
                if (this.ha.paused) {
                  return;
                }
                if (O(q)) {
                  ta = this.va;
                  ua = this.za;
                  va = this.Ua || this.ia;
                  var v = Qb(q, this.ja, this.Ta, this.ta, {quotAlways:this.Ka, useSingleQuot:this.La, instructionAttrPrefix:this.Sa});
                  ta = ua = va = !1;
                } else {
                  v = T(q) ? "" + q : "";
                }
                n(!!v);
                break;
              }
            case 2:
              1 === this.ka.length && (this.ga.push(this.ea), this.ea = null);
              this.ra(a, b);
              return;
            case 10:
            case 11:
            case 7:
            case 8:
            case 9:
              this.ka.length ? this.ra(a, b) : this.ga.push(b);
              return;
            default:
              l = -1;
          }break;
        case 36:
          switch(a) {
            case 3:
            case 1:
              this.ra(a, b);
              return;
            case 4:
              if (0 === this.ka.length) {
                v = e();
                if (this.ha.paused) {
                  return;
                }
                v = f(v);
                l = 31;
                break;
              }
            case 2:
              1 === this.ka.length && (this.ga.push(this.ea), this.ea = null);
              this.ra(a, b);
              return;
            case 10:
              if (0 === this.ka.length && !this.oa) {
                this.oa = b;
                return;
              }
            case 11:
            case 7:
            case 8:
            case 9:
              this.ka.length ? this.ra(a, b) : this.ga.push(b);
              return;
            default:
              l = -1;
          }break;
        default:
          switch(a) {
            case 3:
              switch(l) {
                case 30:
                case 41:
                  y = R(h[h.length - 1]);
                case 0:
                case 42:
                  q = 0;
                  break;
                case 40:
                  q = 36;
                  break;
                default:
                  q = -1;
              }break;
            case 4:
              q = 30 === l || 41 === l ? 38 : 42 === l || 37 === l ? 37 : -1;
              break;
            case 1:
              q = 30 === l ? 30 : 33 === l ? 33 : -1;
              break;
            case 2:
              q = 31 === l ? 39 : 34 === l ? 40 : -1;
              break;
            case 10:
              switch(l) {
                case 38:
                case 27:
                  q = 27;
                  break;
                case 28:
                  q = 28;
                  break;
                case 29:
                  q = 29;
                  break;
                case 19:
                  q = 19;
                  break;
                case 20:
                  q = 20;
                  break;
                case 21:
                  q = 21;
                  break;
                case 22:
                  q = 22;
                  break;
                case 23:
                  q = 23;
                  break;
                case 25:
                  q = 25;
                  break;
                case 24:
                  q = 24;
                  break;
                case 31:
                  q = 31;
                  break;
                case 32:
                  q = 32;
                  break;
                case 33:
                  q = 33;
                  break;
                case 34:
                  q = 34;
                  break;
                case 35:
                  q = 35;
                  break;
                case 30:
                case 41:
                  y = R(h[h.length - 1]);
                case 42:
                  q = 41;
                  break;
                case 26:
                  q = 26;
                  break;
                case 40:
                  q = 42;
                  break;
                default:
                  q = -1;
              }break;
            case 11:
              switch(l) {
                case 38:
                  q = b;
                  break;
                case 32:
                  q = 32;
                  break;
                case 35:
                  q = 35;
                  break;
                case 20:
                  q = 20;
                  break;
                case 30:
                case 41:
                  y = R(h[h.length - 1]);
                case 42:
                  q = 41;
                  break;
                case 21:
                  q = 21;
                  break;
                case 22:
                  q = 22;
                  break;
                default:
                  q = -1;
              }break;
            case 7:
            case 8:
            case 9:
              q = 32 === l ? 32 : -1;
              break;
            default:
              q = -1;
          }switch(q) {
            case 0:
              v = p();
              l = 38;
              break;
            case 9:
              l = 19;
              h.push(9);
              break;
            case 19:
              v = b;
              l = 41;
              break;
            case 11:
              l = 41;
              h.push(11);
              break;
            case 1:
              l = 27;
              break;
            case 17:
              l = 28;
              break;
            case 27:
            case 28:
              let r = Ma(b);
              const C = r[1], x = r[2];
              r = r[0];
              "P" !== this.sa || pa[r] ? this.sa = v = "" : v = t();
              28 === q ? h.push("") : h.push(r);
              m();
              v += "<" + (this.ia ? r : r.toLowerCase());
              C && (v += " id=" + Fa(C, this.La, this.ia || this.Ka));
              x && (v += " class=" + Fa(x, this.La, this.ia || this.Ka));
              this.va || (this.va = !!oa[r]);
              this.za || (this.za = !!qa[r]);
              l = 30;
              break;
            case 30:
              l = 31;
              break;
            case 31:
              0 === b.indexOf(this.Sa) ? (this.ya = b.substr(this.Sa.length), l = 40) : (this.ya = b, l = "style" === b ? 33 : 32);
              break;
            case 36:
              l = 36;
              break;
            case 42:
              if (this.oa = b, b = e(), this.ha.paused) {
                return;
              }
            case 32:
              v = f(b);
              l = 31;
              break;
            case 39:
              l = 41;
              break;
            case 33:
              l = 34;
              break;
            case 34:
              this.fb = b;
              l = 35;
              break;
            case 35:
              "" !== b && null !== b && (this.Da += ";" + Ga(this.fb) + ":" + b);
              l = 34;
              break;
            case 40:
              this.Da && (v = f(this.Da.substr(1)), this.Da = "");
              l = 31;
              break;
            case 37:
              n(!0);
              break;
            case 38:
              n(!1);
              break;
            case 18:
              l = 29;
              h.push(18);
              break;
            case 29:
              v = "</" + (this.ia ? b : b.toLowerCase()) + ">";
              l = 37;
              break;
            case 3:
              l = 20;
              h.push(3);
              break;
            case 20:
              v = t() + (g.za ? "" + b : U("" + b));
              l = 37;
              break;
            case 41:
              v = p() + t() + (g.za ? "" + b : U("" + b));
              l = 42;
              break;
            case 4:
              v = "<![CDATA[";
              l = 21;
              h.push(4);
              break;
            case 21:
              v = U("" + b);
              l = 37;
              break;
            case 8:
              v = "\x3c!--";
              l = 22;
              h.push(8);
              break;
            case 22:
              v = U("" + b);
              l = 37;
              break;
            case 13:
              v = t() + "\x3c!--[";
              l = 23;
              h.push(13);
              break;
            case 23:
              v = b + "]>";
              l = 41;
              break;
            case 16:
              v = t() + "\x3c!--{";
              l = 25;
              h.push(16);
              break;
            case 25:
              v = b + "};";
              l = 41;
              break;
            case 14:
              v = "\x3c!--[";
              l = 24;
              h.push(14);
              break;
            case 24:
              v = b + "]>\x3c!--\x3e";
              l = 37;
              break;
            case 15:
              v = "\x3c!--<![endif]--\x3e";
              l = 37;
              h.push(15);
              break;
            case 7:
              l = 26;
              h.push(7);
              break;
            case 26:
              this.oa = b;
              l = 39;
              break;
            default:
              l = -1;
          }
      }
      -1 === l ? (this.ta("Not html.json format!"), this.ha.emit("error", "Not html.json format!")) : (this.Pa = l, v && ec(this.ha, v));
    }
  }
}
;Cb = function(a, b, c, d) {
  a = ic(a, b, c, d);
  b = a.xa;
  b.Qa = b.fa;
  b.fa = mc;
  b.Ga = this;
  b.Ha = 0;
  return a;
};
function mc(a, b) {
  function c() {
    d.fa = d.Qa;
    delete d.Qa;
    delete d.Ga;
  }
  const d = this;
  switch(this.Ha) {
    case 0:
      3 === a ? (this.Ha = 1, this.Qa(a, b)) : (this.ta("Not html.json format!"), this.ha.emit("error", "Not html.json format!"));
      break;
    case 1:
      1 === a ? (this.Ha = 2, this.ra(a, b)) : (c(), this.fa(a, b));
      break;
    case 2:
      if (2 === a && 1 === this.ka.length) {
        this.Ha = 3;
        const e = this.ea;
        this.ea = null;
        if (pb(e) || qb(e)) {
          throw fb(e.URL) + " is not complete document! Use nicePageBuilder.builder() before json2html().";
        }
        this.ja = Fb(this.Ga, e, this.ja, !0);
        this.Ta = Hb(this.Ga, e, this.Ta, !0);
        this.ta = Ib(this.Ga, e, this.ta);
      }
      this.ra(a, b);
      break;
    case 3:
      6 === a ? c() : 4 === a ? (c(), this.fa(a, b)) : (this.ta("Not html.json format!"), this.ha.emit("error", "Not html.json format!"));
  }
}
;module.exports = Y;
Y.DOCUMENT_NODE = 9;
Y.DOCUMENT_FRAGMENT_NODE = 11;
Y.ELEMENT_NODE = 1;
Y.TEXT_NODE = 3;
Y.CDATA_SECTION = 4;
Y.PROCESSING_INSTRUCTION = 7;
Y.COMMENT_NODE = 8;
Y.COND_CMT_HIDE_LOWER = 13;
Y.COND_CMT_SHOW_LOWER_START = 14;
Y.NETSCAPE4_COND_CMT_HIDE_LOWER = 16;
Y.ELEMENT_START_TAG = 17;
Y.ELEMENT_END_TAG = 18;
module.exports.gulp = function(a) {
  a = Db(a);
  yb && (a.html2json = Kb);
  zb && (a.builder = Lb);
  Ab && (a.json2json = Ob);
  Bb && (a.json2html = Rb);
  Cb && (a.json2html || (a.json2html = {}), a.json2html.stream = Cb.bind(a));
  return a;
};
module.exports.onInstruction = module.exports.onInstruction || {};
var nc = new Date();
module.exports.onInstruction[1] = {title:function() {
  var a = this.ab(this.Na);
  return a ? a.title : "";
}, date:function(a, b, c) {
  return nc.toLocaleString() + a + b.aa + c;
}};
module.exports.onInstruction = module.exports.onInstruction || {};
var oc = new Date(), pc = !0;
module.exports.onInstruction[2] = {title:function() {
  var a = this.ab(this.Na);
  return a ? a.title : "";
}, date:function(a, b, c) {
  if (pc && this.pause) {
    this.pause(), setTimeout(() => {
      pc = !1;
      this.resume();
    }, 1000);
  } else {
    return oc.toLocaleString() + a + b.aa + c;
  }
}};

